  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "password_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:37:55) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 22ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 19:37:57) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (15.5ms)
Completed in 30ms (View: 23, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 19:38:09) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"1234", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"1234"}}
WARNING: Can't mass-assign these protected attributes: password_confirmation

NoMethodError (undefined method `persistence_token=' for #<User:0x1034143b8>):
  authlogic (2.1.6) lib/authlogic/acts_as_authentic/persistence_token.rb:50:in `reset_persistence_token'
  authlogic (2.1.6) lib/authlogic/acts_as_authentic/password.rb:199:in `after_password_set'
  authlogic (2.1.6) lib/authlogic/acts_as_authentic/password.rb:242:in `password='
  app/controllers/users_controller.rb:15:in `new'
  app/controllers/users_controller.rb:15:in `create'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (97.7ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:38:29) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 9ms (View: 2, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:38:32) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 8ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 19:41:21) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (3.9ms)
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:41:26) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 8ms (View: 1, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 19:43:50) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.1ms)
Completed in 13ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 19:44:02) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"123456", "role"=>"Admin", "username"=>"Tyler Catalana", "password"=>"123456"}}

NoMethodError (undefined method `persistence_token=' for #<User:0x10367b1d8>):
  authlogic (2.1.6) lib/authlogic/acts_as_authentic/persistence_token.rb:50:in `reset_persistence_token'
  authlogic (2.1.6) lib/authlogic/acts_as_authentic/password.rb:199:in `after_password_set'
  authlogic (2.1.6) lib/authlogic/acts_as_authentic/password.rb:242:in `password='
  app/controllers/users_controller.rb:15:in `new'
  app/controllers/users_controller.rb:15:in `create'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (36.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 19:45:08) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"123456", "role"=>"Admin", "username"=>"Tyler Catalana", "password"=>"123456"}}

NoMethodError (undefined method `persistence_token=' for #<User:0x10338ece0>):
  authlogic (2.1.6) lib/authlogic/acts_as_authentic/persistence_token.rb:50:in `reset_persistence_token'
  authlogic (2.1.6) lib/authlogic/acts_as_authentic/password.rb:199:in `after_password_set'
  authlogic (2.1.6) lib/authlogic/acts_as_authentic/password.rb:242:in `password='
  app/controllers/users_controller.rb:15:in `new'
  app/controllers/users_controller.rb:15:in `create'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (103.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 19:50:06) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"123456", "role"=>"Admin", "username"=>"Tyler Catalana", "password"=>"123456"}}

SyntaxError (/Users/justin/Desktop/Rails/pos_login/app/models/user.rb:4: syntax error, unexpected kEND):
  app/controllers/users_controller.rb:15:in `create'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (32.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 19:50:21) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"123456", "role"=>"Admin", "username"=>"Tyler Catalana", "password"=>"123456"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'tyler catalana') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '6e022434f3dd023300490b0cf6c69feb97f6ff356d94304e9a42e122444f38375f583b7e62558ff9029277d224188cac3ffd40e28f688894405fd0100033572e') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 02:50:21', '87bb484bfd780cd352a78b9288c2dc4afb11353db5b450a7b649b9890885c80445db784f4487b916d19fed6ab722759163773b8cab505a7793be1b61ce23eee9', '2010-08-14 02:50:21', 'Tyler Catalana', 'Admin', 'd5yb14NJC9HEbY8CxeEw', '6e022434f3dd023300490b0cf6c69feb97f6ff356d94304e9a42e122444f38375f583b7e62558ff9029277d224188cac3ffd40e28f688894405fd0100033572e')[0m
Redirected to http://localhost:3000/
Completed in 167ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:50:21) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#destroy (for 127.0.0.1 at 2010-08-13 19:50:26) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Destroy (0.2ms)[0m   [0mDELETE FROM "users" WHERE "id" = 1[0m
Redirected to http://localhost:3000/users
Completed in 12ms (DB: 0) | 302 Found [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:50:26) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 19:51:14) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.2ms)
Completed in 13ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 19:51:18) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.1ms)
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 19:51:26) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.2ms)
Completed in 13ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 19:51:34) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"1234", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"1234"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'justin catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '63d14d128e3201924fcd4542c620f91ecf28cf4b8003b95ab501df390cd6eb48e9aa918ec1db0aff86f7b7af1e70cb11182e6e53e9041cd54ae8c837a1f4a8de') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 02:51:34', 'f2585813dc812a0d9a86e8e02083e506ba48240ad610821ca9330eb33499a8c365b822d2202ad41c7653fa77ad5b1294a5a1e3066542ad0d53146f0c0ec84af4', '2010-08-14 02:51:34', 'Justin Catalana', 'Admin', 'PGfkTRgAdELHf2EOdBHV', '63d14d128e3201924fcd4542c620f91ecf28cf4b8003b95ab501df390cd6eb48e9aa918ec1db0aff86f7b7af1e70cb11182e6e53e9041cd54ae8c837a1f4a8de')[0m
Redirected to http://localhost:3000/
Completed in 14ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:51:34) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 19:51:36) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.1ms)
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 19:51:47) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"1234", "role"=>"Admin", "username"=>"Tyler Catalana", "password"=>"1234"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'tyler catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'a927291539dd8c84eb98d450510db7ed3c1f97eab2dec1f5fe97b909747154e8a1bde22cfdd9707ed40fb67fb355012cfb8fd9c05eb5b0cea98ca1c598a260c4') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 02:51:47', '9cf38fac76763b0310fcceae06a1ef9725771428e50a0a05af78a360ba16a216812df61316469b21be55374e7f3d38da36c6714d6b2ffbd6a91edcbfa611d785', '2010-08-14 02:51:47', 'Tyler Catalana', 'Admin', 'oPEpefEbzBQtNPqzdJLP', 'a927291539dd8c84eb98d450510db7ed3c1f97eab2dec1f5fe97b909747154e8a1bde22cfdd9707ed40fb67fb355012cfb8fd9c05eb5b0cea98ca1c598a260c4')[0m
Redirected to http://localhost:3000/
Completed in 14ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:51:47) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 19:51:48) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (3.8ms)
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 19:51:59) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"1234", "role"=>"Cashier", "username"=>"Shawn Mehrens", "password"=>"1234"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shawn mehrens') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '3bdf662400ebd2e1c07a67ec4c5cfef262f31fe14287109aa0b191b7291191e4675465760d56635ff22c913505481002666738d60643d8cd79131d6fabc0b513') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 02:51:59', 'fd7a659d1af33abdf4db6922c6c353618a2ce884b743375cf82a137431abf656c99df139582d096125260793141a700ef31ba3fde22fbbda86c36667da66e4af', '2010-08-14 02:51:59', 'Shawn Mehrens', 'Cashier', 'c9ciT41vE7goQeE9GJ2g', '3bdf662400ebd2e1c07a67ec4c5cfef262f31fe14287109aa0b191b7291191e4675465760d56635ff22c913505481002666738d60643d8cd79131d6fabc0b513')[0m
Redirected to http://localhost:3000/
Completed in 78ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:51:59) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 19:52:11) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (4.5ms)
Completed in 17ms (View: 10, DB: 0) | 200 OK [http://localhost/users/2/edit]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 19:52:29) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:01:09) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-08-13 20:01:10) [GET]

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.destroy):
  app/controllers/user_sessions_controller.rb:18:in `destroy'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (26.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:01:36) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 25ms (View: 15, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-08-13 20:01:37) [GET]

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.destroy):
  app/controllers/user_sessions_controller.rb:18:in `destroy'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (29.5ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:02:22) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 19ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:02:46) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 25ms (View: 15, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-13 20:02:48) [GET]
Rendering template within layouts/application
Rendering user_sessions/new

ActionView::TemplateError (undefined method `user_sessions_path' for #<ActionView::Base:0x103588690>) on line #1 of app/views/user_sessions/_form.html.haml:
1: - form_for @user_session do |f|
2:   = f.error_messages
3:   %p
4:     = f.label :username

    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/user_sessions/_form.html.haml:1:in `_run_haml_app47views47user_sessions47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/user_sessions/new.html.haml:3:in `_run_haml_app47views47user_sessions47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (111.6ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-13 20:03:16) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (9.4ms)
Completed in 19ms (View: 11, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 20:03:23) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"1234"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 138ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:03:23) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:29:13) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 9, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:29:44) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 9ms (View: 2, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 20:29:47) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (6.4ms)
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 20:29:55) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"12345", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"12345"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'justin catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '78dfe8f5d9ab62245242dbf1a4825ca9e8dc8382d505cdcee77d93019022049439fc71bb58faa610378cef241029605f054fbc73433a9f157c423fc4302c93fa') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 03:29:55', '165c32baf53b080dbcb5f881be7e77f97eb1ca3a4c70e64e4715d46cc6b31402ae5ff7264b5a8d3a94bb9b901cfab09e088db151dc41df1ba83c799506299465', '2010-08-14 03:29:55', 'Justin Catalana', 'Admin', 'eO61fzVmR0dcStiegnc8', '78dfe8f5d9ab62245242dbf1a4825ca9e8dc8382d505cdcee77d93019022049439fc71bb58faa610378cef241029605f054fbc73433a9f157c423fc4302c93fa')[0m
Redirected to http://localhost:3000/
Completed in 105ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:29:55) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 20:29:56) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (3.9ms)
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 20:30:08) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"12345", "role"=>"Admin", "username"=>"Tyler Catalana", "password"=>"12345"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'tyler catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '9f695885e7575ccb9b5df6caf821024597ea2f68c2556f582487904d6b1ee1f24ce0d470f3249454e53c681c00b4e90cb6c6a77aaabdc62209d750b4b61f5f24') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '78dfe8f5d9ab62245242dbf1a4825ca9e8dc8382d505cdcee77d93019022049439fc71bb58faa610378cef241029605f054fbc73433a9f157c423fc4302c93fa') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 03:30:08', '8f6e8aa0c14ea3c18e8c3f44e7fc27ce19f2a77c9497b48538d1e9651dce7eed867ded942dd81a9aac2b2ce287a9565de49f05915cb3e5c6c11112bc3a8072ba', '2010-08-14 03:30:08', 'Tyler Catalana', 'Admin', 'KKCyPRpmNlEi6YxasgAU', '9f695885e7575ccb9b5df6caf821024597ea2f68c2556f582487904d6b1ee1f24ce0d470f3249454e53c681c00b4e90cb6c6a77aaabdc62209d750b4b61f5f24')[0m
Redirected to http://localhost:3000/
Completed in 17ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:30:08) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 20:30:20) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.1ms)
Completed in 78ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 20:30:33) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"1234", "role"=>"Cashier", "username"=>"Shawn Mehrens", "password"=>"1234"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shawn mehrens') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '84d4fc1a8af23ac03cd079cefdd2ace695778ca49239fe870c4f7d48799090e73552f8dac9632203a620599f821e5a162d2d455606026587a98bb09cd7bc3c2b') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '78dfe8f5d9ab62245242dbf1a4825ca9e8dc8382d505cdcee77d93019022049439fc71bb58faa610378cef241029605f054fbc73433a9f157c423fc4302c93fa') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 03:30:33', '6d1bf28e2cf8dc86a7dc1b2bcd1bffbec026af98083f10ba0c571cf69610b0670c275da8f007ff136aa4e624454978fcfa7efac061b2eb93949d36cf397415d0', '2010-08-14 03:30:33', 'Shawn Mehrens', 'Cashier', 'BI2xAJi2URiRmPt6zEf', '84d4fc1a8af23ac03cd079cefdd2ace695778ca49239fe870c4f7d48799090e73552f8dac9632203a620599f821e5a162d2d455606026587a98bb09cd7bc3c2b')[0m
Redirected to http://localhost:3000/
Completed in 17ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:30:33) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:30:42) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-13 20:30:44) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.4ms)
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 20:30:49) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"123345"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.9ms)
Completed in 81ms (View: 5, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 20:30:52) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"1234"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.8ms)
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 20:30:56) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"123456"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.9ms)
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 20:31:02) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"funkmonk"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.8ms)
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#index (for 127.0.0.1 at 2010-08-13 20:31:07) [GET]
Rendering template within layouts/application
Rendering user_sessions/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #7 of app/views/user_sessions/index.html.haml:
4:   %tr
5:     %th Username
6:     %th Password
7:   - for user_session in @user_sessions
8:     %tr
9:       %td= h user_session.username
10:       %td= h user_session.password

    app/views/user_sessions/index.html.haml:7:in `_run_haml_app47views47user_sessions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (36.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:31:12) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 20:31:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (4.2ms)
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2010-08-13 20:31:19) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1", "user"=>{"password_confirmation"=>"1234", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"1234"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'bfad8ac7476b051a6eaa19d03ced03805e7ab5f644a8c7f741466850da553a83e5de8139af7d083f4951d6c60df40e02ccf0ed413024ebeb8750bf0f8fdcc035' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '78dfe8f5d9ab62245242dbf1a4825ca9e8dc8382d505cdcee77d93019022049439fc71bb58faa610378cef241029605f054fbc73433a9f157c423fc4302c93fa') LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "persistence_token" = 'bfad8ac7476b051a6eaa19d03ced03805e7ab5f644a8c7f741466850da553a83e5de8139af7d083f4951d6c60df40e02ccf0ed413024ebeb8750bf0f8fdcc035', "updated_at" = '2010-08-14 03:31:19', "password_salt" = '1CBNhSxcysDOlNiQYpRh', "crypted_password" = 'd56945b4523380eb3ae7d80623e099aec34cd0f215e2e94b318da9a96d7a4711b571a1daf49f93a32c1e4f57233cd1c3b44a295903ce51a1be16da11a568d333' WHERE "id" = 1[0m
Redirected to http://localhost:3000/users/1
Completed in 19ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2010-08-13 20:31:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 15ms (View: 8, DB: 0) | 200 OK [http://localhost/users/1]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-13 20:31:21) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.4ms)
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 20:31:25) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"1234"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:31:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 20:31:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (4.2ms)
Completed in 13ms (View: 6, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2010-08-13 20:31:35) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1", "user"=>{"password_confirmation"=>"12345", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"12345"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '69d76a9a615d1598d18041d0c4890b665f75798ca3b0004509c968022d40c1387b9b2deee7e965a999f0761fe4cc5992cb615cf4296748e7e71cfb46634d98de' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE "users" SET "persistence_token" = '69d76a9a615d1598d18041d0c4890b665f75798ca3b0004509c968022d40c1387b9b2deee7e965a999f0761fe4cc5992cb615cf4296748e7e71cfb46634d98de', "updated_at" = '2010-08-14 03:31:35', "password_salt" = 'q9gGN2IM2Ye9wE1tAiVC', "crypted_password" = '3ab9ccc6e4277111187043ddfabbdabe7dba94a6bbb9852c5618ee95229bec80deb62480ea35f0da57239abda3c828721584077e762699bba7378bd1fd51f6f9' WHERE "id" = 1[0m
Redirected to http://localhost:3000/users/1
Completed in 19ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2010-08-13 20:31:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/users/1]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-08-13 20:31:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 11ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:31:40) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:39:34) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index

ActionView::TemplateError (undefined method `defined' for #<UsersController:0x103120990>) on line #15 of app/views/layouts/application.html.haml:
12:     #container
13:       #user_nav
14:         - if current_user
15:           #{current_user} | 
16:           = link_to "Logout", logout_path
17:         -else
18:           = link_to "Login", login_path

    app/controllers/application_controller.rb:21:in `current_user'
    (eval):2:in `send'
    (eval):2:in `current_user'
    app/views/layouts/application.html.haml:15:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (36.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:40:05) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 14ms (View: 7, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-13 20:40:09) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.3ms)
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 20:40:13) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"1234"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.9ms)
Completed in 17ms (View: 5, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 20:40:15) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"12345"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:40:15) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:40:38) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 13, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:41:06) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 93ms (View: 9, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:41:39) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 14, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:41:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:41:57) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 13, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:42:20) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 93ms (View: 15, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 20:42:42) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-13 21:02:31) [GET]

NameError (undefined local variable or method `load_and_authorize_resource' for UsersController:Class):
  app/controllers/users_controller.rb:2

Rendered rescues/_trace (25.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:04:55) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 34ms (View: 15, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:04:57) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-08-13 21:04:59) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:04:59) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 74ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:05:00) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:05:01) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:05:02) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 21:05:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (90.1ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2010-08-13 21:05:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 19ms (View: 8, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#destroy (for 127.0.0.1 at 2010-08-13 21:05:21) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (96.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:06:06) [GET]

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (30.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:11:27) [GET]

SyntaxError (/Users/justin/Desktop/Rails/pos_login/app/models/ability.rb:11: syntax error, unexpected $end, expecting kEND):
  cancan (1.3.2) lib/cancan/controller_additions.rb:212:in `current_ability'
  cancan (1.3.2) lib/cancan/controller_additions.rb:236:in `cannot?'
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (100.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:11:41) [GET]

NameError (undefined local variable or method `this' for #<User:0x1035bcdc8>):
  app/models/user.rb:6:in `role?'
  app/models/ability.rb:6:in `initialize'
  cancan (1.3.2) lib/cancan/controller_additions.rb:212:in `new'
  cancan (1.3.2) lib/cancan/controller_additions.rb:212:in `current_ability'
  cancan (1.3.2) lib/cancan/controller_additions.rb:236:in `cannot?'
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (32.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:12:04) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 21:12:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (31.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-13 21:12:08) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (11.4ms)
Completed in 27ms (View: 20, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 21:12:13) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"12345"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 191ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:12:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 21:12:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (32.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:13:27) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 85ms (View: 72, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 21:13:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (30.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 21:13:31) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (102.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:13:33) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 19ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#destroy (for 127.0.0.1 at 2010-08-13 21:13:37) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (30.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:13:50) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 91ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 21:13:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (4.9ms)
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:13:56) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-08-13 21:13:58) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:13:58) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 84ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-13 21:14:09) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.3ms)
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 21:14:17) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Shawn Mehrens", "password"=>"1234"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shawn mehrens') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:14:17) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '3') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 21:14:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '3') LIMIT 1[0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (98.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:15:55) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '3') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 20ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:16:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '3') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 20ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-08-13 21:16:18) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '3') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:16:18) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-13 21:16:20) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.3ms)
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 21:16:26) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"1f2frfbf"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (3.1ms)
Completed in 17ms (View: 5, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-13 21:16:29) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"12345"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 11ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:16:29) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-13 21:16:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (2.9ms)
Completed in 19ms (View: 5, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#show (for 127.0.0.1 at 2010-08-13 21:16:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 21:17:14) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 21ms (View: 8, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateDraughts (20100814045100)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814045100')[0m
Migrating to CreateBottles (20100814045249)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814045249')[0m
Migrating to CreateFoods (20100814045539)
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814045539')[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
Migrating to CreateDraughts (20100814045100)
Migrating to CreateBottles (20100814045249)
Migrating to CreateFoods (20100814045539)
Migrating to CreateMiscs (20100814050739)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814050739')[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("miscs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("versions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_tag')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_number')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:08:22) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index

ActionView::TemplateError (user_url failed to generate from {:controller=>"users", :action=>"show"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["users", :id] - are they all satisfied?) on line #21 of app/views/layouts/application.html.haml:
18:           = link_to "Login", login_path
19:       #manu_nav
20:         %ul
21:           %li= link_to "Users", user_path
22:           %li= link_to "Bottles", bottle_path
23:           %li= link_to "Draught", draught_path
24:           %li= link_to "Food", food_path

    (eval):16:in `user_path'
    app/views/layouts/application.html.haml:21:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (39.5ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:08:47) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index

ActionView::TemplateError (bottle_url failed to generate from {:controller=>"bottles", :action=>"show"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["bottles", :id] - are they all satisfied?) on line #22 of app/views/layouts/application.html.haml:
19:       #manu_nav
20:         %ul
21:           %li= link_to "Users", users_path
22:           %li= link_to "Bottles", bottle_path
23:           %li= link_to "Draught", draught_path
24:           %li= link_to "Food", food_path
25:           %li= link_to "Misc", misc_path

    (eval):16:in `bottle_path'
    app/views/layouts/application.html.haml:22:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (104.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:08:57) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 23ms (View: 9, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:09:12) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 23ms (View: 10, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:09:14) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-13 22:09:15) [GET]
  [4;36;1mBottle Load (0.6ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 36ms (View: 19, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 22:09:17) [GET]
  [4;36;1mDraught Load (0.5ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 25ms (View: 19, DB: 1) | 200 OK [http://localhost/draughts]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-13 22:09:18) [GET]
  [4;36;1mFood Load (0.5ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/foods]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-13 22:09:19) [GET]
  [4;36;1mMisc Load (0.5ms)[0m   [0;1mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 17, DB: 1) | 200 OK [http://localhost/miscs]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:09:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-13 22:10:36) [GET]
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 12, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-13 22:11:07) [GET]
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (undefined method `show' for #<Bottle:0x1034ab8d0>) on line #62 of app/views/bottles/_form.html.haml:
59:   %p
60:     = f.label :show
61:     %br
62:     = f.text_field :show
63:   %p
64:     = f.submit "Submit"

    app/views/bottles/_form.html.haml:62:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (113.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#index (for 127.0.0.1 at 2010-08-13 22:12:03) [GET]
  [4;36;1mFood Load (0.5ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 12, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:12:05) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `ordered' for #<Food:0x10314dbe8>) on line #22 of app/views/foods/_form.html.haml:
19:   %p
20:     = f.label :ordered
21:     %br
22:     = f.text_field :ordered
23:   %p
24:     = f.label :show
25:     %br

    app/views/foods/_form.html.haml:22:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (50.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:19:29) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `kitchen' for #<Food:0x1030af1c8>) on line #22 of app/views/foods/_form.html.haml:
19:   %p
20:     = f.label :kitchen
21:     %br
22:     = f.text_field :kitchen
23:   %p
24:     = f.label :display
25:     %br

    app/views/foods/_form.html.haml:22:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (50.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:20:31) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `kitchen' for #<Food:0x1030ed5e0>) on line #22 of app/views/foods/_form.html.haml:
19:   %p
20:     = f.label :kitchen
21:     %br
22:     = f.text_field :kitchen
23:   %p
24:     = f.label :display
25:     %br

    app/views/foods/_form.html.haml:22:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (49.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#index (for 127.0.0.1 at 2010-08-13 22:20:49) [GET]
  [4;36;1mFood Load (0.5ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 17, DB: 1) | 200 OK [http://localhost/foods]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:20:52) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 22:20:54) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (5.5ms)
Completed in 40ms (View: 27, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:20:56) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-13 22:20:58) [GET]
  [4;35;1mBottle Load (0.5ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 84ms (View: 19, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 22:21:00) [GET]
  [4;35;1mDraught Load (0.5ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 25ms (View: 19, DB: 1) | 200 OK [http://localhost/draughts]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:21:01) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-13 22:21:04) [GET]
  [4;35;1mMisc Load (0.5ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 80ms (View: 17, DB: 1) | 200 OK [http://localhost/miscs]


Processing MiscsController#new (for 127.0.0.1 at 2010-08-13 22:21:07) [GET]
Rendering template within layouts/application
Rendering miscs/new
Rendered miscs/_form (6.3ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 28ms (View: 24, DB: 0) | 200 OK [http://localhost/miscs/new]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-13 22:21:08) [GET]
  [4;36;1mFood Load (0.5ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 11, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:21:09) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `kitchen' for #<Food:0x10360e948>) on line #22 of app/views/foods/_form.html.haml:
19:   %p
20:     = f.label :kitchen
21:     %br
22:     = f.text_field :kitchen
23:   %p
24:     = f.label :display
25:     %br

    app/views/foods/_form.html.haml:22:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (49.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:22:54) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `checkbox' for #<ActionView::Helpers::FormBuilder:0x103625da0>) on line #22 of app/views/foods/_form.html.haml:
19:   %p
20:     = f.label :kitchen
21:     %br
22:     = f.checkbox :kitchen
23:   %p
24:     = f.label :display
25:     %br

    app/views/foods/_form.html.haml:22:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (45.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#index (for 127.0.0.1 at 2010-08-13 22:24:54) [GET]
  [4;36;1mFood Load (0.5ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 81ms (View: 76, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:24:57) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `kitchen' for #<Food:0x1034f0278>) on line #22 of app/views/foods/_form.html.haml:
19:   %p
20:     = f.label :kitchen
21:     %br
22:     = f.check_box :kitchen
23:   %p
24:     = f.label :display
25:     %br

    app/views/foods/_form.html.haml:22:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (114.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:25:36) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `kitchen' for #<Food:0x10350ca90>) on line #22 of app/views/foods/_form.html.haml:
19:   %p
20:     = f.label :kitchen
21:     %br
22:     = f.check_box :kitchen
23:   %p
24:     = f.label :display
25:     %br

    app/views/foods/_form.html.haml:22:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (116.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:25:49) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `true' for #<Food:0x103563ae8>) on line #22 of app/views/foods/_form.html.haml:
19:   %p
20:     = f.label :kitchen
21:     %br
22:     = f.check_box :true
23:   %p
24:     = f.label :display
25:     %br

    app/views/foods/_form.html.haml:22:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (48.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:26:59) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `merge' for :true:Symbol) on line #20 of app/views/foods/_form.html.haml:
17:     %br
18:     = f.text_field :price
19:   %p
20:     = f.check_box :kitchen, :true
21:   %p
22:     = f.check_box :display, :true
23:   %p

    app/views/foods/_form.html.haml:20:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (47.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:28:42) [GET]
Rendering template within layouts/application
Rendering foods/new

ActionView::TemplateError (undefined method `check_box_tag' for #<ActionView::Helpers::FormBuilder:0x1035cb5a8>) on line #20 of app/views/foods/_form.html.haml:
17:     %br
18:     = f.text_field :price
19:   %p
20:     = f.check_box_tag :kitchen, :true
21:   %p
22:     = f.check_box_tag :display, :true
23:   %p

    app/views/foods/_form.html.haml:20:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/foods/_form.html.haml:1:in `_run_haml_app47views47foods47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/foods/new.html.haml:3:in `_run_haml_app47views47foods47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (45.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:29:43) [GET]
Rendering template within layouts/application
Rendering foods/new
Rendered foods/_form (6.6ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 21, DB: 0) | 200 OK [http://localhost/foods/new]


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:30:05) [GET]
Rendering template within layouts/application
Rendering foods/new
Rendered foods/_form (7.0ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 21, DB: 0) | 200 OK [http://localhost/foods/new]


Processing FoodsController#create (for 127.0.0.1 at 2010-08-13 22:30:43) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "food"=>{"price"=>"500", "cost"=>"170", "sales_tax"=>".09", "display"=>"1", "display_name"=>"Tomato & Garlic"}}

ActiveRecord::UnknownAttributeError (unknown attribute: display):
  app/controllers/foods_controller.rb:15:in `new'
  app/controllers/foods_controller.rb:15:in `create'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (88.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
Migrating to CreateDraughts (20100814045100)
Migrating to CreateBottles (20100814045249)
Migrating to CreateFoods (20100814045539)
Migrating to CreateMiscs (20100814050739)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("miscs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("versions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_tag')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_number')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateDraughts (20100814045100)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814045100')[0m
Migrating to CreateBottles (20100814045249)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814045249')[0m
Migrating to CreateFoods (20100814045539)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814045539')[0m
Migrating to CreateMiscs (20100814050739)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814050739')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing FoodsController#create (for 127.0.0.1 at 2010-08-13 22:32:14) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "food"=>{"price"=>"500", "cost"=>"170", "sales_tax"=>".09", "display"=>"1", "display_name"=>"Tomato & Garlic"}}

ActiveRecord::UnknownAttributeError (unknown attribute: display):
  app/controllers/foods_controller.rb:15:in `new'
  app/controllers/foods_controller.rb:15:in `create'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (89.6ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:32:20) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 35ms (View: 13, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:44:05) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 40ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 22:44:08) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (32.1ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 22:44:36) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (5.8ms)
Completed in 79ms (View: 65, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 22:44:44) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"12345", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"12345"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'justin catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 05:44:44', '2f779bea67bcc33ce53d4b3734cc9dfb89e3eb70edfbbde6aecd194b739969ebb5a99bda039205cb0b18f40c24414063ff8a170db6cd93fba7ef03847cb26b25', '2010-08-14 05:44:44', 'Justin Catalana', 'Admin', 'NA0ONcld5QrgGymcBt6O', '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f')[0m
Redirected to http://localhost:3000/
Completed in 164ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:44:44) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:44:53) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:44:55) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 2, DB: 1) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-13 22:44:58) [GET]
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
Completed in 27ms (View: 20, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-13 22:45:01) [GET]
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (undefined method `show' for #<Bottle:0x1030ccf48>) on line #62 of app/views/bottles/_form.html.haml:
59:   %p
60:     = f.label :show
61:     %br
62:     = f.check_box :show
63:   %p
64:     = f.submit "Submit"

    app/views/bottles/_form.html.haml:62:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (50.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing BottlesController#new (for 127.0.0.1 at 2010-08-13 22:47:04) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (15.6ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 110ms (View: 103, DB: 0) | 200 OK [http://localhost/bottles/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:51:16) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 1, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 22:51:17) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (29.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2010-08-13 22:51:30) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (2.7ms)
Completed in 19ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-13 22:51:38) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"12345", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"12345"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'justin catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '08d516a21f09fa71fa0eaf5e0203bd49ec186b80d97a4918b31e9c0c59c92e17b6a3e904e96b38f1fd041e33dd8c99cf58e01f0e4940e856ef658a893ea48a9f') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 05:51:38', '7822121aca5809ac7faeb81f9e4d3be7b400d02cd1f7d2ca30e55a82943bd74c7f74f110e7201a8733db3335d95e3e06b1574d930b105f49b5294aafd939127a', '2010-08-14 05:51:38', 'Justin Catalana', 'Admin', 'gZ5VVyZJTSYvDE2m8b0', 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937')[0m
Redirected to http://localhost:3000/
Completed in 22ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:51:38) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 2, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:51:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 83ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-13 22:51:50) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-13 22:51:51) [GET]
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 22:51:52) [GET]
  [4;36;1mDraught Load (0.5ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 93ms (View: 87, DB: 1) | 200 OK [http://localhost/draughts]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-13 22:51:54) [GET]
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 17ms (View: 11, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 22:51:55) [GET]
  [4;36;1mDraught Load (0.5ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 17ms (View: 11, DB: 1) | 200 OK [http://localhost/draughts]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-13 22:51:57) [GET]
  [4;36;1mFood Load (0.4ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 90ms (View: 85, DB: 1) | 200 OK [http://localhost/foods]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-13 22:51:58) [GET]
  [4;36;1mMisc Load (0.5ms)[0m   [0;1mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/miscs]


Processing MiscsController#new (for 127.0.0.1 at 2010-08-13 22:52:00) [GET]
Rendering template within layouts/application
Rendering miscs/new
Rendered miscs/_form (7.0ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 31ms (View: 25, DB: 0) | 200 OK [http://localhost/miscs/new]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-13 22:52:02) [GET]
  [4;35;1mFood Load (0.5ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#new (for 127.0.0.1 at 2010-08-13 22:52:03) [GET]
Rendering template within layouts/application
Rendering foods/new
Rendered foods/_form (6.8ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 30ms (View: 24, DB: 0) | 200 OK [http://localhost/foods/new]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 22:52:05) [GET]
  [4;36;1mDraught Load (0.5ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 17ms (View: 11, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#new (for 127.0.0.1 at 2010-08-13 22:52:06) [GET]
Rendering template within layouts/application
Rendering draughts/new
Rendered draughts/_form (16.7ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 41ms (View: 34, DB: 0) | 200 OK [http://localhost/draughts/new]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 22:52:10) [GET]
  [4;35;1mDraught Load (0.5ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://localhost/draughts]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-13 22:52:12) [GET]
  [4;35;1mBottle Load (0.5ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 84ms (View: 78, DB: 1) | 200 OK [http://localhost/bottles]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-13 22:52:15) [GET]
  [4;35;1mMisc Load (0.5ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://localhost/miscs]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-13 22:52:16) [GET]
  [4;35;1mBottle Load (0.5ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 17ms (View: 11, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-13 22:52:17) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (75.0ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 94ms (View: 87, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 22:52:18) [GET]
  [4;36;1mDraught Load (0.5ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 17ms (View: 11, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#new (for 127.0.0.1 at 2010-08-13 22:52:19) [GET]
Rendering template within layouts/application
Rendering draughts/new
Rendered draughts/_form (10.3ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 29ms (View: 22, DB: 0) | 200 OK [http://localhost/draughts/new]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 22:55:14) [GET]
  [4;35;1mDraught Load (0.6ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 86ms (View: 12, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#new (for 127.0.0.1 at 2010-08-13 22:55:16) [GET]
Rendering template within layouts/application
Rendering draughts/new
Rendered draughts/_form (10.5ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 30ms (View: 23, DB: 0) | 200 OK [http://localhost/draughts/new]


Processing DraughtsController#new (for 127.0.0.1 at 2010-08-13 22:58:18) [GET]
Rendering template within layouts/application
Rendering draughts/new
Rendered draughts/_form (15.8ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
Completed in 105ms (View: 98, DB: 0) | 200 OK [http://localhost/draughts/new]


Processing DraughtsController#create (for 127.0.0.1 at 2010-08-13 23:00:09) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "draught"=>{"price"=>"8", "glass_type"=>"Pint", "volume_unit"=>"Gallons", "excise_tax"=>"0", "brewery"=>"North Coast", "serving_size"=>"500", "keg_cost"=>"144", "country"=>"US", "stock"=>"4", "sales_tax"=>".09", "display"=>"1", "volume"=>"15.5", "full_name"=>"Old Rasputin", "display_name"=>"Old Rasputin", "source"=>"Morris Distributing", "abv"=>"9%"}}

ActiveRecord::UnknownAttributeError (unknown attribute: display):
  app/controllers/draughts_controller.rb:15:in `new'
  app/controllers/draughts_controller.rb:15:in `create'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (29.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing DraughtsController#create (for 127.0.0.1 at 2010-08-13 23:00:28) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "draught"=>{"price"=>"8", "glass_type"=>"Pint", "volume_unit"=>"Gallons", "excise_tax"=>"0", "brewery"=>"North Coast", "serving_size"=>"500", "keg_cost"=>"144", "country"=>"US", "stock"=>"4", "sales_tax"=>".09", "display"=>"1", "volume"=>"15.5", "full_name"=>"Old Rasputin", "display_name"=>"Old Rasputin", "source"=>"Morris Distributing", "abv"=>"9%"}}

ActiveRecord::UnknownAttributeError (unknown attribute: display):
  app/controllers/draughts_controller.rb:15:in `new'
  app/controllers/draughts_controller.rb:15:in `create'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (103.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814053724')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814023012')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814041913')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814053619')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814053639')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814053704')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814053724')[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814023012')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814041913')[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814053619')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814053639')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814053704')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing DraughtsController#create (for 127.0.0.1 at 2010-08-13 23:10:45) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "draught"=>{"price"=>"8", "glass_type"=>"Pint", "volume_unit"=>"Gallons", "excise_tax"=>"0", "brewery"=>"North Coast", "serving_size"=>"500", "keg_cost"=>"144", "country"=>"US", "stock"=>"4", "sales_tax"=>".09", "display"=>"1", "volume"=>"15.5", "full_name"=>"Old Rasputin", "display_name"=>"Old Rasputin", "source"=>"Morris Distributing", "abv"=>"9%"}}
  [4;36;1mDraught Create (0.4ms)[0m   [0;1mINSERT INTO "draughts" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "keg_cost", "serving_size", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv") VALUES('Gallons', 'Pint', 800, 'North Coast', 0.0, '2010-08-14 06:10:45', 'US', 14400, 500, '2010-08-14 06:10:45', 0.09, 4, 15.5, 't', 'Old Rasputin', 'Old Rasputin', 'Morris Distributing', 9.0)[0m
Redirected to http://localhost:3000/draughts/1
Completed in 27ms (DB: 0) | 302 Found [http://localhost/draughts]


Processing DraughtsController#show (for 127.0.0.1 at 2010-08-13 23:10:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDraught Load (0.3ms)[0m   [0mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
Rendering template within layouts/application
Rendering draughts/show

ActionView::TemplateError (undefined method `cost' for #<Draught:0x103106400>) on line #35 of app/views/draughts/show.html.haml:
32:   =h @draught.serving_size
33: %p
34:   %strong Cost:
35:   =h @draught.cost
36: %p
37:   %strong Glass Type:
38:   =h @draught.glass_type

    app/views/draughts/show.html.haml:35:in `_run_haml_app47views47draughts47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (37.6ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing DraughtsController#show (for 127.0.0.1 at 2010-08-13 23:11:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
Rendering template within layouts/application
Rendering draughts/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 27ms (View: 19, DB: 1) | 200 OK [http://localhost/draughts/1]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:11:27) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 32ms (View: 26, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#edit (for 127.0.0.1 at 2010-08-13 23:11:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDraught Load (0.3ms)[0m   [0mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
Rendering template within layouts/application
Rendering draughts/edit
Rendered draughts/_form (17.1ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 43ms (View: 35, DB: 1) | 200 OK [http://localhost/draughts/1/edit]


Processing DraughtsController#update (for 127.0.0.1 at 2010-08-13 23:12:06) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1", "draught"=>{"price"=>"800", "glass_type"=>"Pint", "volume_unit"=>"Gallons", "excise_tax"=>"0.0", "brewery"=>"North Coast", "serving_size"=>"500", "keg_cost"=>"15500", "country"=>"US", "stock"=>"4", "sales_tax"=>"0.09", "display"=>"1", "volume"=>"15.5", "full_name"=>"Old Rasputin", "display_name"=>"Old Rasputin", "source"=>"Morris Distributing", "abv"=>"9.0"}}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
  [4;35;1mDraught Update (0.3ms)[0m   [0mUPDATE "draughts" SET "updated_at" = '2010-08-14 06:12:06', "keg_cost" = 1550000, "price" = 80000 WHERE "id" = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mVestalVersions::Version Create (0.3ms)[0m   [0mINSERT INTO "versions" ("number", "created_at", "updated_at", "versioned_type", "tag", "versioned_id", "user_type", "user_id", "user_name", "changes") VALUES(2, '2010-08-14 06:12:06', '2010-08-14 06:12:06', 'Draught', NULL, 1, NULL, NULL, NULL, '--- 
keg_cost: 
- 14400
- 15500.0
')[0m
Redirected to http://localhost:3000/draughts/1
Completed in 340ms (DB: 1) | 302 Found [http://localhost/draughts/1]


Processing DraughtsController#show (for 127.0.0.1 at 2010-08-13 23:12:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
Rendering template within layouts/application
Rendering draughts/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 23ms (View: 15, DB: 1) | 200 OK [http://localhost/draughts/1]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:12:10) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 81ms (View: 74, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:12:48) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 23ms (View: 16, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:13:20) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m

ActionView::TemplateError (undefined method `to_currancy' for "8.0":String) on line #40 of app/views/draughts/index.html.haml:
37:       %td= h draught.glass_type
38:       %td= h draught.sales_tax
39:       %td= h draught.excise_tax
40:       %td= h (draught.price/100).to_currancy
41:       %td= h draught.stock
42:       %td= h draught.display
43:       %td= link_to 'Show', draught

    app/views/draughts/index.html.haml:40:in `_run_haml_app47views47draughts47index46html46haml'
    app/views/draughts/index.html.haml:23:in `each'
    app/views/draughts/index.html.haml:23:in `_run_haml_app47views47draughts47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (100.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:14:30) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 30ms (View: 24, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#edit (for 127.0.0.1 at 2010-08-13 23:14:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDraught Load (0.3ms)[0m   [0mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
Rendering template within layouts/application
Rendering draughts/edit
Rendered draughts/_form (10.6ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 92ms (View: 83, DB: 1) | 200 OK [http://localhost/draughts/1/edit]


Processing DraughtsController#update (for 127.0.0.1 at 2010-08-13 23:14:50) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1", "draught"=>{"price"=>"8", "glass_type"=>"Pint", "volume_unit"=>"Gallons", "excise_tax"=>"0.0", "brewery"=>"North Coast", "serving_size"=>"500", "keg_cost"=>"144", "country"=>"US", "stock"=>"4", "sales_tax"=>"0.09", "display"=>"1", "volume"=>"15.5", "full_name"=>"Old Rasputin", "display_name"=>"Old Rasputin", "source"=>"Morris Distributing", "abv"=>"9.0"}}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
  [4;35;1mDraught Update (0.3ms)[0m   [0mUPDATE "draughts" SET "updated_at" = '2010-08-14 06:14:50', "keg_cost" = 14400, "price" = 800 WHERE "id" = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mVestalVersions::Version Create (0.3ms)[0m   [0mINSERT INTO "versions" ("number", "created_at", "updated_at", "versioned_type", "tag", "versioned_id", "user_type", "user_id", "user_name", "changes") VALUES(3, '2010-08-14 06:14:50', '2010-08-14 06:14:50', 'Draught', NULL, 1, NULL, NULL, NULL, '--- 
price: 
- 80000
- 8.0
keg_cost: 
- 1550000
- 144.0
')[0m
Redirected to http://localhost:3000/draughts/1
Completed in 20ms (DB: 1) | 302 Found [http://localhost/draughts/1]


Processing DraughtsController#show (for 127.0.0.1 at 2010-08-13 23:14:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
Rendering template within layouts/application
Rendering draughts/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 23ms (View: 15, DB: 1) | 200 OK [http://localhost/draughts/1]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:15:01) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 83ms (View: 77, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:15:25) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m

ActionView::TemplateError (undefined method `number_to_percent' for #<ActionView::Base:0x10353d398>) on line #39 of app/views/draughts/index.html.haml:
36:       %td= h number_to_currency draught.cost
37:       %td= h draught.glass_type
38:       %td= h draught.sales_tax
39:       %td= h number_to_percent draught.excise_tax
40:       %td= h number_to_currency draught.price
41:       %td= h draught.stock
42:       %td= h draught.display

    app/views/draughts/index.html.haml:39:in `_run_haml_app47views47draughts47index46html46haml'
    app/views/draughts/index.html.haml:23:in `each'
    app/views/draughts/index.html.haml:23:in `_run_haml_app47views47draughts47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (35.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:15:56) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 32ms (View: 25, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:16:11) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 31ms (View: 24, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:16:27) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 90ms (View: 26, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:17:05) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 31ms (View: 25, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#edit (for 127.0.0.1 at 2010-08-13 23:17:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDraught Load (0.3ms)[0m   [0mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
Rendering template within layouts/application
Rendering draughts/edit
Rendered draughts/_form (10.3ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 89ms (View: 82, DB: 1) | 200 OK [http://localhost/draughts/1/edit]


Processing DraughtsController#update (for 127.0.0.1 at 2010-08-13 23:17:34) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1", "draught"=>{"price"=>"8", "glass_type"=>"Pint", "volume_unit"=>"Gallons", "excise_tax"=>"0.0", "brewery"=>"North Coast", "serving_size"=>"500", "keg_cost"=>"14400144", "country"=>"US", "stock"=>"4", "sales_tax"=>"0.09", "display"=>"1", "volume"=>"15.5", "full_name"=>"Old Rasputin", "display_name"=>"Old Rasputin", "source"=>"Morris Distributing", "abv"=>"9.0"}}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
  [4;35;1mDraught Update (0.3ms)[0m   [0mUPDATE "draughts" SET "updated_at" = '2010-08-14 06:17:34', "keg_cost" = 1440014400 WHERE "id" = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mVestalVersions::Version Create (0.3ms)[0m   [0mINSERT INTO "versions" ("number", "created_at", "updated_at", "versioned_type", "tag", "versioned_id", "user_type", "user_id", "user_name", "changes") VALUES(4, '2010-08-14 06:17:34', '2010-08-14 06:17:34', 'Draught', NULL, 1, NULL, NULL, NULL, '--- 
keg_cost: 
- 14400
- 14400144.0
')[0m
Redirected to http://localhost:3000/draughts/1
Completed in 20ms (DB: 1) | 302 Found [http://localhost/draughts/1]


Processing DraughtsController#show (for 127.0.0.1 at 2010-08-13 23:17:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
Rendering template within layouts/application
Rendering draughts/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 23ms (View: 15, DB: 1) | 200 OK [http://localhost/draughts/1]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:17:38) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 83ms (View: 77, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#destroy (for 127.0.0.1 at 2010-08-13 23:18:58) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;35;1mDraught Load (0.3ms)[0m   [0mSELECT * FROM "draughts" WHERE ("draughts"."id" = 1) [0m
  [4;36;1mVestalVersions::Version Delete all (0.4ms)[0m   [0;1mDELETE FROM "versions" WHERE ((versioned_id = 1) AND (versioned_type = 'Draught')) [0m
  [4;35;1mDraught Destroy (0.1ms)[0m   [0mDELETE FROM "draughts" WHERE "id" = 1[0m
Redirected to http://localhost:3000/draughts
Completed in 14ms (DB: 1) | 302 Found [http://localhost/draughts/1]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:18:58) [GET]
  [4;36;1mDraught Load (0.5ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#new (for 127.0.0.1 at 2010-08-13 23:19:00) [GET]
Rendering template within layouts/application
Rendering draughts/new
Rendered draughts/_form (9.6ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 93ms (View: 85, DB: 0) | 200 OK [http://localhost/draughts/new]


Processing DraughtsController#create (for 127.0.0.1 at 2010-08-13 23:19:44) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "draught"=>{"price"=>"8", "glass_type"=>"Pint", "volume_unit"=>"Gallons", "excise_tax"=>"0.0", "brewery"=>"North Coast", "serving_size"=>"500", "keg_cost"=>"144", "country"=>"US", "stock"=>"4", "sales_tax"=>".09", "display"=>"1", "volume"=>"15.5", "full_name"=>"Old Rasputin", "display_name"=>"Old Rasputin", "source"=>"Morris Distributing", "abv"=>"9"}}
  [4;35;1mDraught Create (0.3ms)[0m   [0mINSERT INTO "draughts" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "keg_cost", "serving_size", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv") VALUES('Gallons', 'Pint', 800, 'North Coast', 0.0, '2010-08-14 06:19:44', 'US', 14400, 500, '2010-08-14 06:19:44', 0.09, 4, 15.5, 't', 'Old Rasputin', 'Old Rasputin', 'Morris Distributing', 9.0)[0m
Redirected to http://localhost:3000/draughts/2
Completed in 15ms (DB: 0) | 302 Found [http://localhost/draughts]


Processing DraughtsController#show (for 127.0.0.1 at 2010-08-13 23:19:44) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 2) [0m
Rendering template within layouts/application
Rendering draughts/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 23ms (View: 16, DB: 1) | 200 OK [http://localhost/draughts/2]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:19:49) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 82ms (View: 75, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:20:29) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 32ms (View: 26, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:21:36) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m

ActionView::TemplateError (String can't be coerced into Float) on line #31 of app/views/draughts/index.html.haml:
28:       %td= h draught.country
29:       %td= h number_to_percentage draught.abv, :precision => 2
30:       %td= h draught.source
31:       %td= h draught.volume + " " + draught.volume_unit
32:       %td= h number_to_currency draught.keg_cost
33:       %td= h draught.serving_size
34:       %td= h number_to_currency draught.cost

    app/views/draughts/index.html.haml:31:in `+'
    app/views/draughts/index.html.haml:31:in `_run_haml_app47views47draughts47index46html46haml'
    app/views/draughts/index.html.haml:22:in `each'
    app/views/draughts/index.html.haml:22:in `_run_haml_app47views47draughts47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (100.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:21:54) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 31ms (View: 25, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-13 23:22:21) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 94ms (View: 88, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 09:44:32) [GET]
  [4;35;1mDraught Load (0.9ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 74ms (View: 52, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#edit (for 127.0.0.1 at 2010-08-14 09:44:35) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDraught Load (0.3ms)[0m   [0mSELECT * FROM "draughts" WHERE ("draughts"."id" = 2) [0m
Rendering template within layouts/application
Rendering draughts/edit
Rendered draughts/_form (10.5ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://localhost/draughts/2/edit]


Processing DraughtsController#update (for 127.0.0.1 at 2010-08-14 09:44:37) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"2", "draught"=>{"price"=>"800", "glass_type"=>"Pint", "volume_unit"=>"Gallons", "excise_tax"=>"0.0", "brewery"=>"North Coast", "serving_size"=>"500", "keg_cost"=>"14400", "country"=>"US", "stock"=>"4", "sales_tax"=>"0.09", "display"=>"1", "volume"=>"15.5", "full_name"=>"Old Rasputin", "display_name"=>"Old Rasputin", "source"=>"Morris Distributing", "abv"=>"9.0"}}
  [4;36;1mDraught Load (0.4ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 2) [0m
  [4;35;1mDraught Update (0.3ms)[0m   [0mUPDATE "draughts" SET "updated_at" = '2010-08-14 16:44:37', "keg_cost" = 1440000, "price" = 80000 WHERE "id" = 2[0m
Redirected to http://localhost:3000/draughts/2
Completed in 16ms (DB: 1) | 302 Found [http://localhost/draughts/2]


Processing DraughtsController#show (for 127.0.0.1 at 2010-08-14 09:44:37) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 2) [0m
Rendering template within layouts/application
Rendering draughts/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 23ms (View: 15, DB: 1) | 200 OK [http://localhost/draughts/2]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 09:44:41) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 09:44:42) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 25ms (View: 19, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 09:45:02) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 09:50:16) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 83ms (View: 76, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 09:50:24) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 10:05:02) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 10:05:13) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 86ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 10:05:23) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 10:06:58) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 82ms (View: 76, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 10:07:42) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 10:08:39) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 30ms (View: 24, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#destroy (for 127.0.0.1 at 2010-08-14 10:09:14) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"2"}
  [4;36;1mDraught Load (0.4ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 2) [0m
  [4;35;1mVestalVersions::Version Delete all (0.3ms)[0m   [0mDELETE FROM "versions" WHERE ((versioned_id = 2) AND (versioned_type = 'Draught')) [0m
  [4;36;1mDraught Destroy (0.1ms)[0m   [0;1mDELETE FROM "draughts" WHERE "id" = 2[0m
Redirected to http://localhost:3000/draughts
Completed in 76ms (DB: 1) | 302 Found [http://localhost/draughts/2]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 10:09:14) [GET]
  [4;35;1mDraught Load (0.5ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#new (for 127.0.0.1 at 2010-08-14 10:09:16) [GET]
Rendering template within layouts/application
Rendering draughts/new
Rendered draughts/_form (9.8ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 28ms (View: 21, DB: 0) | 200 OK [http://localhost/draughts/new]


Processing DraughtsController#create (for 127.0.0.1 at 2010-08-14 10:09:56) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "draught"=>{"price"=>"8", "glass_type"=>"Pint", "volume_unit"=>"Gallons", "excise_tax"=>"0", "brewery"=>"North Coast", "serving_size"=>"500", "keg_cost"=>"144", "country"=>"US", "stock"=>"4", "sales_tax"=>".09", "display"=>"1", "volume"=>"15.5", "full_name"=>"Old Rasputin", "display_name"=>"Old Rasputin", "source"=>"Morris Distributing", "abv"=>"9.0"}}
  [4;36;1mDraught Create (0.4ms)[0m   [0;1mINSERT INTO "draughts" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "keg_cost", "serving_size", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv") VALUES('Gallons', 'Pint', 800, 'North Coast', 0.0, '2010-08-14 17:09:56', 'US', 14400, 500, '2010-08-14 17:09:56', 0.09, 4, 15.5, 't', 'Old Rasputin', 'Old Rasputin', 'Morris Distributing', 9.0)[0m
Redirected to http://localhost:3000/draughts/3
Completed in 14ms (DB: 0) | 302 Found [http://localhost/draughts]


Processing DraughtsController#show (for 127.0.0.1 at 2010-08-14 10:09:57) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mDraught Load (0.3ms)[0m   [0mSELECT * FROM "draughts" WHERE ("draughts"."id" = 3) [0m
Rendering template within layouts/application
Rendering draughts/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 3 AND "versions".versioned_type = 'Draught') [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 31ms (View: 23, DB: 1) | 200 OK [http://localhost/draughts/3]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 10:10:06) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#edit (for 127.0.0.1 at 2010-08-14 10:10:18) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mDraught Load (0.3ms)[0m   [0;1mSELECT * FROM "draughts" WHERE ("draughts"."id" = 3) [0m
Rendering template within layouts/application
Rendering draughts/edit
Rendered draughts/_form (68.9ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 88ms (View: 81, DB: 1) | 200 OK [http://localhost/draughts/3/edit]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 10:10:28) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/draughts]


Processing UsersController#index (for 10.0.1.7 at 2010-08-14 10:12:47) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 33ms (View: 6, DB: 0) | 200 OK [http://10.0.1.4/]


Processing DraughtsController#index (for 10.0.1.7 at 2010-08-14 10:12:53) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
Completed in 80ms (View: 15, DB: 1) | 200 OK [http://10.0.1.4/draughts]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
Migrating to CreateMiscs (20100814053619)
Migrating to CreateFoods (20100814053639)
Migrating to CreateBottles (20100814053704)
Migrating to CreateDraughts (20100814053724)
Migrating to CreatePurchases (20100814172832)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
Migrating to CreateMiscs (20100814053619)
Migrating to CreateFoods (20100814053639)
Migrating to CreateBottles (20100814053704)
Migrating to CreateDraughts (20100814053724)
Migrating to CreatePurchases (20100814172832)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "tab_id" integer, "purchasable_id" integer, "purchasable_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814172832')[0m
Migrating to CreateTabs (20100814174003)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "tabs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "user_id" integer, "drawer_id" integer, "closed_at" datetime, "type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814174003')[0m
Migrating to CreateDrawers (20100814175230)
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "drawers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "closed_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814175230')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("drawers")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("purchases")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("tabs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
Migrating to CreateMiscs (20100814053619)
Migrating to CreateFoods (20100814053639)
Migrating to CreateBottles (20100814053704)
Migrating to CreateDraughts (20100814053724)
Migrating to CreatePurchases (20100814172832)
Migrating to CreateTabs (20100814174003)
Migrating to CreateDrawers (20100814175230)
Migrating to CreateTransactions (20100814175903)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "amount" integer, "user_id" integer, "tab_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814175903')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("drawers")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("purchases")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("tabs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("versions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_tag')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_number')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
Migrating to CreateMiscs (20100814053619)
Migrating to CreateFoods (20100814053639)
Migrating to CreateBottles (20100814053704)
Migrating to CreateDraughts (20100814053724)
Migrating to CreatePurchases (20100814172832)
Migrating to CreateTabs (20100814174003)
Migrating to CreateDrawers (20100814175230)
Migrating to CreateTransactions (20100814175903)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("drawers")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("purchases")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("tabs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("versions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_tag')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_number')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:09:31) [GET]
  [4;36;1mDraught Load (0.9ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `transactions_path' for #<ActionView::Base:0x1030e82e8>) on line #30 of app/views/layouts/application.html.haml:
27:           |
28:           %li= link_to "Drawers", drawers_path
29:           %li= link_to "Tabs", tabs_path
30:           %li= link_to "Transactions", transactions_path
31:           %li= link_to "Purchases", purchases_path
32:       - flash.each do |name, msg|
33:         = content_tag :div, msg, :id => "flash_#{name}"

    app/views/layouts/application.html.haml:30:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (38.3ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:10:15) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 108ms (View: 42, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:11:22) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 93ms (View: 85, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:11:47) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:11:48) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:12:08) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:12:49) [GET]
  [4;35;1mDraught Load (0.9ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 31ms (View: 23, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:13:09) [GET]
  [4;36;1mDraught Load (0.9ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:13:10) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:13:25) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 85ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:13:26) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:15:18) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 85ms (View: 77, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:15:57) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 31ms (View: 24, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:16:23) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 86ms (View: 79, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:24:48) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:25:04) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:25:25) [GET]
  [4;35;1mDraught Load (0.9ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:25:43) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 30ms (View: 23, DB: 1) | 200 OK [http://localhost/draughts]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 11:25:51) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 21ms (View: 6, DB: 0) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:25:52) [GET]
  [4;36;1mBottle Load (0.6ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:25:53) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 85ms (View: 78, DB: 1) | 200 OK [http://localhost/draughts]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:25:55) [GET]
  [4;36;1mFood Load (0.6ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/foods]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 11:25:56) [GET]
  [4;35;1mMisc Load (0.6ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 23ms (View: 16, DB: 1) | 200 OK [http://localhost/miscs]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 11:25:57) [GET]
  [4;36;1mDrawer Load (0.6ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 21ms (View: 16, DB: 1) | 200 OK [http://localhost/drawers]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-14 11:26:03) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (4.2ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 35ms (View: 26, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-14 11:26:08) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"12345"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (3.2ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 227ms (View: 8, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-14 11:26:12) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"1234"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.8ms)
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 11:26:14) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2010-08-14 11:26:16) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

CanCan::AccessDenied (You are not authorized to access this page.):
  cancan (1.3.2) lib/cancan/controller_additions.rb:193:in `authorize!'
  cancan (1.3.2) lib/cancan/controller_resource.rb:35:in `authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `send'
  cancan (1.3.2) lib/cancan/controller_resource.rb:9:in `add_before_filter'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (31.6ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2010-08-14 11:26:42) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.7ms)
Completed in 27ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-14 11:26:49) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"1234", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"1234"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'justin catalana') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd3e4ff1323f452636f7b8eddecb176832ffd507f4d997c6c054960471930590b36c731ae117e1a5a875c28859593ec13fee009a0998404a97df6b85a9b144937') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 18:26:49', 'fa070942604eddee56875b3f2b0c686f27a4acdc214fea590a63dc342370e79e4c23b6d12978c5412c1c062548b26909a734522e63246d6b99b97b71ded61f7a', '2010-08-14 18:26:49', 'Justin Catalana', 'Admin', 'rAOHfJRdKgWUDeb1n', '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1')[0m
Redirected to http://localhost:3000/
Completed in 41ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 11:26:49) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 19ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 11:26:53) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 11:27:06) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:27:07) [GET]
  [4;35;1mBottle Load (0.6ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 18ms (View: 11, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 11:27:08) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (93.8ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 141ms (View: 133, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 11:30:45) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "bottle"=>{"price"=>"12", "glass_type"=>"tulip", "volume_unit"=>"ml", "excise_tax"=>"0", "brewery"=>"Nøgne Ø", "cost"=>"3.45", "country"=>"no", "stock"=>"48", "sales_tax"=>".09", "display"=>"1", "volume"=>"500", "full_name"=>"Saison ", "display_name"=>"Nøgne Ø Saison", "source"=>"Morris Distributing", "abv"=>"6.5"}}
  [4;36;1mBottle Create (0.3ms)[0m   [0;1mINSERT INTO "bottles" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "cost", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv") VALUES('ml', 'tulip', 1200, 'Nøgne Ø', 0.0, '2010-08-14 18:30:45', 'no', 345, '2010-08-14 18:30:45', 0.09, 48, 500.0, 't', 'Saison ', 'Nøgne Ø Saison', 'Morris Distributing', 6.5)[0m
Redirected to http://localhost:3000/bottles/1
Completed in 324ms (DB: 0) | 302 Found [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 11:30:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBottle Load (0.3ms)[0m   [0mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 102ms (View: 93, DB: 1) | 200 OK [http://localhost/bottles/1]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:30:52) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index

ActionView::TemplateError (undefined method `to_currancy' for "0.12":String) on line #34 of app/views/bottles/index.html.haml:
31:       %td= h bottle.glass_type
32:       %td= h bottle.sales_tax
33:       %td= h bottle.excise_tax
34:       %td= h (bottle.price/100).to_currancy
35:       %td= h bottle.stock
36:       %td= h bottle.display
37:       %td= link_to 'Show', bottle

    app/views/bottles/index.html.haml:34:in `_run_haml_app47views47bottles47index46html46haml'
    app/views/bottles/index.html.haml:20:in `each'
    app/views/bottles/index.html.haml:20:in `_run_haml_app47views47bottles47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (34.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:33:15) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 107ms (View: 25, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:34:09) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 31ms (View: 24, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:34:27) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 102ms (View: 95, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:35:02) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 31ms (View: 24, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:35:08) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 95ms (View: 88, DB: 1) | 200 OK [http://localhost/draughts]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:35:09) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:35:10) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 11:35:45) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:35:46) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:35:48) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 93ms (View: 86, DB: 1) | 200 OK [http://localhost/draughts]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:35:50) [GET]
  [4;35;1mFood Load (0.6ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 18ms (View: 11, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#new (for 127.0.0.1 at 2010-08-14 11:35:51) [GET]
Rendering template within layouts/application
Rendering foods/new
Rendered foods/_form (367.3ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 461ms (View: 454, DB: 0) | 200 OK [http://localhost/foods/new]


Processing FoodsController#create (for 127.0.0.1 at 2010-08-14 11:36:34) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "food"=>{"price"=>"6", "cost"=>".8", "sales_tax"=>".09", "display"=>"1", "display_name"=>"Tomato & Garlic"}}
  [4;36;1mFood Create (0.3ms)[0m   [0;1mINSERT INTO "foods" ("price", "created_at", "cost", "updated_at", "sales_tax", "display", "display_name") VALUES(600, '2010-08-14 18:36:34', 80, '2010-08-14 18:36:34', 0.09, 't', 'Tomato & Garlic')[0m
Redirected to http://localhost:3000/foods/1
Completed in 13ms (DB: 0) | 302 Found [http://localhost/foods]


Processing FoodsController#show (for 127.0.0.1 at 2010-08-14 11:36:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
Rendering template within layouts/application
Rendering foods/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Food') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/foods/1]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:36:37) [GET]
  [4;36;1mFood Load (0.7ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 93ms (View: 16, DB: 1) | 200 OK [http://localhost/foods]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:36:45) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/bottles]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:36:47) [GET]
  [4;36;1mFood Load (0.7ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 14, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:38:19) [GET]
  [4;36;1mFood Load (0.7ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index

ActionView::TemplateError (undefined method `number_to_currancy' for #<ActionView::Base:0x10320fc70>) on line #13 of app/views/foods/index.html.haml:
10:   - for food in @foods
11:     %tr
12:       %td= h food.display_name
13:       %td= h number_to_currancy food.cost
14:       %td= h number_to_percentage food.sales_tax, :precision => 2
15:       %td= h number_to_currancy food.price
16:       %td= h food.display

    app/views/foods/index.html.haml:13:in `_run_haml_app47views47foods47index46html46haml'
    app/views/foods/index.html.haml:10:in `each'
    app/views/foods/index.html.haml:10:in `_run_haml_app47views47foods47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (34.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:38:36) [GET]
  [4;35;1mFood Load (0.7ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index

ActionView::TemplateError (undefined method `number_to_currancy' for #<ActionView::Base:0x1036058e8>) on line #13 of app/views/foods/index.html.haml:
10:   - for food in @foods
11:     %tr
12:       %td= h food.display_name
13:       %td= h number_to_currancy food.cost
14:       %td= h number_to_percentage food.sales_tax, :precision => 2
15:       %td= h number_to_currency food.price
16:       %td= h food.display

    app/views/foods/index.html.haml:13:in `_run_haml_app47views47foods47index46html46haml'
    app/views/foods/index.html.haml:10:in `each'
    app/views/foods/index.html.haml:10:in `_run_haml_app47views47foods47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (36.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:38:46) [GET]
  [4;36;1mFood Load (0.7ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index

ActionView::TemplateError (undefined method `number_to_currancy' for #<ActionView::Base:0x102eb7c80>) on line #13 of app/views/foods/index.html.haml:
10:   - for food in @foods
11:     %tr
12:       %td= h food.display_name
13:       %td= h number_to_currancy food.cost
14:       %td= h number_to_percentage food.sales_tax, :precision => 2
15:       %td= h number_to_currency food.price
16:       %td= h food.display

    app/views/foods/index.html.haml:13:in `_run_haml_app47views47foods47index46html46haml'
    app/views/foods/index.html.haml:10:in `each'
    app/views/foods/index.html.haml:10:in `_run_haml_app47views47foods47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (37.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:38:58) [GET]
  [4;35;1mFood Load (0.7ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 27ms (View: 20, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:39:10) [GET]
  [4;35;1mFood Load (0.7ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:39:35) [GET]
  [4;35;1mFood Load (0.7ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 27ms (View: 20, DB: 1) | 200 OK [http://localhost/foods]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 11:39:54) [GET]
  [4;35;1mMisc Load (0.6ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://localhost/miscs]


Processing MiscsController#new (for 127.0.0.1 at 2010-08-14 11:39:56) [GET]
Rendering template within layouts/application
Rendering miscs/new
Rendered miscs/_form (6.7ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 31ms (View: 24, DB: 0) | 200 OK [http://localhost/miscs/new]


Processing MiscsController#create (for 127.0.0.1 at 2010-08-14 11:40:32) [POST]
  Parameters: {"misc"=>{"price"=>"9", "cost"=>"3.5", "sales_tax"=>".09", "display"=>"1", "display_name"=>"Bella Donovan Beans"}, "commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mMisc Create (0.3ms)[0m   [0;1mINSERT INTO "miscs" ("price", "created_at", "cost", "updated_at", "sales_tax", "display", "display_name") VALUES(900, '2010-08-14 18:40:32', 350, '2010-08-14 18:40:32', 0.09, 't', 'Bella Donovan Beans')[0m
Redirected to http://localhost:3000/miscs/1
Completed in 85ms (DB: 0) | 302 Found [http://localhost/miscs]


Processing MiscsController#show (for 127.0.0.1 at 2010-08-14 11:40:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMisc Load (0.2ms)[0m   [0mSELECT * FROM "miscs" WHERE ("miscs"."id" = 1) [0m
Rendering template within layouts/application
Rendering miscs/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Misc') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 32ms (View: 24, DB: 1) | 200 OK [http://localhost/miscs/1]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 11:40:34) [GET]
  [4;36;1mMisc Load (0.7ms)[0m   [0;1mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 15, DB: 1) | 200 OK [http://localhost/miscs]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 11:41:28) [GET]
  [4;36;1mMisc Load (0.7ms)[0m   [0;1mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 28ms (View: 21, DB: 1) | 200 OK [http://localhost/miscs]


Processing MiscsController#new (for 127.0.0.1 at 2010-08-14 11:41:42) [GET]
Rendering template within layouts/application
Rendering miscs/new
Rendered miscs/_form (4.5ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 23ms (View: 16, DB: 0) | 200 OK [http://localhost/miscs/new]


Processing MiscsController#create (for 127.0.0.1 at 2010-08-14 11:41:54) [POST]
  Parameters: {"misc"=>{"price"=>"2", "cost"=>"1", "sales_tax"=>".09", "display"=>"1", "display_name"=>"Cup of Coffee"}, "commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mMisc Create (0.3ms)[0m   [0mINSERT INTO "miscs" ("price", "created_at", "cost", "updated_at", "sales_tax", "display", "display_name") VALUES(200, '2010-08-14 18:41:54', 100, '2010-08-14 18:41:54', 0.09, 't', 'Cup of Coffee')[0m
Redirected to http://localhost:3000/miscs/2
Completed in 14ms (DB: 0) | 302 Found [http://localhost/miscs]


Processing MiscsController#show (for 127.0.0.1 at 2010-08-14 11:41:54) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mMisc Load (0.2ms)[0m   [0;1mSELECT * FROM "miscs" WHERE ("miscs"."id" = 2) [0m
Rendering template within layouts/application
Rendering miscs/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Misc') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 14, DB: 1) | 200 OK [http://localhost/miscs/2]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 11:41:56) [GET]
  [4;35;1mMisc Load (0.8ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 23ms (View: 16, DB: 1) | 200 OK [http://localhost/miscs]


Processing MiscsController#new (for 127.0.0.1 at 2010-08-14 11:41:57) [GET]
Rendering template within layouts/application
Rendering miscs/new
Rendered miscs/_form (4.4ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 23ms (View: 16, DB: 0) | 200 OK [http://localhost/miscs/new]


Processing MiscsController#create (for 127.0.0.1 at 2010-08-14 11:42:14) [POST]
  Parameters: {"misc"=>{"price"=>"15", "cost"=>"3", "sales_tax"=>".09", "display"=>"1", "display_name"=>"T-Shirt"}, "commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mMisc Create (0.3ms)[0m   [0;1mINSERT INTO "miscs" ("price", "created_at", "cost", "updated_at", "sales_tax", "display", "display_name") VALUES(1500, '2010-08-14 18:42:14', 300, '2010-08-14 18:42:14', 0.09, 't', 'T-Shirt')[0m
Redirected to http://localhost:3000/miscs/3
Completed in 14ms (DB: 0) | 302 Found [http://localhost/miscs]


Processing MiscsController#show (for 127.0.0.1 at 2010-08-14 11:42:14) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mMisc Load (0.2ms)[0m   [0mSELECT * FROM "miscs" WHERE ("miscs"."id" = 3) [0m
Rendering template within layouts/application
Rendering miscs/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 3 AND "versions".versioned_type = 'Misc') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 92ms (View: 84, DB: 1) | 200 OK [http://localhost/miscs/3]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 11:42:15) [GET]
  [4;36;1mMisc Load (0.8ms)[0m   [0;1mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/miscs]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:42:29) [GET]
  [4;36;1mFood Load (0.7ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 15, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#edit (for 127.0.0.1 at 2010-08-14 11:43:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
Rendering template within layouts/application
Rendering foods/edit
Rendered foods/_form (5.8ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 391ms (View: 383, DB: 0) | 200 OK [http://localhost/foods/1/edit]


Processing FoodsController#update (for 127.0.0.1 at 2010-08-14 11:43:56) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1", "food"=>{"price"=>"4", "cost"=>".8", "sales_tax"=>"0.09", "display"=>"1", "display_name"=>"Tomato & Garlic"}}
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mFood Update (0.2ms)[0m   [0mUPDATE "foods" SET "updated_at" = '2010-08-14 18:43:56', "price" = 400 WHERE "id" = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Food') [0m
  [4;35;1mVestalVersions::Version Create (0.4ms)[0m   [0mINSERT INTO "versions" ("number", "created_at", "updated_at", "versioned_type", "tag", "versioned_id", "user_type", "user_id", "user_name", "changes") VALUES(2, '2010-08-14 18:43:57', '2010-08-14 18:43:57', 'Food', NULL, 1, NULL, NULL, NULL, '--- 
price: 
- 600
- 4.0
')[0m
Redirected to http://localhost:3000/foods/1
Completed in 454ms (DB: 1) | 302 Found [http://localhost/foods/1]


Processing FoodsController#show (for 127.0.0.1 at 2010-08-14 11:43:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
Rendering template within layouts/application
Rendering foods/show
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Food') [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 15, DB: 1) | 200 OK [http://localhost/foods/1]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:44:00) [GET]
  [4;35;1mFood Load (0.7ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#new (for 127.0.0.1 at 2010-08-14 11:44:04) [GET]
Rendering template within layouts/application
Rendering foods/new
Rendered foods/_form (4.6ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 17, DB: 0) | 200 OK [http://localhost/foods/new]


Processing FoodsController#create (for 127.0.0.1 at 2010-08-14 11:44:25) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "food"=>{"price"=>"6", "cost"=>"1.65", "sales_tax"=>".09", "display"=>"1", "display_name"=>"boquerones"}}
  [4;36;1mFood Create (0.3ms)[0m   [0;1mINSERT INTO "foods" ("price", "created_at", "cost", "updated_at", "sales_tax", "display", "display_name") VALUES(600, '2010-08-14 18:44:25', 165, '2010-08-14 18:44:25', 0.09, 't', 'boquerones')[0m
Redirected to http://localhost:3000/foods/2
Completed in 12ms (DB: 0) | 302 Found [http://localhost/foods]


Processing FoodsController#show (for 127.0.0.1 at 2010-08-14 11:44:26) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
Rendering template within layouts/application
Rendering foods/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Food') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 16, DB: 1) | 200 OK [http://localhost/foods/2]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:44:27) [GET]
  [4;36;1mFood Load (0.7ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 23ms (View: 16, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#edit (for 127.0.0.1 at 2010-08-14 11:44:31) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
Rendering template within layouts/application
Rendering foods/edit
Rendered foods/_form (4.9ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/foods/2/edit]


Processing FoodsController#update (for 127.0.0.1 at 2010-08-14 11:44:35) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"2", "food"=>{"price"=>"600", "cost"=>"165", "sales_tax"=>"0.09", "display"=>"1", "display_name"=>"Boquerones"}}
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mFood Update (0.3ms)[0m   [0mUPDATE "foods" SET "updated_at" = '2010-08-14 18:44:35', "display_name" = 'Boquerones', "price" = 60000, "cost" = 16500 WHERE "id" = 2[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Food') [0m
  [4;35;1mVestalVersions::Version Create (0.3ms)[0m   [0mINSERT INTO "versions" ("number", "created_at", "updated_at", "versioned_type", "tag", "versioned_id", "user_type", "user_id", "user_name", "changes") VALUES(2, '2010-08-14 18:44:35', '2010-08-14 18:44:35', 'Food', NULL, 2, NULL, NULL, NULL, '--- 
display_name: 
- boquerones
- Boquerones
')[0m
Redirected to http://localhost:3000/foods/2
Completed in 22ms (DB: 1) | 302 Found [http://localhost/foods/2]


Processing FoodsController#show (for 127.0.0.1 at 2010-08-14 11:44:35) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
Rendering template within layouts/application
Rendering foods/show
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Food') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 15, DB: 1) | 200 OK [http://localhost/foods/2]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:44:36) [GET]
  [4;35;1mFood Load (0.8ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 91ms (View: 84, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#new (for 127.0.0.1 at 2010-08-14 11:44:43) [GET]
Rendering template within layouts/application
Rendering foods/new
Rendered foods/_form (4.4ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 23ms (View: 16, DB: 0) | 200 OK [http://localhost/foods/new]


Processing FoodsController#create (for 127.0.0.1 at 2010-08-14 11:45:05) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "food"=>{"price"=>"5", "cost"=>"2.1", "sales_tax"=>".09", "display"=>"1", "display_name"=>"Salt Cured Anchovies"}}
  [4;36;1mFood Create (0.3ms)[0m   [0;1mINSERT INTO "foods" ("price", "created_at", "cost", "updated_at", "sales_tax", "display", "display_name") VALUES(500, '2010-08-14 18:45:05', 210, '2010-08-14 18:45:05', 0.09, 't', 'Salt Cured Anchovies')[0m
Redirected to http://localhost:3000/foods/3
Completed in 13ms (DB: 0) | 302 Found [http://localhost/foods]


Processing FoodsController#show (for 127.0.0.1 at 2010-08-14 11:45:05) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 3) [0m
Rendering template within layouts/application
Rendering foods/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 3 AND "versions".versioned_type = 'Food') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 15, DB: 1) | 200 OK [http://localhost/foods/3]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:45:06) [GET]
  [4;36;1mFood Load (0.8ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/foods]


Processing FoodsController#edit (for 127.0.0.1 at 2010-08-14 11:45:11) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
Rendering template within layouts/application
Rendering foods/edit
Rendered foods/_form (5.0ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 94ms (View: 86, DB: 0) | 200 OK [http://localhost/foods/2/edit]


Processing FoodsController#update (for 127.0.0.1 at 2010-08-14 11:45:22) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"2", "food"=>{"price"=>"6", "cost"=>"1.65", "sales_tax"=>"0.09", "display"=>"1", "display_name"=>"Boquerones"}}
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mFood Update (0.2ms)[0m   [0mUPDATE "foods" SET "updated_at" = '2010-08-14 18:45:22', "price" = 600, "cost" = 165 WHERE "id" = 2[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Food') [0m
  [4;35;1mVestalVersions::Version Create (0.3ms)[0m   [0mINSERT INTO "versions" ("number", "created_at", "updated_at", "versioned_type", "tag", "versioned_id", "user_type", "user_id", "user_name", "changes") VALUES(3, '2010-08-14 18:45:22', '2010-08-14 18:45:22', 'Food', NULL, 2, NULL, NULL, NULL, '--- 
price: 
- 60000
- 6.0
cost: 
- 16500
- 1.65
')[0m
Redirected to http://localhost:3000/foods/2
Completed in 22ms (DB: 1) | 302 Found [http://localhost/foods/2]


Processing FoodsController#show (for 127.0.0.1 at 2010-08-14 11:45:22) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
Rendering template within layouts/application
Rendering foods/show
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Food') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 92ms (View: 83, DB: 1) | 200 OK [http://localhost/foods/2]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:45:24) [GET]
  [4;35;1mFood Load (0.9ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/foods]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 11:45:37) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 11:45:40) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 11:45:41) [GET]
  [4;35;1mFood Load (0.8ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/foods]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 11:45:43) [GET]
  [4;35;1mMisc Load (0.8ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 95ms (View: 88, DB: 1) | 200 OK [http://localhost/miscs]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 11:45:44) [GET]
  [4;35;1mDrawer Load (0.5ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 16ms (View: 11, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-14 11:45:55) [GET]
Rendering template within layouts/application
Rendering drawers/new

ActionView::TemplateError (undefined method `user' for #<Drawer:0x102facf28>) on line #6 of app/views/drawers/_form.html.haml:
3:   %p
4:     = f.label :user
5:     %br
6:     = f.text_field :user
7:   %p
8:     = f.label :closed_at
9:     %br

    app/views/drawers/_form.html.haml:6:in `_run_haml_app47views47drawers47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/drawers/_form.html.haml:1:in `_run_haml_app47views47drawers47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/drawers/new.html.haml:3:in `_run_haml_app47views47drawers47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (125.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#new (for 127.0.0.1 at 2010-08-14 11:46:34) [GET]
Rendering template within layouts/application
Rendering drawers/new
Rendered drawers/_form (55.0ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 149ms (View: 144, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-14 11:47:47) [GET]
Rendering template within layouts/application
Rendering drawers/new
Rendered drawers/_form (3.6ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#create (for 127.0.0.1 at 2010-08-14 11:48:05) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "drawer"=>{"user_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: user_id
  [4;35;1mDrawer Create (0.3ms)[0m   [0mINSERT INTO "drawers" ("created_at", "updated_at", "user_id", "closed_at") VALUES('2010-08-14 18:48:05', '2010-08-14 18:48:05', NULL, NULL)[0m
Redirected to http://localhost:3000/drawers/1
Completed in 10ms (DB: 0) | 302 Found [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-14 11:48:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 1) [0m
Rendering template within layouts/application
Rendering drawers/show

ActionView::TemplateError (undefined method `user' for #<Drawer:0x102e895d8>) on line #5 of app/views/drawers/show.html.haml:
2: 
3: %p
4:   %strong User:
5:   =h @drawer.user
6: %p
7:   %strong Closed At:
8:   =h @drawer.closed_at

    app/views/drawers/show.html.haml:5:in `_run_haml_app47views47drawers47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (36.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#show (for 127.0.0.1 at 2010-08-14 11:48:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 1) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 17, DB: 0) | 200 OK [http://localhost/drawers/1]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-14 11:48:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 1) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://localhost/drawers/1]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mDrawer Load (0.4ms)[0m   [0mSELECT * FROM "drawers" LIMIT 1[0m


Processing DrawersController#destroy (for 127.0.0.1 at 2010-08-14 11:49:01) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 1) [0m
  [4;36;1mDrawer Destroy (5.6ms)[0m   [0;1mDELETE FROM "drawers" WHERE "id" = 1[0m
Redirected to http://localhost:3000/drawers
Completed in 15ms (DB: 6) | 302 Found [http://localhost/drawers/1]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 11:49:01) [GET]
  [4;35;1mDrawer Load (0.6ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 17ms (View: 12, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-14 11:49:04) [GET]
Rendering template within layouts/application
Rendering drawers/new
Rendered drawers/_form (4.0ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 93ms (View: 88, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#create (for 127.0.0.1 at 2010-08-14 11:49:47) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "drawer"=>{"user_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: user_id
  [4;36;1mDrawer Create (0.4ms)[0m   [0;1mINSERT INTO "drawers" ("created_at", "updated_at", "user_id", "closed_at") VALUES('2010-08-14 18:49:47', '2010-08-14 18:49:47', NULL, NULL)[0m
Redirected to http://localhost:3000/drawers/2
Completed in 9ms (DB: 0) | 302 Found [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-14 11:49:47) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://localhost/drawers/2]


Processing DrawersController#destroy (for 127.0.0.1 at 2010-08-14 11:50:21) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"2"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
  [4;36;1mDrawer Destroy (0.3ms)[0m   [0;1mDELETE FROM "drawers" WHERE "id" = 2[0m
Redirected to http://localhost:3000/drawers
Completed in 80ms (DB: 0) | 302 Found [http://localhost/drawers/2]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 11:50:21) [GET]
  [4;35;1mDrawer Load (0.6ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 17ms (View: 13, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-14 11:50:22) [GET]
Rendering template within layouts/application
Rendering drawers/new
Rendered drawers/_form (2.6ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#create (for 127.0.0.1 at 2010-08-14 11:50:24) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "drawer"=>{"user_id"=>"1"}}
  [4;36;1mDrawer Create (0.3ms)[0m   [0;1mINSERT INTO "drawers" ("created_at", "updated_at", "user_id", "closed_at") VALUES('2010-08-14 18:50:24', '2010-08-14 18:50:24', 1, NULL)[0m
Redirected to http://localhost:3000/drawers/3
Completed in 10ms (DB: 0) | 302 Found [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-14 11:50:24) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 3) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://localhost/drawers/3]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-14 11:51:45) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 3) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 23ms (View: 17, DB: 0) | 200 OK [http://localhost/drawers/3]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 11:52:12) [GET]
  [4;35;1mDrawer Load (0.6ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index

ActionView::TemplateError (undefined method `user' for #<Drawer:0x102eabf98>) on line #9 of app/views/drawers/index.html.haml:
6:     %th Closed at
7:   - for drawer in @drawers
8:     %tr
9:       %td= h drawer.user
10:       %td= h drawer.closed_at
11:       %td= link_to 'Show', drawer
12:       %td= link_to 'Edit', edit_drawer_path(drawer)

    app/views/drawers/index.html.haml:9:in `_run_haml_app47views47drawers47index46html46haml'
    app/views/drawers/index.html.haml:7:in `each'
    app/views/drawers/index.html.haml:7:in `_run_haml_app47views47drawers47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (36.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 11:53:34) [GET]
  [4;36;1mDrawer Load (0.7ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index

ActionView::TemplateError (undefined method `closed_at' for nil:NilClass) on line #10 of app/views/drawers/index.html.haml:
7:   - for drawer in @drawers
8:     %tr
9:       %td= h drawer.user_id
10:       - if @drawer.closed_at.blank?
11:         %td= "Open Drawer"
12:       -else
13:         %td= @drawer.closed_at

    app/views/drawers/index.html.haml:10:in `_run_haml_app47views47drawers47index46html46haml'
    app/views/drawers/index.html.haml:7:in `each'
    app/views/drawers/index.html.haml:7:in `_run_haml_app47views47drawers47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (116.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 11:54:09) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 19, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-14 11:54:14) [GET]
Rendering template within layouts/application
Rendering drawers/new
Rendered drawers/_form (2.7ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#create (for 127.0.0.1 at 2010-08-14 11:54:17) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "drawer"=>{"user_id"=>"1"}}
  [4;36;1mDrawer Create (0.3ms)[0m   [0;1mINSERT INTO "drawers" ("created_at", "updated_at", "user_id", "closed_at") VALUES('2010-08-14 18:54:17', '2010-08-14 18:54:17', 1, NULL)[0m
Redirected to http://localhost:3000/drawers/4
Completed in 11ms (DB: 0) | 302 Found [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-14 11:54:17) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 4) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 25ms (View: 19, DB: 0) | 200 OK [http://localhost/drawers/4]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 11:54:18) [GET]
  [4;35;1mDrawer Load (1.0ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#destroy (for 127.0.0.1 at 2010-08-14 11:54:22) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"4"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 4) [0m
  [4;36;1mDrawer Destroy (0.2ms)[0m   [0;1mDELETE FROM "drawers" WHERE "id" = 4[0m
Redirected to http://localhost:3000/drawers
Completed in 9ms (DB: 0) | 302 Found [http://localhost/drawers/4]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 11:54:22) [GET]
  [4;35;1mDrawer Load (0.6ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://localhost/drawers]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 11:54:38) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 40ms (View: 18, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 11:54:40) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (13.6ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 37ms (View: 31, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 11:55:36) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (5.1ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 26ms (View: 20, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 11:55:44) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Jack", "type"=>"sale", "user_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Jack', '2010-08-14 18:55:44', '2010-08-14 18:55:44', 1, NULL, NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/1
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 11:55:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 1) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 27ms (View: 20, DB: 0) | 200 OK [http://localhost/tabs/1]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 11:57:31) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 1) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 1[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/1]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 11:57:31) [GET]
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 11:57:33) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (3.4ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 11:57:43) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Jack", "type"=>"Sale", "user_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mTab Create (0.4ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Jack', '2010-08-14 18:57:43', '2010-08-14 18:57:43', 1, NULL, NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/2
Completed in 80ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 11:57:43) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 2) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/tabs/2]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 11:57:47) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 11:57:52) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (3.5ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 91ms (View: 16, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 11:58:03) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Susan", "type"=>"sale", "user_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Susan', '2010-08-14 18:58:03', '2010-08-14 18:58:03', 1, NULL, NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/3
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 11:58:03) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 3) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/tabs/3]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:00:42) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:00:54) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (5.2ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 26ms (View: 20, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:01:05) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Bob", "user_id"=>"1", "type_helper"=>"sale"}}
WARNING: Can't mass-assign these protected attributes: type_helper
  [4;35;1mTab Create (0.4ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Bob', '2010-08-14 19:01:05', '2010-08-14 19:01:05', 1, NULL, NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/4
Completed in 81ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:01:05) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 4) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/tabs/4]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:01:25) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:01:26) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (3.6ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 91ms (View: 16, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:01:33) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Jill", "user_id"=>"1", "type_helper"=>"sale"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Jill', '2010-08-14 19:01:33', '2010-08-14 19:01:33', 1, 'sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/5
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:01:33) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 5) [0m

ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'sale'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Tab.inheritance_column to use another column for that information.):
  app/controllers/tabs_controller.rb:7:in `show'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (102.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:01:54) [GET]
  [4;35;1mTab Load (0.9ms)[0m   [0mSELECT * FROM "tabs" [0m

ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'sale'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Tab.inheritance_column to use another column for that information.):
  app/controllers/tabs_controller.rb:3:in `index'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (30.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mTab Load (0.4ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;35;1mTab Load (0.4ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;35;1mTab Load (0.4ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;35;1mTab Load (0.4ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Destroy (0.4ms)[0m   [0;1mDELETE FROM "tabs" WHERE "id" = 5[0m


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:10:04) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 117ms (View: 30, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:10:07) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (13.1ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 39ms (View: 33, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:10:16) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Gob", "user_id"=>"1", "type_helper"=>"Sale"}}
  [4;35;1mTab Create (0.4ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Gob', '2010-08-14 19:10:16', '2010-08-14 19:10:16', 1, 'Sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/6
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:10:16) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 6) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 28ms (View: 21, DB: 0) | 200 OK [http://localhost/tabs/6]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:10:21) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 81ms (View: 75, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:10:24) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (3.4ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:10:32) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Fin", "user_id"=>"1", "type_helper"=>"sale"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Fin', '2010-08-14 19:10:32', '2010-08-14 19:10:32', 1, 'sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/7
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:10:32) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 7) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 82ms (View: 14, DB: 0) | 200 OK [http://localhost/tabs/7]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:10:34) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:12:35) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (3.6ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:12:48) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Samuel", "user_id"=>"1", "type_helper"=>"sale"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Samuel', '2010-08-14 19:12:48', '2010-08-14 19:12:48', 1, 'sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/8
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:12:48) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 8) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 20ms (View: 13, DB: 0) | 200 OK [http://localhost/tabs/8]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:12:50) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 83ms (View: 77, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:16:10) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (14.3ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 108ms (View: 41, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:16:18) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"gogo", "user_id"=>"1", "type_helper"=>"fun"}}
  [4;35;1mTab Create (0.4ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('gogo', '2010-08-14 19:16:18', '2010-08-14 19:16:18', 1, 'fun', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/9
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:16:18) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 9) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 87ms (View: 19, DB: 0) | 200 OK [http://localhost/tabs/9]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:16:23) [GET]
  [4;36;1mTab Load (1.1ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 30ms (View: 24, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 12:16:26) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"9"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 9) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 9[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/9]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:16:26) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 12:16:29) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"2"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 2) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 2[0m
Redirected to http://localhost:3000/tabs
Completed in 10ms (DB: 0) | 302 Found [http://localhost/tabs/2]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:16:29) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 82ms (View: 76, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 12:16:30) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"3"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 3) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 3[0m
Redirected to http://localhost:3000/tabs
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs/3]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:16:30) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 12:16:32) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"4"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 4) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 4[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/4]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:16:33) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 12:16:35) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"6"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 6) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 6[0m
Redirected to http://localhost:3000/tabs
Completed in 10ms (DB: 0) | 302 Found [http://localhost/tabs/6]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:16:35) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 79ms (View: 73, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 12:16:37) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"7"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 7) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 7[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/7]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:16:37) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 12:16:39) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"8"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 8) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 8[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/8]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:16:39) [GET]
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:16:42) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (3.4ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:16:52) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Jack", "user_id"=>"1", "type_helper"=>"Sale"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Jack', '2010-08-14 19:16:52', '2010-08-14 19:16:52', 1, 'Sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/10
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:16:52) [GET]
  Parameters: {"id"=>"10"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 20ms (View: 13, DB: 0) | 200 OK [http://localhost/tabs/10]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:16:55) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:17:02) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (60.9ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 79ms (View: 73, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:17:08) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Gus", "user_id"=>"1", "type_helper"=>"Sale"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Gus', '2010-08-14 19:17:08', '2010-08-14 19:17:08', 1, 'Sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/11
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:17:08) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 11) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/tabs/11]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:17:10) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 82ms (View: 16, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:17:11) [GET]
Rendering template within layouts/application
Rendering tabs/new
Rendered tabs/_form (3.4ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:17:23) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"", "user_id"=>"1", "type_helper"=>"Register"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('', '2010-08-14 19:17:23', '2010-08-14 19:17:23', 1, 'Register', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/12
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:17:23) [GET]
  Parameters: {"id"=>"12"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 12) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/tabs/12]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:17:25) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:18:01) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 86ms (View: 80, DB: 1) | 200 OK [http://localhost/tabs]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 12:18:12) [GET]
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 21ms (View: 16, DB: 1) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 12:18:17) [GET]
Rendering template within layouts/application
Rendering purchases/new

ActionView::TemplateError (undefined method `user' for #<Purchase:0x103116378>) on line #6 of app/views/purchases/_form.html.haml:
3:   %p
4:     = f.label :user
5:     %br
6:     = f.text_field :user
7:   %p
8:     = f.label :tab
9:     %br

    app/views/purchases/_form.html.haml:6:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/purchases/_form.html.haml:1:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (50.8ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:18:44) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 87ms (View: 81, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:21:18) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:21:19) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m

ActionView::TemplateError (undefined method `#<User:0x1030f8198>' for #<Tab:0x103193788>) on line #6 of app/views/tabs/_form.html.haml:
3:   %p
4:     = f.label :user_id
5:     %br
6:     = f.hidden_field current_user
7:   %p
8:     = f.label :user_id
9:     %br

    app/views/tabs/_form.html.haml:6:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/tabs/_form.html.haml:1:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/tabs/new.html.haml:3:in `_run_haml_app47views47tabs47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (49.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:24:17) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Rendered tabs/_form (81.8ms)
Completed in 92ms (View: 86, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:25:01) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Rendered tabs/_form (15.7ms)
Completed in 26ms (View: 20, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:25:39) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Rendered tabs/_form (78.8ms)
Completed in 90ms (View: 83, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:26:03) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"user_id"=>"", "type_helper"=>"Sale"}}
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES(NULL, '2010-08-14 19:26:03', '2010-08-14 19:26:03', NULL, 'Sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/13
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:26:03) [GET]
  Parameters: {"id"=>"13"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 13) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 22ms (View: 15, DB: 0) | 200 OK [http://localhost/tabs/13]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:29:10) [GET]
  Parameters: {"id"=>"13"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 13) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 83ms (View: 14, DB: 0) | 200 OK [http://localhost/tabs/13]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:29:12) [GET]
  [4;35;1mTab Load (0.9ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 23ms (View: 16, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:29:14) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m

ActionView::TemplateError (undefined method `merge' for 1:Fixnum) on line #10 of app/views/tabs/_form.html.haml:
7:   %p
8:     = f.label :user_id
9:     %br
10:     = f.hidden_field :user_id, current_user.id
11:   %p
12:     = f.label :type_helper
13:     %br

    app/views/tabs/_form.html.haml:10:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/tabs/_form.html.haml:1:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/tabs/new.html.haml:3:in `_run_haml_app47views47tabs47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (47.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:29:26) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m

ActionView::TemplateError (undefined method `user_id1' for #<Tab:0x102f92fd8>) on line #10 of app/views/tabs/_form.html.haml:
7:   %p
8:     = f.label :user_id
9:     %br
10:     = f.hidden_field :user_id => current_user.id
11:   %p
12:     = f.label :type_helper
13:     %br

    app/views/tabs/_form.html.haml:10:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/tabs/_form.html.haml:1:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/tabs/new.html.haml:3:in `_run_haml_app47views47tabs47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (49.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:30:20) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Rendered tabs/_form (16.5ms)
Completed in 28ms (View: 21, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:30:30) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Jose", "user_id"=>"1", "type_helper"=>"Sale"}}
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Jose', '2010-08-14 19:30:30', '2010-08-14 19:30:30', 1, 'Sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/14
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:30:30) [GET]
  Parameters: {"id"=>"14"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 14) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 81ms (View: 74, DB: 1) | 200 OK [http://localhost/tabs/14]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:30:38) [GET]
  [4;35;1mTab Load (0.9ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/tabs]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 12:30:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 22ms (View: 7, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2010-08-14 12:30:42) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.8ms)
Completed in 89ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-14 12:30:50) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"12345", "role"=>"Admin", "username"=>"Tyler Catalana", "password"=>"12345"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'tyler catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'ae97981dcb7f0274eda342abe624b3cb143435a9ea33fd3ee50746fcf08c723067f2663218f48aebb51ab7b7794e373eef210ba018ee42bf2f18f8ea71a5938e') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-14 19:30:50', 'fb12886efb3cb32f9cddbde35a7e9e9cc393964641d2fe3fec85ce31c5e86fe9ee66265ea4efa98e27e1c1faf2f53a7b2fdc62fb730e49904b7b535483f0a800', '2010-08-14 19:30:50', 'Tyler Catalana', 'Admin', 'o18GRrpbcZRDdNQ90kog', 'ae97981dcb7f0274eda342abe624b3cb143435a9ea33fd3ee50746fcf08c723067f2663218f48aebb51ab7b7794e373eef210ba018ee42bf2f18f8ea71a5938e')[0m
Redirected to http://localhost:3000/
Completed in 477ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 12:30:51) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 19ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-08-14 12:30:56) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '193ff5558bdec25bbe750042f2ec287175d13c74524ee74a4e9b418ae324c5993d470387b6fdbf52ca3214587b49c66d6f37bd14a9d02f373a79140ccc7ae8c1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 12:30:56) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-14 12:30:58) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (3.9ms)
Completed in 22ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-14 12:31:09) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Tyler Catalana", "password"=>"12345"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'tyler catalana') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 12:31:09) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:31:28) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:31:29) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
Rendered tabs/_form (16.4ms)
Completed in 27ms (View: 21, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:31:39) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"George", "user_id"=>"2", "type_helper"=>"Sale"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('George', '2010-08-14 19:31:39', '2010-08-14 19:31:39', 2, 'Sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/15
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:31:39) [GET]
  Parameters: {"id"=>"15"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 15) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
Completed in 90ms (View: 83, DB: 1) | 200 OK [http://localhost/tabs/15]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:31:42) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/tabs]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-08-14 12:32:02) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 12:32:02) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 86ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-14 12:32:04) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.4ms)
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-14 12:32:10) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"12345"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (2.8ms)
Completed in 17ms (View: 5, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-14 12:32:14) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"1234"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 12:32:14) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:32:16) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 12:32:19) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered tabs/_form (80.7ms)
Completed in 89ms (View: 82, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 12:32:28) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Zach", "user_id"=>"1", "type_helper"=>"Sale"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Zach', '2010-08-14 19:32:28', '2010-08-14 19:32:28', 1, 'Sale', NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/16
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 12:32:28) [GET]
  Parameters: {"id"=>"16"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 16) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/tabs/16]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:32:30) [GET]
  [4;36;1mTab Load (1.1ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 94ms (View: 19, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 12:32:37) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"13"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 13) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 13[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/13]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:32:37) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 12:33:32) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 30ms (View: 23, DB: 1) | 200 OK [http://localhost/tabs]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mTab Load (0.4ms)[0m   [0mSELECT * FROM "tabs" LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;35;1mPurchase Load (1.0ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" LIMIT 1[0m
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" LIMIT 1[0m
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" LIMIT 1[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" LIMIT 1[0m
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" LIMIT 1[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases".tab_id = 10) [0m


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 13:04:27) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 97ms (View: 32, DB: 1) | 200 OK [http://localhost/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 13:04:28) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 24ms (View: 19, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 13:04:30) [GET]
Rendering template within layouts/application
Rendering transactions/new

ActionView::TemplateError (undefined method `user' for #<Transaction:0x1030b4f10>) on line #14 of app/views/transactions/_form.html.haml:
11:   %p
12:     = f.label :user
13:     %br
14:     = f.text_field :user
15:   %p
16:     = f.label :tab
17:     %br

    app/views/transactions/_form.html.haml:14:in `_run_haml_app47views47transactions47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/transactions/_form.html.haml:1:in `_run_haml_app47views47transactions47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/transactions/new.html.haml:3:in `_run_haml_app47views47transactions47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (53.6ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 13:05:12) [GET]
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 17, DB: 1) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:05:13) [GET]
Rendering template within layouts/application
Rendering purchases/new

ActionView::TemplateError (undefined method `user' for #<Purchase:0x1032c5ca0>) on line #6 of app/views/purchases/_form.html.haml:
3:   %p
4:     = f.label :user
5:     %br
6:     = f.text_field :user
7:   %p
8:     = f.label :tab
9:     %br

    app/views/purchases/_form.html.haml:6:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/purchases/_form.html.haml:1:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (113.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:14:56) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
ERROR: compiling _run_haml_app47views47purchases47_form46html46haml_locals_form_object RAISED compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:13: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47purchases47_form46html46haml_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :encoding=>nil, :ugly=>false, :escape_html=>false});_erbout = _hamlout.buffer;__in_erb_template = true;; form_for @purchase do |f|;
_hamlout.push_text("", 0, false);haml_temp =  f.error_messages;
_hamlout.push_text("#{haml_temp =  f.hidden_field :user_id, :value => current_user.id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_false_false_false_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));
_hamlout.push_text("\n<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  f.label :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  <br />\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.text_field :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.collection_select :tab_id, @tabs, :id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.submit "Submit"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:13:in `compile!'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers.rb:96:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/rails/../lib/sass/plugin/rails.rb:20:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:13: syntax error, unexpected kENSURE, expecting $end) on line #13 of app/views/purchases/_form.html.haml:
10:   %p
11:     = f.submit "Submit"

    app/views/purchases/_form.html.haml:13:in `compile!'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (108.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:18:52) [GET]
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
ERROR: compiling _run_haml_app47views47purchases47_form46html46haml_locals_form_object RAISED compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:13: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47purchases47_form46html46haml_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :encoding=>nil, :ugly=>false, :escape_html=>false});_erbout = _hamlout.buffer;__in_erb_template = true;; form_for @purchase do |f|;
_hamlout.push_text("", 0, false);haml_temp =  f.error_messages;
_hamlout.push_text("#{haml_temp =  f.hidden_field :user_id, :value => current_user.id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_false_false_false_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));
_hamlout.push_text("\n<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  f.label :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  <br />\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.text_field :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.collection_select :tab_id, @tabs, :id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.submit "Submit"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:13:in `compile!'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers.rb:96:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/rails/../lib/sass/plugin/rails.rb:20:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:13: syntax error, unexpected kENSURE, expecting $end) on line #13 of app/views/purchases/_form.html.haml:
10:   %p
11:     = f.submit "Submit"

    app/views/purchases/_form.html.haml:13:in `compile!'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (110.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:19:31) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
ERROR: compiling _run_haml_app47views47purchases47_form46html46haml_locals_form_object RAISED compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:13: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47purchases47_form46html46haml_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :encoding=>nil, :ugly=>false, :escape_html=>false});_erbout = _hamlout.buffer;__in_erb_template = true;; form_for @purchase do |f|;
_hamlout.push_text("", 0, false);haml_temp =  f.error_messages;
_hamlout.push_text("#{haml_temp =  f.hidden_field :user_id, :value => current_user.id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_false_false_false_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));
_hamlout.push_text("\n<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  f.label :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  <br />\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.text_field :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.collection_select :tab_id, @tabs
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.submit "Submit"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:13:in `compile!'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers.rb:96:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/rails/../lib/sass/plugin/rails.rb:20:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:13: syntax error, unexpected kENSURE, expecting $end) on line #13 of app/views/purchases/_form.html.haml:
10:   %p
11:     = f.submit "Submit"

    app/views/purchases/_form.html.haml:13:in `compile!'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (41.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:19:46) [GET]
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
ERROR: compiling _run_haml_app47views47purchases47_form46html46haml_locals_form_object RAISED compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:11: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47purchases47_form46html46haml_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :encoding=>nil, :ugly=>false, :escape_html=>false});_erbout = _hamlout.buffer;__in_erb_template = true;; form_for @purchase do |f|;
_hamlout.push_text("", 0, false);haml_temp =  f.error_messages;
_hamlout.push_text("#{haml_temp =  f.hidden_field :user_id, :value => current_user.id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_false_false_false_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));
_hamlout.push_text("\n<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  f.label :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  <br />\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.text_field :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.submit "Submit"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:11:in `compile!'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers.rb:96:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/rails/../lib/sass/plugin/rails.rb:20:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:11: syntax error, unexpected kENSURE, expecting $end) on line #11 of app/views/purchases/_form.html.haml:
8:   %p
9:     = f.submit "Submit"

    app/views/purchases/_form.html.haml:11:in `compile!'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (41.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:20:56) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
ERROR: compiling _run_haml_app47views47purchases47_form46html46haml_locals_form_object RAISED compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:11: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47purchases47_form46html46haml_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :encoding=>nil, :ugly=>false, :escape_html=>false});_erbout = _hamlout.buffer;__in_erb_template = true;; form_for @purchase do |f|;
_hamlout.push_text("", 0, false);haml_temp =  f.error_messages;
_hamlout.push_text("#{haml_temp =  f.hidden_field :user_id, :value => current_user.id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_false_false_false_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));
_hamlout.push_text("\n<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  f.label :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  <br />\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.text_field :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.submit "Submit"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:11:in `compile!'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers.rb:96:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/rails/../lib/sass/plugin/rails.rb:20:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:11: syntax error, unexpected kENSURE, expecting $end) on line #11 of app/views/purchases/_form.html.haml:
8:   %p
9:     = f.submit "Submit"

    app/views/purchases/_form.html.haml:11:in `compile!'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (42.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:20:57) [GET]
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
ERROR: compiling _run_haml_app47views47purchases47_form46html46haml_locals_form_object RAISED compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:11: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47purchases47_form46html46haml_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :encoding=>nil, :ugly=>false, :escape_html=>false});_erbout = _hamlout.buffer;__in_erb_template = true;; form_for @purchase do |f|;
_hamlout.push_text("", 0, false);haml_temp =  f.error_messages;
_hamlout.push_text("#{haml_temp =  f.hidden_field :user_id, :value => current_user.id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_false_false_false_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));
_hamlout.push_text("\n<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  f.label :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  <br />\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.text_field :tab_id
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n", 0, false);
_hamlout.push_text("  #{haml_temp =  f.submit "Submit"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:11:in `compile!'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers.rb:96:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/justin/.gem/ruby/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.23/rails/../lib/sass/plugin/rails.rb:20:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/Users/justin/.gem/ruby/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/Users/justin/.gem/ruby/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Users/justin/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Users/justin/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/justin/Desktop/Rails/pos_login/app/views/purchases/_form.html.haml:11: syntax error, unexpected kENSURE, expecting $end) on line #11 of app/views/purchases/_form.html.haml:
8:   %p
9:     = f.submit "Submit"

    app/views/purchases/_form.html.haml:11:in `compile!'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (109.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:21:14) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
Rendered purchases/_form (3.7ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 18, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:21:22) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered purchases/_form (15.2ms)
Completed in 29ms (View: 20, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:21:47) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

ActionView::TemplateError (wrong number of arguments (2 for 4)) on line #7 of app/views/purchases/_form.html.haml:
4:     = f.hidden_field :user_id, :value => current_user.id
5:     = f.label :tab_id
6:     %br
7:     = f.collection_select :tab_id, @tabs
8:   %p
9:     = f.submit "Submit"

    app/views/purchases/_form.html.haml:7:in `collection_select'
    app/views/purchases/_form.html.haml:7:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/purchases/_form.html.haml:1:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (46.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:22:21) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered purchases/_form (82.1ms)
Completed in 95ms (View: 86, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 13:22:31) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered purchases/_form (16.5ms)
Completed in 30ms (View: 21, DB: 1) | 200 OK [http://localhost/purchases/new]
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:29:26) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (14.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #9 of app/views/purchases/_form.html.haml:
6:     %br
7:     = f.collection_select :tab_id, @tabs, :id, :name
8:     = f.hidden_field :purchasable_type, :value => "food"
9:     = f.collection_select :purchasable_id, @foods, :id, :name
10:   %p
11:     = f.submit "Submit"

    app/views/purchases/_form.html.haml:9:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/purchases/_form.html.haml:1:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (50.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:29:40) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mFood Load (0.5ms)[0m   [0;1mSELECT * FROM "foods" [0m

ActionView::TemplateError (undefined method `name' for #<Food:0x1033eb828>) on line #9 of app/views/purchases/_form.html.haml:
6:     %br
7:     = f.collection_select :tab_id, @tabs, :id, :name
8:     = f.hidden_field :purchasable_type, :value => "food"
9:     = f.collection_select :purchasable_id, Food.all, :id, :name
10:   %p
11:     = f.submit "Submit"

    app/views/purchases/_form.html.haml:9:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/purchases/_form.html.haml:1:in `_run_haml_app47views47purchases47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/purchases/new.html.haml:3:in `_run_haml_app47views47purchases47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (110.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:29:53) [GET]
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mFood Load (0.5ms)[0m   [0mSELECT * FROM "foods" [0m
Rendered purchases/_form (89.8ms)
Completed in 103ms (View: 94, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 14:30:04) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"1", "user_id"=>"1", "purchasable_type"=>"food", "tab_id"=>"10"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mPurchase Create (47.5ms)[0m   [0;1mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 21:30:04', '2010-08-14 21:30:04', 1, 1, 10, 'food')[0m
Redirected to http://localhost:3000/purchases/1
Completed in 68ms (DB: 47) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:30:04) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 1) [0m
Rendering template within layouts/application
Rendering purchases/show

ActionView::TemplateError (undefined method `user' for #<Purchase:0x1031dfac0>) on line #5 of app/views/purchases/show.html.haml:
2: 
3: %p
4:   %strong User:
5:   =h @purchase.user
6: %p
7:   %strong Tab:
8:   =h @purchase.tab

    app/views/purchases/show.html.haml:5:in `_run_haml_app47views47purchases47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (105.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:32:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 1) [0m
Rendering template within layouts/application
Rendering purchases/show

ActionView::TemplateError (wrong constant name food) on line #15 of app/views/purchases/show.html.haml:
12: 
13: %p
14:   %strong Item:
15:   =h @purchase.purchasable.display_name
16:   
17: %p
18:   %strong Tab:

    app/views/purchases/show.html.haml:15:in `_run_haml_app47views47purchases47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (39.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:33:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 1) [0m
Rendering template within layouts/application
Rendering purchases/show

ActionView::TemplateError (wrong constant name food) on line #15 of app/views/purchases/show.html.haml:
12: 
13: %p
14:   %strong Item:
15:   =h @purchase.purchasable
16:   
17: %p
18:   %strong Tab:

    app/views/purchases/show.html.haml:15:in `_run_haml_app47views47purchases47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (38.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:33:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 1) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 90ms (View: 84, DB: 1) | 200 OK [http://localhost/purchases/1]
  [4;36;1mPurchase Load (0.5ms)[0m   [0;1mSELECT * FROM "purchases" LIMIT 1[0m


Processing PurchasesController#destroy (for 127.0.0.1 at 2010-08-14 14:34:47) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 1) [0m
  [4;35;1mPurchase Destroy (0.2ms)[0m   [0mDELETE FROM "purchases" WHERE "id" = 1[0m
Redirected to http://localhost:3000/purchases
Completed in 10ms (DB: 0) | 302 Found [http://localhost/purchases/1]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:34:47) [GET]
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 12, DB: 1) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:34:50) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mFood Load (0.4ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendered purchases/_form (84.2ms)
Completed in 94ms (View: 85, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:35:11) [GET]
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 16ms (View: 12, DB: 1) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:35:13) [GET]
  [4;35;1mTab Load (0.6ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mFood Load (0.4ms)[0m   [0mSELECT * FROM "foods" [0m
Rendered purchases/_form (27.5ms)
Completed in 102ms (View: 31, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 14:35:15) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"1", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"10"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mPurchase Create (0.3ms)[0m   [0;1mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 21:35:15', '2010-08-14 21:35:15', 1, 1, 10, 'Food')[0m
Redirected to http://localhost:3000/purchases/2
Completed in 11ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:35:15) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 2) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 81ms (View: 75, DB: 0) | 200 OK [http://localhost/purchases/2]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:35:18) [GET]
  [4;35;1mPurchase Load (0.7ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index

ActionView::TemplateError (undefined method `user' for #<Purchase:0x103355288>) on line #9 of app/views/purchases/index.html.haml:
6:     %th Tab
7:   - for purchase in @purchases
8:     %tr
9:       %td= h purchase.user
10:       %td= h purchase.tab
11:       %td= link_to 'Show', purchase
12:       %td= link_to 'Edit', edit_purchase_path(purchase)

    app/views/purchases/index.html.haml:9:in `_run_haml_app47views47purchases47index46html46haml'
    app/views/purchases/index.html.haml:7:in `each'
    app/views/purchases/index.html.haml:7:in `_run_haml_app47views47purchases47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (35.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:35:33) [GET]
  [4;36;1mPurchase Load (0.7ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index

ActionView::TemplateError (undefined method `user' for #<Purchase:0x103616e40>) on line #9 of app/views/purchases/index.html.haml:
6:     %th Tab
7:   - for purchase in @purchases
8:     %tr
9:       %td= h purchase.user
10:       %td= h purchase.tab
11:       %td= link_to 'Show', purchase
12:       %td= link_to 'Edit', edit_purchase_path(purchase)

    app/views/purchases/index.html.haml:9:in `_run_haml_app47views47purchases47index46html46haml'
    app/views/purchases/index.html.haml:7:in `each'
    app/views/purchases/index.html.haml:7:in `_run_haml_app47views47purchases47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (35.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mPurchase Load (0.4ms)[0m   [0mSELECT * FROM "purchases" LIMIT 1[0m
  [4;36;1mFood Load (0.3ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:37:36) [GET]
  [4;35;1mPurchase Load (0.7ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 91ms (View: 86, DB: 1) | 200 OK [http://localhost/purchases]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:39:30) [GET]
  [4;36;1mPurchase Load (0.7ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 30ms (View: 24, DB: 1) | 200 OK [http://localhost/purchases]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:39:40) [GET]
  [4;36;1mPurchase Load (0.7ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.3ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 91ms (View: 85, DB: 1) | 200 OK [http://localhost/purchases]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:40:19) [GET]
  [4;36;1mPurchase Load (0.7ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 37ms (View: 31, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:40:32) [GET]
  [4;35;1mTab Load (0.6ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mFood Load (0.4ms)[0m   [0mSELECT * FROM "foods" [0m
Rendered purchases/_form (91.9ms)
Completed in 102ms (View: 93, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 14:40:36) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"2", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"10"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mPurchase Create (0.3ms)[0m   [0;1mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 21:40:36', '2010-08-14 21:40:36', 1, 2, 10, 'Food')[0m
Redirected to http://localhost:3000/purchases/3
Completed in 12ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:40:36) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 3) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 83ms (View: 15, DB: 0) | 200 OK [http://localhost/purchases/3]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:40:38) [GET]
  [4;35;1mPurchase Load (0.7ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 33ms (View: 27, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:41:04) [GET]
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mFood Load (0.4ms)[0m   [0mSELECT * FROM "foods" [0m
Rendered purchases/_form (27.9ms)
Completed in 99ms (View: 29, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 14:41:05) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"1", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"10"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mPurchase Create (0.3ms)[0m   [0;1mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 21:41:05', '2010-08-14 21:41:05', 1, 1, 10, 'Food')[0m
Redirected to http://localhost:3000/purchases/4
Completed in 10ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:41:05) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 4) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/purchases/4]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:41:07) [GET]
  [4;35;1mPurchase Load (0.8ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 35ms (View: 29, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:41:08) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mFood Load (0.4ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendered purchases/_form (26.7ms)
Completed in 37ms (View: 28, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 14:41:09) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"1", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"10"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mPurchase Create (0.3ms)[0m   [0mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 21:41:09', '2010-08-14 21:41:09', 1, 1, 10, 'Food')[0m
Redirected to http://localhost:3000/purchases/5
Completed in 73ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:41:09) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 5) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 16, DB: 0) | 200 OK [http://localhost/purchases/5]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:41:11) [GET]
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.4ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 94ms (View: 88, DB: 2) | 200 OK [http://localhost/purchases]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 14:41:24) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 24ms (View: 19, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 14:42:43) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m

ActionView::TemplateError (undefined method `transactions' for #<Tab:0x1030866d8>) on line #23 of app/views/tabs/index.html.haml:
20:         %td= h tab.closed_at
21:       %td= h tab.type
22:       %td= tab.purchases.count
23:       %td= tab.transactions.count
24:       %td= link_to 'Show', tab
25:       %td= link_to 'Edit', edit_tab_path(tab)
26:       %td= link_to 'Destroy', tab, :confirm => 'Are you sure?', :method => :delete

    app/views/tabs/index.html.haml:23:in `_run_haml_app47views47tabs47index46html46haml'
    app/views/tabs/index.html.haml:12:in `each'
    app/views/tabs/index.html.haml:12:in `_run_haml_app47views47tabs47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (35.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 14:44:01) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 16) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 101ms (View: 93, DB: 3) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 14:45:32) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 16) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 38ms (View: 30, DB: 3) | 200 OK [http://localhost/tabs]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 14:45:53) [GET]
  [4;36;1mBottle Load (0.9ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 104ms (View: 32, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 14:45:54) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 44ms (View: 36, DB: 1) | 200 OK [http://localhost/draughts]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 14:45:57) [GET]
  [4;36;1mDrawer Load (0.6ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 33ms (View: 28, DB: 1) | 200 OK [http://localhost/drawers]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:45:59) [GET]
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 37ms (View: 31, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:49:53) [GET]
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 37ms (View: 31, DB: 2) | 200 OK [http://localhost/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:49:55) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 13, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:49:57) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #6 of app/views/transactions/_form.html.haml:
3:   = f.hidden_field :user_id, :value => current_user.id
4:   = f.label :tab_id
5:   %br
6:   = f.collection_select :tab_id, @tabs, :id, :name
7:   %p
8:     = f.label :type_helper
9:     %br

    app/views/transactions/_form.html.haml:6:in `_run_haml_app47views47transactions47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/transactions/_form.html.haml:1:in `_run_haml_app47views47transactions47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/transactions/new.html.haml:3:in `_run_haml_app47views47transactions47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (110.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:50:19) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendered transactions/_form (25.5ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:50:33) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendered transactions/_form (26.0ms)
Completed in 36ms (View: 30, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 14:51:01) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"100", "user_id"=>"1", "type_helper"=>"Cash Withdrawal", "tab_id"=>"10"}}
  [4;35;1mTransaction Create (0.4ms)[0m   [0mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 21:51:01', '2010-08-14 21:51:01', 100, 'Cash Withdrawal', 1, 10)[0m
Redirected to http://localhost:3000/transactions/1
Completed in 72ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:51:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 1) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 32ms (View: 25, DB: 1) | 200 OK [http://localhost/transactions/1]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:51:08) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 25ms (View: 20, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:51:35) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 32ms (View: 27, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:51:45) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 94ms (View: 88, DB: 1) | 200 OK [http://localhost/transactions]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 14:52:01) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 16) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 37ms (View: 30, DB: 3) | 200 OK [http://localhost/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:52:38) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 95ms (View: 89, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:52:39) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendered transactions/_form (24.6ms)
Completed in 31ms (View: 26, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 14:52:48) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>".30", "user_id"=>"1", "type_helper"=>"Cash Withdrawal", "tab_id"=>"10"}}
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 21:52:48', '2010-08-14 21:52:48', 0, 'Cash Withdrawal', 1, 10)[0m
Redirected to http://localhost:3000/transactions/2
Completed in 10ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:52:48) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 2) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 28ms (View: 22, DB: 1) | 200 OK [http://localhost/transactions/2]


Processing TransactionsController#destroy (for 127.0.0.1 at 2010-08-14 14:53:21) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"2"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 2) [0m
  [4;36;1mTransaction Destroy (0.3ms)[0m   [0;1mDELETE FROM "transactions" WHERE "id" = 2[0m
Redirected to http://localhost:3000/transactions
Completed in 10ms (DB: 0) | 302 Found [http://localhost/transactions/2]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:53:21) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#destroy (for 127.0.0.1 at 2010-08-14 14:53:27) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 1) [0m
  [4;36;1mTransaction Destroy (0.2ms)[0m   [0;1mDELETE FROM "transactions" WHERE "id" = 1[0m
Redirected to http://localhost:3000/transactions
Completed in 10ms (DB: 0) | 302 Found [http://localhost/transactions/1]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:53:27) [GET]
  [4;35;1mTransaction Load (0.6ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://localhost/transactions]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 14:53:28) [GET]
  [4;35;1mTab Load (1.0ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 16) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 16) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 37ms (View: 29, DB: 3) | 200 OK [http://localhost/tabs]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:53:32) [GET]
  [4;35;1mPurchase Load (0.8ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 101ms (View: 94, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:53:33) [GET]
  [4;35;1mTab Load (0.8ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mFood Load (0.5ms)[0m   [0mSELECT * FROM "foods" [0m
Rendered purchases/_form (85.1ms)
Completed in 96ms (View: 86, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 14:53:34) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"1", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"10"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mPurchase Create (0.3ms)[0m   [0;1mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 21:53:34', '2010-08-14 21:53:34', 1, 1, 10, 'Food')[0m
Redirected to http://localhost:3000/purchases/6
Completed in 13ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:53:34) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 6) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 23ms (View: 17, DB: 0) | 200 OK [http://localhost/purchases/6]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:53:41) [GET]
  [4;35;1mPurchase Load (0.9ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 40ms (View: 33, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 14:53:44) [GET]
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mFood Load (0.4ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendered purchases/_form (85.5ms)
Completed in 96ms (View: 87, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 14:53:47) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"1", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"10"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mPurchase Create (0.3ms)[0m   [0mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 21:53:47', '2010-08-14 21:53:47', 1, 1, 10, 'Food')[0m
Redirected to http://localhost:3000/purchases/7
Completed in 11ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 14:53:47) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 7) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 86ms (View: 80, DB: 1) | 200 OK [http://localhost/purchases/7]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 14:53:48) [GET]
  [4;36;1mPurchase Load (1.0ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 41ms (View: 34, DB: 2) | 200 OK [http://localhost/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:53:49) [GET]
  [4;36;1mTransaction Load (0.5ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 81ms (View: 77, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:53:50) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendered transactions/_form (23.7ms)
Completed in 31ms (View: 25, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 14:54:00) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>".6", "user_id"=>"1", "type_helper"=>"Cash Withdrawal", "tab_id"=>"10"}}
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 21:54:01', '2010-08-14 21:54:01', 60, 'Cash Withdrawal', 1, 10)[0m
Redirected to http://localhost:3000/transactions/3
Completed in 74ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:54:01) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 3) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/transactions/3]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:54:02) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:54:05) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendered transactions/_form (23.9ms)
Completed in 31ms (View: 25, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 14:54:12) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"10", "user_id"=>"1", "type_helper"=>"Cash Withdrawal", "tab_id"=>"10"}}
  [4;35;1mTransaction Create (0.3ms)[0m   [0mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 21:54:12', '2010-08-14 21:54:12', 1000, 'Cash Withdrawal', 1, 10)[0m
Redirected to http://localhost:3000/transactions/4
Completed in 11ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:54:12) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 4) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 25ms (View: 19, DB: 1) | 200 OK [http://localhost/transactions/4]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:54:13) [GET]
  [4;36;1mTransaction Load (0.8ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 21, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:54:39) [GET]
  [4;36;1mTransaction Load (1.2ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index

ActionView::TemplateError (undefined method `amount_to_currency' for #<ActionView::Base:0x103620f58>) on line #12 of app/views/transactions/index.html.haml:
9:   - for transaction in @transactions
10:     %tr
11:       %td= h transaction.type
12:       %td= h amount_to_currency transaction.amount
13:       %td= h transaction.user.username
14:       %td= h transaction.tab.name
15:       %td= link_to 'Show', transaction

    app/views/transactions/index.html.haml:12:in `_run_haml_app47views47transactions47index46html46haml'
    app/views/transactions/index.html.haml:9:in `each'
    app/views/transactions/index.html.haml:9:in `_run_haml_app47views47transactions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (36.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:54:46) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 103ms (View: 97, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:55:03) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 28ms (View: 22, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:55:05) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 3) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 96ms (View: 90, DB: 1) | 200 OK [http://localhost/transactions/3]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:55:16) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 3) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 31ms (View: 25, DB: 1) | 200 OK [http://localhost/transactions/3]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:55:28) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 94ms (View: 89, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:55:33) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendered transactions/_form (24.5ms)
Completed in 31ms (View: 26, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 14:55:40) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"3.11", "user_id"=>"1", "type_helper"=>"Cash Withdrawal", "tab_id"=>"10"}}
  [4;35;1mTransaction Create (0.3ms)[0m   [0mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 21:55:40', '2010-08-14 21:55:40', 311, 'Cash Withdrawal', 1, 10)[0m
Redirected to http://localhost:3000/transactions/5
Completed in 11ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:55:40) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 5) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 28ms (View: 21, DB: 1) | 200 OK [http://localhost/transactions/5]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:56:45) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 5) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 91ms (View: 85, DB: 1) | 200 OK [http://localhost/transactions/5]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:56:47) [GET]
  [4;36;1mTransaction Load (0.8ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 29ms (View: 24, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:56:48) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendered transactions/_form (85.8ms)
Completed in 93ms (View: 87, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 14:56:53) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"5.55", "user_id"=>"1", "type_helper"=>"Cash Withdrawal", "tab_id"=>"10"}}
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 21:56:53', '2010-08-14 21:56:53', 555, 'Cash Withdrawal', 1, 10)[0m
Redirected to http://localhost:3000/transactions/6
Completed in 10ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:56:53) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 6) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 89ms (View: 83, DB: 1) | 200 OK [http://localhost/transactions/6]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:57:43) [GET]
  [4;35;1mTransaction Load (0.8ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 35ms (View: 29, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:57:46) [GET]
  [4;35;1mTransaction Load (0.9ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 94ms (View: 88, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:58:19) [GET]
  [4;35;1mTransaction Load (0.8ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 31ms (View: 25, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:58:21) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m

ActionView::TemplateError (undefined method `type_helper' for #<Transaction:0x103032d30>) on line #10 of app/views/transactions/_form.html.haml:
7:   %p
8:     = f.label :type
9:     %br
10:     = f.text_field :type_helper
11:   %p
12:     = f.label :amount
13:     %br

    app/views/transactions/_form.html.haml:10:in `_run_haml_app47views47transactions47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/transactions/_form.html.haml:1:in `_run_haml_app47views47transactions47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/transactions/new.html.haml:3:in `_run_haml_app47views47transactions47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (117.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:58:39) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendered transactions/_form (26.0ms)
Completed in 36ms (View: 30, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 14:58:48) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"4.44", "type"=>"Cash Withdrawal", "user_id"=>"1", "tab_id"=>"10"}}
  [4;35;1mTransaction Create (0.3ms)[0m   [0mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 21:58:48', '2010-08-14 21:58:48', 444, 'Cash Withdrawal', 1, 10)[0m
Redirected to http://localhost:3000/transactions/7
Completed in 78ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:58:48) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 7) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 20, DB: 1) | 200 OK [http://localhost/transactions/7]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 14:59:05) [GET]
  [4;36;1mTransaction Load (0.9ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 92ms (View: 87, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 14:59:09) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mTab Load (0.6ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendered transactions/_form (23.8ms)
Completed in 31ms (View: 25, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 14:59:17) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"4", "type"=>"Cash Deposit", "user_id"=>"1", "tab_id"=>"10"}}
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 21:59:17', '2010-08-14 21:59:17', 400, 'Cash Deposit', 1, 10)[0m
Redirected to http://localhost:3000/transactions/8
Completed in 11ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 14:59:17) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 8) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/transactions/8]
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" [0m
  [4;35;1mTransaction Load (0.4ms)[0m   [0mSELECT * FROM "transactions" ORDER BY transactions.id DESC LIMIT 1[0m
  [4;36;1mTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:00:55) [GET]
  [4;35;1mTransaction Load (0.9ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 33ms (View: 27, DB: 2) | 200 OK [http://localhost/transactions]
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:05:09) [GET]
  [4;35;1mTab Load (1.0ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 16) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 16) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 38ms (View: 30, DB: 3) | 200 OK [http://localhost/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:05:12) [GET]
  [4;35;1mTransaction Load (0.9ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 94ms (View: 88, DB: 2) | 200 OK [http://localhost/transactions]
  [4;36;1mTransaction Load (0.8ms)[0m   [0;1mSELECT * FROM "transactions" ORDER BY transactions.id DESC LIMIT 1[0m
  [4;35;1mTransaction Load (0.4ms)[0m   [0mSELECT * FROM "transactions" LIMIT 1[0m
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mTransaction Load (0.4ms)[0m   [0mSELECT * FROM "transactions" ORDER BY transactions.id DESC LIMIT 1[0m
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m
  [4;35;1mTransaction Load (0.4ms)[0m   [0mSELECT * FROM "transactions" LIMIT 1[0m
  [4;36;1mTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m
  [4;35;1mTransaction Destroy (0.4ms)[0m   [0mDELETE FROM "transactions" WHERE "id" = 3[0m
  [4;36;1mTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m
  [4;35;1mTransaction Destroy (0.3ms)[0m   [0mDELETE FROM "transactions" WHERE "id" = 4[0m
  [4;36;1mTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m
  [4;35;1mTransaction Destroy (0.3ms)[0m   [0mDELETE FROM "transactions" WHERE "id" = 5[0m
  [4;36;1mTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m
  [4;35;1mTransaction Destroy (0.3ms)[0m   [0mDELETE FROM "transactions" WHERE "id" = 6[0m
  [4;36;1mTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m
  [4;35;1mTransaction Destroy (0.3ms)[0m   [0mDELETE FROM "transactions" WHERE "id" = 7[0m
  [4;36;1mTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m
  [4;35;1mTransaction Destroy (0.3ms)[0m   [0mDELETE FROM "transactions" WHERE "id" = 8[0m
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:12:57) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 108ms (View: 47, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 15:12:58) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mTab Load (0.6ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendered transactions/_form (97.6ms)
Completed in 125ms (View: 119, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 15:13:06) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"1.5", "type"=>"Cash Withdrawal", "user_id"=>"1", "tab_id"=>"10"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mTransaction Create (122.4ms)[0m   [0;1mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 22:13:06', '2010-08-14 22:13:06', 150, NULL, 1, 10)[0m
Redirected to http://localhost:3000/transactions/9
Completed in 134ms (DB: 122) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 15:13:06) [GET]
  Parameters: {"id"=>"9"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 9) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 103ms (View: 97, DB: 1) | 200 OK [http://localhost/transactions/9]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:13:09) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 29ms (View: 24, DB: 1) | 200 OK [http://localhost/transactions]
  [4;35;1mTransaction Load (0.4ms)[0m   [0mSELECT * FROM "transactions" LIMIT 1[0m


Processing TransactionsController#destroy (for 127.0.0.1 at 2010-08-14 15:13:34) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"9"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 9) [0m
  [4;36;1mTransaction Destroy (0.2ms)[0m   [0;1mDELETE FROM "transactions" WHERE "id" = 9[0m
Redirected to http://localhost:3000/transactions
Completed in 9ms (DB: 0) | 302 Found [http://localhost/transactions/9]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:13:34) [GET]
  [4;35;1mTransaction Load (0.6ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 15:13:35) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendered transactions/_form (82.1ms)
Completed in 89ms (View: 83, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 15:13:44) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"1.3", "type"=>"Cash Withdrawal", "user_id"=>"1", "tab_id"=>"10"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mTransaction Create (0.3ms)[0m   [0mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 22:13:44', '2010-08-14 22:13:44', 130, NULL, 1, 10)[0m
Redirected to http://localhost:3000/transactions/10
Completed in 10ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 15:13:44) [GET]
  Parameters: {"id"=>"10"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 10) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 28ms (View: 21, DB: 1) | 200 OK [http://localhost/transactions/10]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 15:16:05) [GET]
  Parameters: {"id"=>"10"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 10) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 96ms (View: 24, DB: 1) | 200 OK [http://localhost/transactions/10]


Processing TransactionsController#destroy (for 127.0.0.1 at 2010-08-14 15:16:08) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"10"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 10) [0m
  [4;35;1mTransaction Destroy (0.5ms)[0m   [0mDELETE FROM "transactions" WHERE "id" = 10[0m
Redirected to http://localhost:3000/transactions
Completed in 11ms (DB: 1) | 302 Found [http://localhost/transactions/10]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:16:08) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 15:16:10) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendered transactions/_form (30.8ms)
Completed in 41ms (View: 34, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 15:16:20) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"1.25", "user_id"=>"1", "type_helper"=>"Cash Deposit", "tab_id"=>"10"}}
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 22:16:20', '2010-08-14 22:16:20', 125, 'Cash Deposit', 1, 10)[0m
Redirected to http://localhost:3000/transactions/11
Completed in 11ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 15:16:21) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 11) [0m

ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'Cash Deposit'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Transaction.inheritance_column to use another column for that information.):
  app/controllers/transactions_controller.rb:7:in `show'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (31.4ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 15:17:14) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"1.25", "user_id"=>"1", "type_helper"=>"CashDeposit", "tab_id"=>"10"}}
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 22:17:14', '2010-08-14 22:17:14', 125, 'CashDeposit', 1, 10)[0m
Redirected to http://localhost:3000/transactions/12
Completed in 10ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 15:17:14) [GET]
  Parameters: {"id"=>"12"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 12) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m

ActionView::TemplateError (undefined method `cash_deposit_path' for #<ActionView::Base:0x1036d8f18>) on line #19 of app/views/transactions/show.html.haml:
16: %p
17:   = link_to "Edit", edit_transaction_path(@transaction)
18:   |
19:   = link_to "Destroy", @transaction, :confirm => 'Are you sure?', :method => :delete
20:   |
21:   = link_to "View All", transactions_path

    app/views/transactions/show.html.haml:19:in `_run_haml_app47views47transactions47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (37.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 15:18:26) [GET]
  Parameters: {"id"=>"12"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 12) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 35ms (View: 27, DB: 1) | 200 OK [http://localhost/transactions/12]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:18:29) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m

ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'Cash Deposit'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Transaction.inheritance_column to use another column for that information.):
  app/controllers/transactions_controller.rb:3:in `index'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (30.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:18:39) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m

ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'Cash Deposit'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Transaction.inheritance_column to use another column for that information.):
  app/controllers/transactions_controller.rb:3:in `index'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (30.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM "transactions" LIMIT 1[0m
  [4;35;1mTransaction Load (0.4ms)[0m   [0mSELECT * FROM "transactions" LIMIT 1[0m
  [4;36;1mTransaction Destroy (0.3ms)[0m   [0;1mDELETE FROM "transactions" WHERE "id" = 11[0m
  [4;35;1mTransaction Load (0.4ms)[0m   [0mSELECT * FROM "transactions" LIMIT 1[0m
  [4;36;1mTransaction Destroy (0.2ms)[0m   [0;1mDELETE FROM "transactions" WHERE "id" = 12[0m
  [4;35;1mTransaction Load (0.3ms)[0m   [0mSELECT * FROM "transactions" LIMIT 1[0m


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:19:04) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 18ms (View: 13, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 15:19:05) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendered transactions/_form (31.2ms)
Completed in 40ms (View: 33, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 15:19:11) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"1.25", "user_id"=>"1", "type_helper"=>"CashDeposit", "tab_id"=>"10"}}
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 22:19:11', '2010-08-14 22:19:11', 125, 'CashDeposit', 1, 10)[0m
Redirected to http://localhost:3000/transactions/13
Completed in 11ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 15:19:11) [GET]
  Parameters: {"id"=>"13"}
  [4;35;1mTransaction Load (0.2ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions"."id" = 13) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://localhost/transactions/13]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:19:16) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m

ActionView::TemplateError (undefined method `cash_deposit_path' for #<ActionView::Base:0x103197a18>) on line #15 of app/views/transactions/index.html.haml:
12:       %td= h number_to_currency transaction.amount
13:       %td= h transaction.user.username
14:       %td= h transaction.tab.name
15:       %td= link_to 'Show', transaction
16:       %td= link_to 'Edit', edit_transaction_path(transaction)
17:       %td= link_to 'Destroy', transaction, :confirm => 'Are you sure?', :method => :delete
18: 

    app/views/transactions/index.html.haml:15:in `_run_haml_app47views47transactions47index46html46haml'
    app/views/transactions/index.html.haml:9:in `each'
    app/views/transactions/index.html.haml:9:in `_run_haml_app47views47transactions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (37.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:19:53) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m

ActionView::TemplateError (transaction_url failed to generate from {:controller=>"transactions", :action=>"show"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["transactions", :id] - are they all satisfied?) on line #15 of app/views/transactions/index.html.haml:
12:       %td= h number_to_currency transaction.amount
13:       %td= h transaction.user.username
14:       %td= h transaction.tab.name
15:       %td= link_to 'Show', transaction_path
16:       %td= link_to 'Edit', edit_transaction_path(transaction)
17:       %td= link_to 'Destroy', transaction_path, :confirm => 'Are you sure?', :method => :delete
18: 

    (eval):16:in `transaction_path'
    app/views/transactions/index.html.haml:15:in `_run_haml_app47views47transactions47index46html46haml'
    app/views/transactions/index.html.haml:9:in `each'
    app/views/transactions/index.html.haml:9:in `_run_haml_app47views47transactions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (39.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:31:10) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m

ActionView::TemplateError (transaction_url failed to generate from {:controller=>"transactions", :action=>"show"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["transactions", :id] - are they all satisfied?) on line #15 of app/views/transactions/index.html.haml:
12:       %td= h number_to_currency transaction.amount
13:       %td= h transaction.user.username
14:       %td= h transaction.tab.name
15:       %td= link_to 'Show', transaction_path
16:       %td= link_to 'Edit', edit_transaction_path(transaction)
17:       %td= link_to 'Destroy', transaction_path, :confirm => 'Are you sure?', :method => :delete
18: 

    (eval):16:in `transaction_path'
    app/views/transactions/index.html.haml:15:in `_run_haml_app47views47transactions47index46html46haml'
    app/views/transactions/index.html.haml:9:in `each'
    app/views/transactions/index.html.haml:9:in `_run_haml_app47views47transactions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (40.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:31:50) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m

ActionView::TemplateError (transaction_url failed to generate from {:controller=>"transactions", :action=>"show"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["transactions", :id] - are they all satisfied?) on line #15 of app/views/transactions/index.html.haml:
12:       %td= h number_to_currency transaction.amount
13:       %td= h transaction.user.username
14:       %td= h transaction.tab.name
15:       %td= link_to 'Show', transaction_path
16:       %td= link_to 'Edit', edit_transaction_path(transaction)
17:       %td= link_to 'Destroy', transaction_path, :confirm => 'Are you sure?', :method => :delete
18: 

    (eval):16:in `transaction_path'
    app/views/transactions/index.html.haml:15:in `_run_haml_app47views47transactions47index46html46haml'
    app/views/transactions/index.html.haml:9:in `each'
    app/views/transactions/index.html.haml:9:in `_run_haml_app47views47transactions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (39.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 15:32:19) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"1.25", "user_id"=>"1", "type_helper"=>"CashDeposit", "tab_id"=>"10"}}
  [4;35;1mTransaction Create (0.3ms)[0m   [0mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 22:32:19', '2010-08-14 22:32:19', 125, 'CashDeposit', 1, 10)[0m
Redirected to http://localhost:3000/transactions/14
Completed in 11ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 15:32:19) [GET]
  Parameters: {"id"=>"14"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 14) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 99ms (View: 91, DB: 1) | 200 OK [http://localhost/transactions/14]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:32:24) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m

ActionView::TemplateError (undefined method `cash_deposit_path' for #<ActionView::Base:0x10338cc10>) on line #15 of app/views/transactions/index.html.haml:
12:       %td= h number_to_currency transaction.amount
13:       %td= h transaction.user.username
14:       %td= h transaction.tab.name
15:       %td= link_to 'Show', transaction
16:       %td= link_to 'Edit', edit_transaction_path(transaction)
17:       %td= link_to 'Destroy', transaction_path, :confirm => 'Are you sure?', :method => :delete
18: 

    app/views/transactions/index.html.haml:15:in `_run_haml_app47views47transactions47index46html46haml'
    app/views/transactions/index.html.haml:9:in `each'
    app/views/transactions/index.html.haml:9:in `_run_haml_app47views47transactions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (97.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:33:03) [GET]
  [4;35;1mPurchase Load (0.9ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 48ms (View: 41, DB: 2) | 200 OK [http://localhost/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:33:42) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m

ActionView::TemplateError (undefined method `cash_deposit_path' for #<ActionView::Base:0x1034d7f70>) on line #15 of app/views/transactions/index.html.haml:
12:       %td= h number_to_currency transaction.amount
13:       %td= h transaction.user.username
14:       %td= h transaction.tab.name
15:       %td= link_to 'Show', transaction
16:       %td= link_to 'Edit', edit_transaction_path(transaction)
17:       %td= link_to 'Destroy', transaction, :confirm => 'Are you sure?', :method => :delete
18: 

    app/views/transactions/index.html.haml:15:in `_run_haml_app47views47transactions47index46html46haml'
    app/views/transactions/index.html.haml:9:in `each'
    app/views/transactions/index.html.haml:9:in `_run_haml_app47views47transactions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (98.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:37:54) [GET]
  [4;36;1mTransaction Load (0.8ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 59ms (View: 50, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:38:46) [GET]
  [4;36;1mTransaction Load (0.8ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 60ms (View: 50, DB: 2) | 200 OK [http://localhost/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:38:49) [GET]
  [4;36;1mPurchase Load (1.0ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.3ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 52ms (View: 44, DB: 2) | 200 OK [http://localhost/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:38:52) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 94ms (View: 85, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:40:21) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 128ms (View: 120, DB: 1) | 200 OK [http://localhost/transactions]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:41:34) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 16) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 51ms (View: 40, DB: 3) | 200 OK [http://localhost/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:41:37) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 98ms (View: 89, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:42:29) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 38ms (View: 30, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:43:06) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #17 of app/views/transactions/index.html.haml:
14:       %td= h transaction.user.username  
15:       %td= h transaction.tab.name
16:       %td= h transaction.class
17:       %th= h transaction.tab.drawer.id
18:       %td= h number_to_currency transaction.amount
19:       %td= link_to 'Show', transaction
20:       %td= link_to 'Edit', edit_transaction_path(transaction)

    app/views/transactions/index.html.haml:17:in `_run_haml_app47views47transactions47index46html46haml'
    app/views/transactions/index.html.haml:11:in `each'
    app/views/transactions/index.html.haml:11:in `_run_haml_app47views47transactions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (36.5ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:43:35) [GET]
  [4;35;1mTab Load (1.0ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 16) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 16) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 114ms (View: 34, DB: 3) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:43:37) [GET]
  [4;35;1mTab Load (0.9ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 16) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 16) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 106ms (View: 95, DB: 3) | 200 OK [http://localhost/tabs]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:43:43) [GET]
  [4;35;1mPurchase Load (0.9ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 44ms (View: 38, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#destroy (for 127.0.0.1 at 2010-08-14 15:43:48) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"2"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 2) [0m
  [4;36;1mPurchase Destroy (0.3ms)[0m   [0;1mDELETE FROM "purchases" WHERE "id" = 2[0m
Redirected to http://localhost:3000/purchases
Completed in 10ms (DB: 0) | 302 Found [http://localhost/purchases/2]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:43:48) [GET]
  [4;35;1mPurchase Load (0.9ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 46ms (View: 38, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#destroy (for 127.0.0.1 at 2010-08-14 15:43:51) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"3"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 3) [0m
  [4;35;1mPurchase Destroy (0.2ms)[0m   [0mDELETE FROM "purchases" WHERE "id" = 3[0m
Redirected to http://localhost:3000/purchases
Completed in 11ms (DB: 0) | 302 Found [http://localhost/purchases/3]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:43:52) [GET]
  [4;36;1mPurchase Load (0.9ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 42ms (View: 35, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#destroy (for 127.0.0.1 at 2010-08-14 15:43:53) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"5"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 5) [0m
  [4;35;1mPurchase Destroy (0.2ms)[0m   [0mDELETE FROM "purchases" WHERE "id" = 5[0m
Redirected to http://localhost:3000/purchases
Completed in 10ms (DB: 0) | 302 Found [http://localhost/purchases/5]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:43:53) [GET]
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 107ms (View: 33, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#destroy (for 127.0.0.1 at 2010-08-14 15:43:53) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"6"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 6) [0m
  [4;36;1mPurchase Destroy (0.3ms)[0m   [0;1mDELETE FROM "purchases" WHERE "id" = 6[0m
Redirected to http://localhost:3000/purchases
Completed in 12ms (DB: 0) | 302 Found [http://localhost/purchases/6]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:43:54) [GET]
  [4;35;1mPurchase Load (0.7ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 100ms (View: 94, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#destroy (for 127.0.0.1 at 2010-08-14 15:43:54) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"7"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 7) [0m
  [4;36;1mPurchase Destroy (0.2ms)[0m   [0;1mDELETE FROM "purchases" WHERE "id" = 7[0m
Redirected to http://localhost:3000/purchases
Completed in 11ms (DB: 0) | 302 Found [http://localhost/purchases/7]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:43:54) [GET]
  [4;35;1mPurchase Load (0.7ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mFood Load (0.3ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 97ms (View: 91, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#destroy (for 127.0.0.1 at 2010-08-14 15:43:55) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"4"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 4) [0m
  [4;35;1mPurchase Destroy (0.2ms)[0m   [0mDELETE FROM "purchases" WHERE "id" = 4[0m
Redirected to http://localhost:3000/purchases
Completed in 11ms (DB: 0) | 302 Found [http://localhost/purchases/4]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:43:55) [GET]
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:43:57) [GET]
  [4;36;1mTransaction Load (0.8ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #17 of app/views/transactions/index.html.haml:
14:       %td= h transaction.user.username  
15:       %td= h transaction.tab.name
16:       %td= h transaction.class
17:       %th= h transaction.tab.drawer.id
18:       %td= h number_to_currency transaction.amount
19:       %td= link_to 'Show', transaction
20:       %td= link_to 'Edit', edit_transaction_path(transaction)

    app/views/transactions/index.html.haml:17:in `_run_haml_app47views47transactions47index46html46haml'
    app/views/transactions/index.html.haml:11:in `each'
    app/views/transactions/index.html.haml:11:in `_run_haml_app47views47transactions47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (35.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:44:12) [GET]
  [4;35;1mTransaction Load (0.8ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 107ms (View: 31, DB: 2) | 200 OK [http://localhost/transactions]


Processing ApplicationController#destroy (for 127.0.0.1 at 2010-08-14 15:44:15) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"13"}

NameError (uninitialized constant TransactionController):
  

Rendered rescues/_trace (23.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:44:33) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 98ms (View: 90, DB: 2) | 200 OK [http://localhost/transactions]


Processing ApplicationController#destroy (for 127.0.0.1 at 2010-08-14 15:44:39) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"13"}

NameError (uninitialized constant TransactionController):
  

Rendered rescues/_trace (23.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TransactionsController#destroy (for 127.0.0.1 at 2010-08-14 15:45:15) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"13"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 13) [0m
  [4;35;1mCashDeposit Destroy (0.3ms)[0m   [0mDELETE FROM "transactions" WHERE "id" = 13[0m
Redirected to http://localhost:3000/transactions
Completed in 22ms (DB: 1) | 302 Found [http://localhost/cash_deposits/13]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:45:15) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 154ms (View: 146, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#destroy (for 127.0.0.1 at 2010-08-14 15:45:18) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"14"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 14) [0m
  [4;35;1mCashDeposit Destroy (0.2ms)[0m   [0mDELETE FROM "transactions" WHERE "id" = 14[0m
Redirected to http://localhost:3000/transactions
Completed in 13ms (DB: 0) | 302 Found [http://localhost/cash_deposits/14]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:45:18) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 83ms (View: 78, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 15:45:32) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 38ms (View: 32, DB: 1) | 200 OK [http://localhost/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 15:45:33) [GET]
  [4;36;1mPurchase Load (0.7ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 86ms (View: 80, DB: 1) | 200 OK [http://localhost/purchases]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:45:34) [GET]
  [4;36;1mTab Load (1.0ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 16) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 121ms (View: 108, DB: 3) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 15:45:37) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"16"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 16) [0m
  [4;35;1mSale Destroy (0.3ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 16[0m
Redirected to http://localhost:3000/tabs
Completed in 12ms (DB: 1) | 302 Found [http://localhost/sales/16]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:45:38) [GET]
  [4;36;1mTab Load (1.5ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 108ms (View: 95, DB: 3) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 15:45:39) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"10"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
  [4;35;1mSale Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 10[0m
Redirected to http://localhost:3000/tabs
Completed in 13ms (DB: 0) | 302 Found [http://localhost/sales/10]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:45:39) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 43ms (View: 31, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 15:45:40) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"11"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 11) [0m
  [4;35;1mSale Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 11[0m
Redirected to http://localhost:3000/tabs
Completed in 13ms (DB: 0) | 302 Found [http://localhost/sales/11]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:45:40) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 41ms (View: 30, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 15:45:41) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"12"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 12) [0m
  [4;35;1mRegister Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 12[0m
Redirected to http://localhost:3000/tabs
Completed in 14ms (DB: 0) | 302 Found [http://localhost/registers/12]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:45:41) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 37ms (View: 28, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 15:45:42) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"14"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 14) [0m
  [4;35;1mSale Destroy (0.3ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 14[0m
Redirected to http://localhost:3000/tabs
Completed in 77ms (DB: 1) | 302 Found [http://localhost/sales/14]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:45:42) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 15) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 15) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 35ms (View: 26, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 15:45:43) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"15"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 15) [0m
  [4;35;1mSale Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 15[0m
Redirected to http://localhost:3000/tabs
Completed in 13ms (DB: 0) | 302 Found [http://localhost/sales/15]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:45:43) [GET]
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:45:44) [GET]
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/tabs]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 15:45:45) [GET]
  [4;36;1mDrawer Load (0.6ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 87ms (View: 81, DB: 1) | 200 OK [http://localhost/drawers]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mDrawer Load (0.4ms)[0m   [0mSELECT * FROM "drawers" LIMIT 1[0m


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 15:46:53) [GET]
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 15:46:55) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered tabs/_form (82.5ms)
Completed in 114ms (View: 108, DB: 0) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 15:48:22) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m

ActionView::TemplateError (undefined method `name' for #<Drawer:0x1036ebc58>) on line #9 of app/views/tabs/_form.html.haml:
6:     = f.text_field :name
7:     = f.hidden_field :user_id, :value => current_user.id
8:   %p
9:     = f.collection_select :drawer_id, Drawer.all, :id, :name
10:   %p
11:     = f.label :type_helper
12:     %br

    app/views/tabs/_form.html.haml:9:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/tabs/_form.html.haml:1:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/tabs/new.html.haml:3:in `_run_haml_app47views47tabs47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (53.3ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 15:48:32) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (24.8ms)
Completed in 108ms (View: 102, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 15:48:50) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (86.1ms)
Completed in 97ms (View: 90, DB: 1) | 200 OK [http://localhost/tabs/new]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" [0m


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 15:55:58) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" [0m

ActionView::TemplateError (wrong number of arguments (2 for 4)) on line #13 of app/views/tabs/_form.html.haml:
10:   %p
11:     = f.label :Type
12:     %br
13:     = f.collection_select :type_helper, @types
14:   %p
15:     = f.submit "Submit"

    app/views/tabs/_form.html.haml:13:in `collection_select'
    app/views/tabs/_form.html.haml:13:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/tabs/_form.html.haml:1:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/tabs/new.html.haml:3:in `_run_haml_app47views47tabs47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (46.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 15:57:05) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" [0m

ActionView::TemplateError (undefined method `name' for {:type=>"Register"}:Hash) on line #13 of app/views/tabs/_form.html.haml:
10:   %p
11:     = f.label :Type
12:     %br
13:     = f.collection_select :type_helper, @types, :name, :name
14:   %p
15:     = f.submit "Submit"

    app/views/tabs/_form.html.haml:13:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/tabs/_form.html.haml:1:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/tabs/new.html.haml:3:in `_run_haml_app47views47tabs47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (49.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 15:58:01) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (23.7ms)
Completed in 34ms (View: 28, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 15:59:05) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (82.2ms)
Completed in 90ms (View: 84, DB: 1) | 200 OK [http://localhost/tabs/new]
  [4;35;1mDrawer Load (0.4ms)[0m   [0mSELECT * FROM "drawers" [0m


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 16:00:42) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-14 16:00:44) [GET]
Rendering template within layouts/application
Rendering drawers/new
Rendered drawers/_form (22.0ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 129ms (View: 60, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 16:00:49) [GET]
  [4;36;1mDrawer Load (0.6ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-14 16:00:50) [GET]
Rendering template within layouts/application
Rendering drawers/new
Rendered drawers/_form (2.7ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 84ms (View: 17, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#create (for 127.0.0.1 at 2010-08-14 16:00:52) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "drawer"=>{"user_id"=>"1"}}
  [4;35;1mDrawer Create (0.3ms)[0m   [0mINSERT INTO "drawers" ("created_at", "updated_at", "user_id", "closed_at") VALUES('2010-08-14 23:00:52', '2010-08-14 23:00:52', 1, NULL)[0m
Redirected to http://localhost:3000/drawers/5
Completed in 11ms (DB: 0) | 302 Found [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-14 16:00:52) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 5) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 43ms (View: 37, DB: 0) | 200 OK [http://localhost/drawers/5]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 16:00:53) [GET]
  [4;36;1mDrawer Load (0.8ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/drawers]
  [4;36;1mDrawer Load (0.4ms)[0m   [0;1mSELECT * FROM "drawers" [0m


Processing DrawersController#destroy (for 127.0.0.1 at 2010-08-14 16:02:15) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"5"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 5) [0m
  [4;35;1mDrawer Destroy (0.2ms)[0m   [0mDELETE FROM "drawers" WHERE "id" = 5[0m
Redirected to http://localhost:3000/drawers
Completed in 10ms (DB: 0) | 302 Found [http://localhost/drawers/5]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 16:02:15) [GET]
  [4;36;1mDrawer Load (0.7ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 81ms (View: 75, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 16:03:19) [GET]
  [4;36;1mDrawer Load (0.7ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/drawers]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:03:20) [GET]
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 13, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 16:03:23) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (23.0ms)
Completed in 34ms (View: 27, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 16:03:39) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (85.0ms)
Completed in 95ms (View: 89, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 16:04:02) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Sale", "user_id"=>"1", "drawer_id"=>"3"}}
WARNING: Can't mass-assign these protected attributes: drawer_id
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Sale', '2010-08-14 23:04:02', '2010-08-14 23:04:02', 1, NULL, NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/17
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 16:04:02) [GET]
  Parameters: {"id"=>"17"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 17) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 101ms (View: 94, DB: 0) | 200 OK [http://localhost/tabs/17]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 16:04:16) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"17"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 17) [0m
  [4;36;1mTab Destroy (0.2ms)[0m   [0;1mDELETE FROM "tabs" WHERE "id" = 17[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/17]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:04:16) [GET]
  [4;35;1mTab Load (0.6ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 13, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 16:04:17) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (21.5ms)
Completed in 29ms (View: 23, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 16:04:32) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Sale", "user_id"=>"1", "drawer_id"=>"3"}}
WARNING: Can't mass-assign these protected attributes: drawer_id
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Sale', '2010-08-14 23:04:32', '2010-08-14 23:04:32', 1, NULL, NULL, NULL)[0m
Redirected to http://localhost:3000/tabs/18
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 16:04:32) [GET]
  Parameters: {"id"=>"18"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 18) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 83ms (View: 15, DB: 0) | 200 OK [http://localhost/tabs/18]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 16:05:20) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"18"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 18) [0m
  [4;35;1mTab Destroy (0.3ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 18[0m
Redirected to http://localhost:3000/tabs
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs/18]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:05:20) [GET]
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 16:05:21) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (23.0ms)
Completed in 34ms (View: 27, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 16:05:28) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Mike", "type"=>"Sale", "user_id"=>"1", "drawer_id"=>"3"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Mike', '2010-08-14 23:05:29', '2010-08-14 23:05:29', 1, NULL, NULL, 3)[0m
Redirected to http://localhost:3000/tabs/19
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 16:05:29) [GET]
  Parameters: {"id"=>"19"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 19) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 15, DB: 0) | 200 OK [http://localhost/tabs/19]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:05:31) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 19) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 19) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 29ms (View: 23, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 16:05:39) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"19"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 19) [0m
  [4;36;1mTab Destroy (0.2ms)[0m   [0;1mDELETE FROM "tabs" WHERE "id" = 19[0m
Redirected to http://localhost:3000/tabs
Completed in 9ms (DB: 0) | 302 Found [http://localhost/tabs/19]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:05:39) [GET]
  [4;35;1mTab Load (0.6ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 16:05:40) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (82.2ms)
Completed in 90ms (View: 84, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 16:06:19) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Joseph", "type"=>"Sale", "user_id"=>"1", "drawer_id"=>"3"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Joseph', '2010-08-14 23:06:19', '2010-08-14 23:06:19', 1, NULL, NULL, 3)[0m
Redirected to http://localhost:3000/tabs/20
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 16:06:19) [GET]
  Parameters: {"id"=>"20"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 20) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 85ms (View: 79, DB: 1) | 200 OK [http://localhost/tabs/20]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:06:57) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 20) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 20) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 30ms (View: 24, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-14 16:06:59) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"20"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 20) [0m
  [4;35;1mTab Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 20[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/20]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:06:59) [GET]
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 14, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 16:07:00) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mDrawer Load (0.3ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (80.0ms)
Completed in 91ms (View: 84, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 16:07:06) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Mike", "user_id"=>"1", "type_helper"=>"Sale", "drawer_id"=>"3"}}
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Mike', '2010-08-14 23:07:06', '2010-08-14 23:07:06', 1, 'Sale', NULL, 3)[0m
Redirected to http://localhost:3000/tabs/21
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 16:07:06) [GET]
  Parameters: {"id"=>"21"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 25ms (View: 16, DB: 0) | 200 OK [http://localhost/tabs/21]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:07:07) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 21) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 21) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 98ms (View: 24, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 16:07:13) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (80.4ms)
Completed in 89ms (View: 82, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 16:07:21) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"", "user_id"=>"1", "type_helper"=>"Register", "drawer_id"=>"3"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('', '2010-08-14 23:07:21', '2010-08-14 23:07:21', 1, 'Register', NULL, 3)[0m
Redirected to http://localhost:3000/tabs/22
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 16:07:21) [GET]
  Parameters: {"id"=>"22"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 22) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 26ms (View: 18, DB: 0) | 200 OK [http://localhost/tabs/22]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:07:22) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 21) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 21) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 22) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 22) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 105ms (View: 28, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:07:29) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 21) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 21) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 22) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 22) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 96ms (View: 86, DB: 2) | 200 OK [http://localhost/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 16:07:30) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 16:08:13) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mTab Load (0.4ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendered transactions/_form (96.5ms)
Completed in 110ms (View: 104, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 16:08:25) [GET]
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 13, DB: 1) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 16:08:26) [GET]
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mFood Load (0.4ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendered purchases/_form (33.4ms)
Completed in 133ms (View: 56, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 16:08:39) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"1", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"21"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mPurchase Create (0.4ms)[0m   [0mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 23:08:39', '2010-08-14 23:08:39', 1, 1, 21, 'Food')[0m
Redirected to http://localhost:3000/purchases/8
Completed in 74ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 16:08:39) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 8) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/purchases/8]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 16:08:41) [GET]
  [4;36;1mPurchase Load (0.7ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.3ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 95ms (View: 88, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 16:08:43) [GET]
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mFood Load (0.4ms)[0m   [0mSELECT * FROM "foods" [0m
Rendered purchases/_form (87.0ms)
Completed in 101ms (View: 88, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 16:08:44) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"1", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"21"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;36;1mPurchase Create (0.3ms)[0m   [0;1mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 23:08:44', '2010-08-14 23:08:44', 1, 1, 21, 'Food')[0m
Redirected to http://localhost:3000/purchases/9
Completed in 13ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 16:08:44) [GET]
  Parameters: {"id"=>"9"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 9) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/purchases/9]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 16:08:45) [GET]
  [4;35;1mPurchase Load (0.7ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 107ms (View: 101, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 16:08:47) [GET]
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mFood Load (0.5ms)[0m   [0mSELECT * FROM "foods" [0m
Rendered purchases/_form (88.9ms)
Completed in 103ms (View: 90, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing DraughtsController#index (for 10.0.1.7 at 2010-08-14 16:08:48) [GET]
  [4;36;1mDraught Load (0.8ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
Completed in 32ms (View: 25, DB: 1) | 200 OK [http://10.0.1.4/draughts]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 16:08:52) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"2", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"21"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mPurchase Create (0.3ms)[0m   [0mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 23:08:53', '2010-08-14 23:08:53', 1, 2, 21, 'Food')[0m
Redirected to http://localhost:3000/purchases/10
Completed in 12ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 16:08:53) [GET]
  Parameters: {"id"=>"10"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 10) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/purchases/10]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 16:08:54) [GET]
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.3ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 98ms (View: 91, DB: 2) | 200 OK [http://localhost/purchases]


Processing DraughtsController#index (for 10.0.1.7 at 2010-08-14 16:08:59) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
Completed in 25ms (View: 17, DB: 1) | 200 OK [http://10.0.1.4/draughts]


Processing BottlesController#index (for 10.0.1.7 at 2010-08-14 16:09:12) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
Completed in 95ms (View: 88, DB: 1) | 200 OK [http://10.0.1.4/bottles]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 16:09:37) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/drawers]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 16:10:10) [GET]
  [4;35;1mMisc Load (0.8ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 108ms (View: 100, DB: 1) | 200 OK [http://localhost/miscs]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 16:10:13) [GET]
  [4;35;1mFood Load (0.8ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 50ms (View: 42, DB: 1) | 200 OK [http://localhost/foods]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 16:10:14) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 91ms (View: 83, DB: 1) | 200 OK [http://localhost/draughts]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 16:10:16) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 19, DB: 1) | 200 OK [http://localhost/bottles]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 16:10:20) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 39ms (View: 24, DB: 1) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 16:10:23) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 20, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 16:10:24) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 19, DB: 1) | 200 OK [http://localhost/draughts]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 16:10:30) [GET]
  [4;35;1mTransaction Load (0.6ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 16:10:42) [GET]
  [4;35;1mPurchase Load (0.8ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 38ms (View: 31, DB: 2) | 200 OK [http://localhost/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 16:10:45) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 16:10:49) [GET]
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mUser Load (58.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 97ms (View: 32, DB: 60) | 200 OK [http://localhost/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 16:11:08) [GET]
  [4;35;1mTransaction Load (0.6ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 19ms (View: 13, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-14 16:11:11) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendered transactions/_form (90.6ms)
Completed in 98ms (View: 92, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-14 16:11:28) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"10.5", "user_id"=>"1", "type_helper"=>"CashDeposit", "tab_id"=>"21"}}
  [4;35;1mTransaction Create (0.3ms)[0m   [0mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-14 23:11:28', '2010-08-14 23:11:28', 1050, 'CashDeposit', 1, 21)[0m
Redirected to http://localhost:3000/transactions/15
Completed in 11ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-14 16:11:28) [GET]
  Parameters: {"id"=>"15"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 15) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 101ms (View: 93, DB: 1) | 200 OK [http://localhost/transactions/15]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 16:11:30) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 84ms (View: 75, DB: 2) | 200 OK [http://localhost/transactions]


Processing TransactionsController#edit (for 127.0.0.1 at 2010-08-14 16:11:32) [GET]
  Parameters: {"id"=>"15"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 15) [0m
Rendering template within layouts/application
Rendering transactions/edit
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mTab Load (0.3ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendered transactions/_form (31.6ms)
Completed in 123ms (View: 115, DB: 1) | 200 OK [http://localhost/transactions/15/edit]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 16:11:34) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 94ms (View: 86, DB: 1) | 200 OK [http://localhost/transactions]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:11:46) [GET]
  [4;35;1mTab Load (0.8ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 21) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 21) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 22) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 22) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 37ms (View: 27, DB: 2) | 200 OK [http://localhost/tabs]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 16:12:03) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 84ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 16:12:05) [GET]
  [4;35;1mBottle Load (0.9ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 19, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 16:12:07) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 90ms (View: 82, DB: 1) | 200 OK [http://localhost/draughts]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 16:12:09) [GET]
  [4;35;1mFood Load (0.9ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 19, DB: 1) | 200 OK [http://localhost/foods]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 16:12:28) [GET]
  [4;35;1mMisc Load (0.9ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 89ms (View: 82, DB: 1) | 200 OK [http://localhost/miscs]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 16:12:45) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 25ms (View: 19, DB: 1) | 200 OK [http://localhost/drawers]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:12:54) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 21) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 21) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 22) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 22) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 101ms (View: 91, DB: 2) | 200 OK [http://localhost/tabs]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 16:12:56) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/drawers]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 16:16:31) [GET]
  [4;35;1mDraught Load (0.8ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 91ms (View: 84, DB: 1) | 200 OK [http://localhost/draughts]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 16:16:32) [GET]
  [4;35;1mFood Load (0.8ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 28ms (View: 20, DB: 1) | 200 OK [http://localhost/foods]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 16:16:33) [GET]
  [4;35;1mMisc Load (0.8ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 91ms (View: 83, DB: 1) | 200 OK [http://localhost/miscs]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 16:16:35) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/drawers]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:16:36) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 21) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 21) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 22) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 22) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 101ms (View: 91, DB: 2) | 200 OK [http://localhost/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 16:16:38) [GET]
  [4;35;1mTransaction Load (0.7ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 33ms (View: 24, DB: 1) | 200 OK [http://localhost/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 16:16:42) [GET]
  [4;35;1mPurchase Load (0.8ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.3ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 104ms (View: 97, DB: 2) | 200 OK [http://localhost/purchases]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:16:46) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 21) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 21) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 22) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 22) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 36ms (View: 26, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-14 16:16:49) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (22.1ms)
Completed in 30ms (View: 23, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-14 16:17:25) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"John", "user_id"=>"1", "type_helper"=>"Sale", "drawer_id"=>"3"}}
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('John', '2010-08-14 23:17:25', '2010-08-14 23:17:25', 1, 'Sale', NULL, 3)[0m
Redirected to http://localhost:3000/tabs/23
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-14 16:17:25) [GET]
  Parameters: {"id"=>"23"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 23) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 92ms (View: 17, DB: 0) | 200 OK [http://localhost/tabs/23]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 16:17:26) [GET]
  [4;35;1mTab Load (0.8ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 21) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 21) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 22) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 22) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 23) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 23) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 38ms (View: 28, DB: 2) | 200 OK [http://localhost/tabs]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 16:17:38) [GET]
  [4;35;1mPurchase Load (0.8ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 39ms (View: 32, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 16:17:40) [GET]
  [4;36;1mTab Load (0.3ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mFood Load (0.4ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendered purchases/_form (90.9ms)
Completed in 105ms (View: 92, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 16:17:47) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"2", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"23"}, "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q="}
  [4;35;1mPurchase Create (0.3ms)[0m   [0mINSERT INTO "purchases" ("created_at", "updated_at", "user_id", "purchasable_id", "tab_id", "purchasable_type") VALUES('2010-08-14 23:17:47', '2010-08-14 23:17:47', 1, 2, 23, 'Food')[0m
Redirected to http://localhost:3000/purchases/11
Completed in 11ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 16:17:47) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases"."id" = 11) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 87ms (View: 81, DB: 0) | 200 OK [http://localhost/purchases/11]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 16:17:49) [GET]
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 23) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 41ms (View: 34, DB: 2) | 200 OK [http://localhost/purchases]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 20:15:23) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 43ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 20:15:28) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 20:15:29) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
Completed in 76ms (View: 68, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-14 20:15:31) [GET]
  [4;35;1mDraught Load (0.7ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
Completed in 28ms (View: 22, DB: 1) | 200 OK [http://localhost/draughts]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-14 20:15:33) [GET]
  [4;36;1mFood Load (0.7ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
Completed in 76ms (View: 70, DB: 1) | 200 OK [http://localhost/foods]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-14 20:15:35) [GET]
  [4;35;1mMisc Load (0.7ms)[0m   [0mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/miscs]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-14 20:15:36) [GET]
  [4;36;1mDrawer Load (0.6ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
Completed in 69ms (View: 64, DB: 1) | 200 OK [http://localhost/drawers]


Processing TabsController#index (for 127.0.0.1 at 2010-08-14 20:15:37) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 21) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 21) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 22) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 22) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 23) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 23) [0m
Completed in 56ms (View: 47, DB: 2) | 200 OK [http://localhost/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 20:15:38) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
Completed in 122ms (View: 68, DB: 1) | 200 OK [http://localhost/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 20:15:39) [GET]
  [4;35;1mPurchase Load (0.7ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 23) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
Completed in 87ms (View: 81, DB: 2) | 200 OK [http://localhost/purchases]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 20:15:45) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/users]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-08-14 20:34:09) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered user_sessions/_form (3.6ms)
Completed in 21ms (View: 11, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2010-08-14 20:34:16) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"Justin Catalana", "password"=>"1234"}, "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo="}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'justin catalana') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 140ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 20:34:17) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 19ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 21:06:57) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 68ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 21:07:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-14 21:08:11) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.1ms)
Completed in 24ms (View: 11, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-14 21:08:25) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "user"=>{"password_confirmation"=>"1234", "role"=>"Cashier", "username"=>"Shawn Mehrens", "password"=>"1234"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shawn mehrens') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'f4e13647f1dd8ce1911e52d4b4e4e26bb94aef927496f5b4598a7b6a2f910bf46578fe5f132860ea85044c383f87c5e2402680b486f3df5a3ffdfed0dd80f73c') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-15 04:08:25', '6cb766fd907e8ad00bde59eee7ded1a0fadcddfa485eb571b6cf4570c94c3ae81fb1756bdf5e14829538c25d44692eae95705823576cdfeb45730471405af772', '2010-08-15 04:08:25', 'Shawn Mehrens', 'Cashier', 'iTSJKnm8XdKz8frgEu', 'f4e13647f1dd8ce1911e52d4b4e4e26bb94aef927496f5b4598a7b6a2f910bf46578fe5f132860ea85044c383f87c5e2402680b486f3df5a3ffdfed0dd80f73c')[0m
Redirected to http://localhost:3000/
Completed in 21ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 21:08:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs".user_id = 3) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" LIMIT 1[0m
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs".user_id = 1) [0m


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 21:09:28) [GET]
  [4;36;1mPurchase Load (0.7ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 23) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 92ms (View: 85, DB: 2) | 200 OK [http://localhost/purchases]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" LIMIT 1[0m
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" WHERE ("purchases".user_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" LIMIT 1[0m


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-14 21:09:54) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/transactions]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" LIMIT 1[0m
  [4;35;1mTransaction Load (0.3ms)[0m   [0mSELECT * FROM "transactions" WHERE ("transactions".user_id = 1) [0m


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 21:11:03) [GET]
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mFood Load (0.2ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 23) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 94ms (View: 31, DB: 2) | 200 OK [http://localhost/purchases]
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
Migrating to CreateMiscs (20100814053619)
Migrating to CreateFoods (20100814053639)
Migrating to CreateBottles (20100814053704)
Migrating to CreateDraughts (20100814053724)
Migrating to CreatePurchases (20100814172832)
Migrating to CreateTabs (20100814174003)
Migrating to CreateDrawers (20100814175230)
Migrating to CreateTransactions (20100814175903)
Migrating to AddAlterationToPurchase (20100815041218)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "purchases" ADD "alteration" varchar(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100815041218')[0m
Migrating to AddPriceToPurchase (20100815041353)
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "purchases" ADD "price" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100815041353')[0m
Migrating to AddAlterationUserToPurchase (20100815041429)
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "purchases" ADD "alteration_user_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100815041429')[0m
Migrating to AddVersionToPurchase (20100815041827)
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "purchases" ADD "version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100815041827')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("drawers")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("purchases")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("tabs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("versions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_tag')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_number')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 21:19:57) [GET]
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mFood Load (0.4ms)[0m   [0;1mSELECT * FROM "foods" [0m
Rendered purchases/_form (38.3ms)
Completed in 111ms (View: 52, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 21:19:59) [GET]
  [4;35;1mPurchase Load (0.8ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 21) [0m
  [4;36;1mFood Load (0.2ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 23) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 43ms (View: 36, DB: 2) | 200 OK [http://localhost/purchases]


Processing PurchasesController#new (for 127.0.0.1 at 2010-08-14 21:20:11) [GET]
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering purchases/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mFood Load (0.4ms)[0m   [0mSELECT * FROM "foods" [0m
Rendered purchases/_form (73.5ms)
Completed in 86ms (View: 75, DB: 1) | 200 OK [http://localhost/purchases/new]


Processing PurchasesController#create (for 127.0.0.1 at 2010-08-14 21:20:15) [POST]
  Parameters: {"commit"=>"Submit", "purchase"=>{"purchasable_id"=>"1", "user_id"=>"1", "purchasable_type"=>"Food", "tab_id"=>"21"}, "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo="}
  [4;36;1mPurchase Create (0.3ms)[0m   [0;1mINSERT INTO "purchases" ("alteration", "price", "created_at", "updated_at", "user_id", "purchasable_id", "alteration_user_id", "version", "tab_id", "purchasable_type") VALUES(NULL, NULL, '2010-08-15 04:20:15', '2010-08-15 04:20:15', 1, 1, NULL, NULL, 21, 'Food')[0m
Redirected to http://localhost:3000/purchases/12
Completed in 11ms (DB: 0) | 302 Found [http://localhost/purchases]


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 21:20:15) [GET]
  Parameters: {"id"=>"12"}
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 12) [0m
Rendering template within layouts/application
Rendering purchases/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/purchases/12]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" [0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM "purchases" ORDER BY purchases.id DESC LIMIT 1[0m
  [4;36;1mFood Load (0.3ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mPurchase Load (0.4ms)[0m   [0mSELECT * FROM "purchases" ORDER BY purchases.id DESC LIMIT 1[0m
  [4;36;1mFood Load (0.3ms)[0m   [0;1mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Food') [0m
  [4;36;1mPurchase Load (0.4ms)[0m   [0;1mSELECT * FROM "purchases" ORDER BY purchases.id DESC LIMIT 1[0m
  [4;35;1mFood Load (0.4ms)[0m   [0mSELECT * FROM "foods" WHERE ("foods"."id" = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Food') [0m
  [4;35;1mPurchase Update (0.5ms)[0m   [0mUPDATE "purchases" SET "updated_at" = '2010-08-15 04:29:27', "version" = 2 WHERE "id" = 12[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
Migrating to CreateMiscs (20100814053619)
Migrating to CreateFoods (20100814053639)
Migrating to CreateBottles (20100814053704)
Migrating to CreateDraughts (20100814053724)
Migrating to CreatePurchases (20100814172832)
Migrating to CreateTabs (20100814174003)
Migrating to CreateDrawers (20100814175230)
Migrating to CreateTransactions (20100814175903)
Migrating to AddAlterationToPurchase (20100815041218)
Migrating to AddPriceToPurchase (20100815041353)
Migrating to AddAlterationUserToPurchase (20100815041429)
Migrating to AddVersionToPurchase (20100815041827)
Migrating to RemoveVersionFromPurchase (20100815043101)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100815043101')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("drawers")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("miscs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("purchases")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("tabs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("drawers")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("purchases")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("tabs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("versions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_tag')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_number')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("drawers")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("purchases")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("tabs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("versions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_tag')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_number')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("bottles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("draughts")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("drawers")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("foods")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("miscs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("purchases")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("tabs")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("versions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_tag')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_number')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
Migrating to CreateVestalVersions (20100814041913)
Migrating to CreateMiscs (20100814053619)
Migrating to CreateFoods (20100814053639)
Migrating to CreateBottles (20100814053704)
Migrating to CreateDraughts (20100814053724)
Migrating to CreatePurchases (20100814172832)
Migrating to CreateTabs (20100814174003)
Migrating to CreateDrawers (20100814175230)
Migrating to CreateTransactions (20100814175903)
Migrating to AddAlterationToPurchase (20100815041218)
Migrating to AddPriceToPurchase (20100815041353)
Migrating to AddAlterationUserToPurchase (20100815041429)
Migrating to AddVersionToPurchase (20100815041827)
Migrating to RemoveVersionsFromPurchase (20100815043403)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100815043403')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("drawers")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("miscs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("purchases")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("tabs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
Migrating to CreatePurchases (20100814172832)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "tab_id" integer, "purchasable_id" integer, "purchasable_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814172832')[0m
Migrating to CreateTabs (20100814174003)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "tabs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "user_id" integer, "drawer_id" integer, "closed_at" datetime, "type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814174003')[0m
Migrating to CreateDrawers (20100814175230)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "drawers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "closed_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175230')[0m
Migrating to CreateTransactions (20100814175903)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "amount" integer, "user_id" integer, "tab_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175903')[0m
Migrating to AddAlterationToPurchase (20100815041218)
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "purchases" ADD "alteration" varchar(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100815041218')[0m
Migrating to AddPriceToPurchase (20100815041353)
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "purchases" ADD "price" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100815041353')[0m
Migrating to AddAlterationUserToPurchase (20100815041429)
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "purchases" ADD "alteration_user_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100815041429')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("drawers")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("miscs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("purchases")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("tabs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
Migrating to CreatePurchases (20100814172832)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "tab_id" integer, "purchasable_id" integer, "purchasable_type" varchar(255), "alteration" varchar(255), "price" integer, "alteration_user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814172832')[0m
Migrating to CreateTabs (20100814174003)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "tabs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "user_id" integer, "drawer_id" integer, "closed_at" datetime, "type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814174003')[0m
Migrating to CreateDrawers (20100814175230)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "drawers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "closed_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175230')[0m
Migrating to CreateTransactions (20100814175903)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "amount" integer, "user_id" integer, "tab_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175903')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("drawers")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("miscs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("purchases")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("tabs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing PurchasesController#show (for 127.0.0.1 at 2010-08-14 21:36:47) [GET]
  Parameters: {"id"=>"12"}
  [4;35;1mPurchase Load (0.1ms)[0m   [0mSELECT * FROM "purchases" WHERE ("purchases"."id" = 12) [0m

ActiveRecord::RecordNotFound (Couldn't find Purchase with ID=12):
  app/controllers/purchases_controller.rb:7:in `show'
  haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (79.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 21:36:51) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 21ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-14 21:36:53) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.2ms)
Completed in 26ms (View: 11, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-14 21:37:05) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "user"=>{"password_confirmation"=>"1234", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"1234"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'justin catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-15 04:37:05', '392ddfb4abf87e881585d8ec9a36e90116157fc08436de06062f87a2fc50eebb955696e85869f747338a56ff0008e1e160cb3fa77fa10afe9b10879ff939a751', '2010-08-15 04:37:05', 'Justin Catalana', 'Admin', 'puv1CGac6FEGPuVG4pPZ', '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d')[0m
Redirected to http://localhost:3000/
Completed in 141ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 21:37:05) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://localhost/]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-14 21:37:20) [GET]
  [4;36;1mPurchase Load (0.5ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
Completed in 18ms (View: 13, DB: 1) | 200 OK [http://localhost/purchases]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 21:39:53) [GET]
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 21:39:55) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (13.0ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
Completed in 38ms (View: 31, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 21:40:08) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"fsdas", "glass_type"=>"sadfsdaf", "volume_unit"=>"sdfasf", "excise_tax"=>"sadfasdf", "brewery"=>"dfasf", "cost"=>"sdfasf", "country"=>"dfasf", "stock"=>"dsf", "sales_tax"=>"sadfsaf", "display"=>"1", "volume"=>"sfsaf", "full_name"=>"dfdsa", "display_name"=>"", "source"=>"sdfasdf", "abv"=>"sdafasfd"}}
  [4;35;1mBottle Load (0.2ms)[0m   [0mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = '') LIMIT 1[0m
  [4;36;1mBottle Create (0.3ms)[0m   [0;1mINSERT INTO "bottles" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "cost", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv") VALUES('sdfasf', 'sadfsdaf', 0, 'dfasf', 0.0, '2010-08-15 04:40:08', 'dfasf', 0, '2010-08-15 04:40:08', 0.0, 0, 0.0, 't', 'dfdsa', '', 'sdfasdf', 0.0)[0m
Redirected to http://localhost:3000/bottles/1
Completed in 15ms (DB: 0) | 302 Found [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 21:40:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBottle Load (0.3ms)[0m   [0mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
Completed in 87ms (View: 23, DB: 1) | 200 OK [http://localhost/bottles/1]


Processing BottlesController#destroy (for 127.0.0.1 at 2010-08-14 21:40:14) [DELETE]
  Parameters: {"authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "id"=>"1"}
  [4;36;1mBottle Load (0.3ms)[0m   [0;1mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
  [4;35;1mVestalVersions::Version Delete all (0.3ms)[0m   [0mDELETE FROM "versions" WHERE ((versioned_id = 1) AND (versioned_type = 'Bottle')) [0m
  [4;36;1mBottle Destroy (0.1ms)[0m   [0;1mDELETE FROM "bottles" WHERE "id" = 1[0m
Redirected to http://localhost:3000/bottles
Completed in 11ms (DB: 1) | 302 Found [http://localhost/bottles/1]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 21:40:14) [GET]
  [4;35;1mBottle Load (0.5ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
Completed in 73ms (View: 66, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 21:45:08) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (20.7ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
Completed in 102ms (View: 45, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 21:45:21) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"jlk", "glass_type"=>"jlk", "volume_unit"=>"jlk", "excise_tax"=>"jlk", "brewery"=>"jlkj", "cost"=>"jlk", "country"=>"lkjlk", "stock"=>"jlk", "sales_tax"=>"jlk", "display"=>"1", "volume"=>"jlk", "full_name"=>"kjlk", "display_name"=>"", "source"=>"jlk", "abv"=>"jlk"}}
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (9.4ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
Completed in 81ms (View: 69, DB: 0) | 200 OK [http://localhost/bottles]
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
Migrating to CreatePurchases (20100814172832)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "tab_id" integer, "purchasable_id" integer, "purchasable_type" varchar(255), "alteration" varchar(255), "price" integer, "alteration_user_id" integer, "ordered" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814172832')[0m
Migrating to CreateTabs (20100814174003)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "tabs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "user_id" integer, "drawer_id" integer, "closed_at" datetime, "type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814174003')[0m
Migrating to CreateDrawers (20100814175230)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "drawers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "closed_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175230')[0m
Migrating to CreateTransactions (20100814175903)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "amount" integer, "user_id" integer, "tab_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175903')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("drawers")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("miscs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("purchases")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("tabs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 21:50:53) [GET]
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 88ms (View: 34, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 21:50:55) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (13.2ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 87ms (View: 79, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 21:53:50) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"22", "glass_type"=>"Tulip", "volume_unit"=>"ml", "excise_tax"=>".00", "brewery"=>"Nøgne Ø", "cost"=>"6.66", "country"=>"no", "stock"=>"48", "sales_tax"=>".09", "display"=>"1", "volume"=>"500", "full_name"=>"Saison", "display_name"=>"Nøgne Ø Saison", "source"=>"Morris", "abv"=>"6.5"}}
  [4;35;1mBottle Load (0.1ms)[0m   [0mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø Saison') LIMIT 1[0m
  [4;36;1mBottle Create (0.3ms)[0m   [0;1mINSERT INTO "bottles" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "cost", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv") VALUES('ml', 'Tulip', 2200, 'Nøgne Ø', 0.0, '2010-08-15 04:53:50', 'no', 666, '2010-08-15 04:53:50', 0.09, 48, 500.0, 't', 'Saison', 'Nøgne Ø Saison', 'Morris', 6.5)[0m
Redirected to http://localhost:3000/bottles/1
Completed in 15ms (DB: 0) | 302 Found [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 21:53:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBottle Load (0.3ms)[0m   [0mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 79ms (View: 71, DB: 1) | 200 OK [http://localhost/bottles/1]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" ORDER BY bottles.id DESC LIMIT 1[0m


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:05:03) [GET]
  [4;35;1mBottle Load (0.7ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index

ActionView::TemplateError (Inconsistent indentation: "\t  " was used for indentation, but the rest of the document was indented using 2 spaces.) on line #5 of app/views/bottles/index.html.haml:
2: 
3: %table
4:   %tr
5: 	  %th Version
6:     %th Display Name
7:     %th Full Name
8:     %th Brewery

    app/views/bottles/index.html.haml:5
    haml (3.0.16) lib/haml/precompiler.rb:152:in `tabs'
    haml (3.0.16) lib/haml/precompiler.rb:134:in `instance_eval'
    haml (3.0.16) lib/haml/precompiler.rb:134:in `tabs'
    haml (3.0.16) lib/haml/precompiler.rb:1039:in `block_opened?'
    haml (3.0.16) lib/haml/precompiler.rb:767:in `render_tag'
    haml (3.0.16) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.16) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.16) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.16) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.16) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (95.6ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:05:54) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index

ActionView::TemplateError (Inconsistent indentation: "\t  " was used for indentation, but the rest of the document was indented using 2 spaces.) on line #5 of app/views/bottles/index.html.haml:
2: 
3: %table
4:   %tr
5: 	  %th Version
6:     %th Display Name
7:     %th Full Name
8:     %th Brewery

    app/views/bottles/index.html.haml:5
    haml (3.0.16) lib/haml/precompiler.rb:152:in `tabs'
    haml (3.0.16) lib/haml/precompiler.rb:134:in `instance_eval'
    haml (3.0.16) lib/haml/precompiler.rb:134:in `tabs'
    haml (3.0.16) lib/haml/precompiler.rb:1039:in `block_opened?'
    haml (3.0.16) lib/haml/precompiler.rb:767:in `render_tag'
    haml (3.0.16) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.16) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.16) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.16) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.16) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (40.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:05:55) [GET]
  [4;35;1mBottle Load (0.7ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index

ActionView::TemplateError (Inconsistent indentation: "\t  " was used for indentation, but the rest of the document was indented using 2 spaces.) on line #5 of app/views/bottles/index.html.haml:
2: 
3: %table
4:   %tr
5: 	  %th Version
6:     %th Display Name
7:     %th Full Name
8:     %th Brewery

    app/views/bottles/index.html.haml:5
    haml (3.0.16) lib/haml/precompiler.rb:152:in `tabs'
    haml (3.0.16) lib/haml/precompiler.rb:134:in `instance_eval'
    haml (3.0.16) lib/haml/precompiler.rb:134:in `tabs'
    haml (3.0.16) lib/haml/precompiler.rb:1039:in `block_opened?'
    haml (3.0.16) lib/haml/precompiler.rb:767:in `render_tag'
    haml (3.0.16) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.16) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.16) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.16) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.16) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (38.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:06:06) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m

ActionView::TemplateError (undefined method `to_f' for :sale:Symbol) on line #41 of app/views/bottles/index.html.haml:
38:       %td= h number_to_currency bottle.price
39:       %td= h bottle.stock
40:       %td= h bottle.display
41:       %td= h bottle.sales_after_tax
42:       %td= link_to 'Show', bottle
43:       %td= link_to 'Edit', edit_bottle_path(bottle)
44:       %td= link_to 'Destroy', bottle, :confirm => 'Are you sure?', :method => :delete

    app/models/bottle.rb:13:in `sales_after_tax'
    app/views/bottles/index.html.haml:41:in `_run_haml_app47views47bottles47index46html46haml'
    app/views/bottles/index.html.haml:24:in `each'
    app/views/bottles/index.html.haml:24:in `_run_haml_app47views47bottles47index46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (35.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:06:33) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m

ActionView::TemplateError (undefined local variable or method `sale' for #<Bottle:0x10356a488>) on line #41 of app/views/bottles/index.html.haml:
38:       %td= h number_to_currency bottle.price
39:       %td= h bottle.stock
40:       %td= h bottle.display
41:       %td= h bottle.sales_after_tax
42:       %td= link_to 'Show', bottle
43:       %td= link_to 'Edit', edit_bottle_path(bottle)
44:       %td= link_to 'Destroy', bottle, :confirm => 'Are you sure?', :method => :delete

    app/models/bottle.rb:13:in `sales_after_tax'
    app/views/bottles/index.html.haml:41:in `_run_haml_app47views47bottles47index46html46haml'
    app/views/bottles/index.html.haml:24:in `each'
    app/views/bottles/index.html.haml:24:in `_run_haml_app47views47bottles47index46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (36.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:06:48) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m

ActionView::TemplateError (undefined local variable or method `this' for #<Bottle:0x103622d08>) on line #41 of app/views/bottles/index.html.haml:
38:       %td= h number_to_currency bottle.price
39:       %td= h bottle.stock
40:       %td= h bottle.display
41:       %td= h bottle.sales_after_tax
42:       %td= link_to 'Show', bottle
43:       %td= link_to 'Edit', edit_bottle_path(bottle)
44:       %td= link_to 'Destroy', bottle, :confirm => 'Are you sure?', :method => :delete

    app/models/bottle.rb:13:in `sales_after_tax'
    app/views/bottles/index.html.haml:41:in `_run_haml_app47views47bottles47index46html46haml'
    app/views/bottles/index.html.haml:24:in `each'
    app/views/bottles/index.html.haml:24:in `_run_haml_app47views47bottles47index46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (37.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:06:49) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m

ActionView::TemplateError (undefined local variable or method `this' for #<Bottle:0x1036afca8>) on line #41 of app/views/bottles/index.html.haml:
38:       %td= h number_to_currency bottle.price
39:       %td= h bottle.stock
40:       %td= h bottle.display
41:       %td= h bottle.sales_after_tax
42:       %td= link_to 'Show', bottle
43:       %td= link_to 'Edit', edit_bottle_path(bottle)
44:       %td= link_to 'Destroy', bottle, :confirm => 'Are you sure?', :method => :delete

    app/models/bottle.rb:13:in `sales_after_tax'
    app/views/bottles/index.html.haml:41:in `_run_haml_app47views47bottles47index46html46haml'
    app/views/bottles/index.html.haml:24:in `each'
    app/views/bottles/index.html.haml:24:in `_run_haml_app47views47bottles47index46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (36.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:08:06) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m

ActionView::TemplateError (undefined method `sale' for #<Bottle:0x102f1c798>) on line #41 of app/views/bottles/index.html.haml:
38:       %td= h number_to_currency bottle.price
39:       %td= h bottle.stock
40:       %td= h bottle.display
41:       %td= h bottle.sales_after_tax
42:       %td= link_to 'Show', bottle
43:       %td= link_to 'Edit', edit_bottle_path(bottle)
44:       %td= link_to 'Destroy', bottle, :confirm => 'Are you sure?', :method => :delete

    app/models/bottle.rb:13:in `sales_after_tax'
    app/views/bottles/index.html.haml:41:in `_run_haml_app47views47bottles47index46html46haml'
    app/views/bottles/index.html.haml:24:in `each'
    app/views/bottles/index.html.haml:24:in `_run_haml_app47views47bottles47index46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (37.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:08:25) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 77ms (View: 71, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:08:42) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 33ms (View: 25, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:14:38) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 80ms (View: 24, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:16:47) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 30ms (View: 24, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:19:26) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (12.9ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 36ms (View: 28, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 22:20:08) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"", "glass_type"=>"", "volume_unit"=>"", "excise_tax"=>"", "brewery"=>"Nøgne Ø", "cost"=>"", "country"=>"no", "stock"=>"", "sales_tax"=>"", "display"=>"0", "volume"=>"", "full_name"=>"India Pale Ale", "display_name"=>"Nøgne Ø IPA", "source"=>"M", "abv"=>"7.5 "}}
  [4;36;1mBottle Load (0.1ms)[0m   [0;1mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø IPA') LIMIT 1[0m
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (64.0ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 87ms (View: 75, DB: 0) | 200 OK [http://localhost/bottles]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 22:20:54) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"16", "glass_type"=>"Tulip", "volume_unit"=>"ml", "excise_tax"=>"0", "brewery"=>"Nøgne Ø", "cost"=>"5.40", "country"=>"no", "stock"=>"48", "sales_tax"=>".09", "display"=>"1", "volume"=>"500", "full_name"=>"India Pale Ale", "display_name"=>"Nøgne Ø IPA", "source"=>"Morris", "abv"=>"7.5 "}}
  [4;35;1mBottle Load (0.1ms)[0m   [0mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø IPA') LIMIT 1[0m
  [4;36;1mBottle Create (0.3ms)[0m   [0;1mINSERT INTO "bottles" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "cost", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv") VALUES('ml', 'Tulip', 1600, 'Nøgne Ø', 0.0, '2010-08-15 05:20:54', 'no', 540, '2010-08-15 05:20:54', 0.09, 48, 500.0, 't', 'India Pale Ale', 'Nøgne Ø IPA', 'Morris', 7.5)[0m
Redirected to http://localhost:3000/bottles/2
Completed in 15ms (DB: 0) | 302 Found [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 22:20:54) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBottle Load (0.3ms)[0m   [0mSELECT * FROM "bottles" WHERE ("bottles"."id" = 2) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 72ms (View: 63, DB: 1) | 200 OK [http://localhost/bottles/2]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:20:56) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:21:45) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 88ms (View: 80, DB: 2) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:22:08) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (8.1ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 28ms (View: 20, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 22:22:29) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"10", "glass_type"=>"", "volume_unit"=>"xzvczv", "excise_tax"=>"0", "brewery"=>"xczvxzc", "cost"=>".1", "country"=>"xcvzxv", "stock"=>"3", "sales_tax"=>".09", "display"=>"1", "volume"=>"xcvzcxv", "full_name"=>"xcvzxv", "display_name"=>"xcv", "source"=>"xvczxv", "abv"=>"xczvxzc"}}
  [4;35;1mBottle Load (0.1ms)[0m   [0mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'xcv') LIMIT 1[0m
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (9.5ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 82ms (View: 21, DB: 0) | 200 OK [http://localhost/bottles]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 22:22:33) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"1000.0", "glass_type"=>"gsfd", "volume_unit"=>"xzvczv", "excise_tax"=>"0", "brewery"=>"xczvxzc", "cost"=>"10.0", "country"=>"xcvzxv", "stock"=>"3", "sales_tax"=>".09", "display"=>"1", "volume"=>"xcvzcxv", "full_name"=>"xcvzxv", "display_name"=>"xcv", "source"=>"xvczxv", "abv"=>"xczvxzc"}}
  [4;36;1mBottle Load (0.2ms)[0m   [0;1mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'xcv') LIMIT 1[0m
  [4;35;1mBottle Create (0.3ms)[0m   [0mINSERT INTO "bottles" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "cost", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv") VALUES('xzvczv', 'gsfd', 100000, 'xczvxzc', 0.0, '2010-08-15 05:22:33', 'xcvzxv', 1000, '2010-08-15 05:22:33', 0.09, 3, 0.0, 't', 'xcvzxv', 'xcv', 'xvczxv', 0.0)[0m
Redirected to http://localhost:3000/bottles/3
Completed in 16ms (DB: 0) | 302 Found [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 22:22:34) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" WHERE ("bottles"."id" = 3) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 3 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 72ms (View: 64, DB: 1) | 200 OK [http://localhost/bottles/3]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:22:35) [GET]
  [4;36;1mBottle Load (0.9ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 3 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 31ms (View: 24, DB: 2) | 200 OK [http://localhost/bottles]


Processing BottlesController#destroy (for 127.0.0.1 at 2010-08-14 22:22:47) [DELETE]
  Parameters: {"authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "id"=>"3"}
  [4;36;1mBottle Load (0.3ms)[0m   [0;1mSELECT * FROM "bottles" WHERE ("bottles"."id" = 3) [0m
  [4;35;1mVestalVersions::Version Delete all (0.3ms)[0m   [0mDELETE FROM "versions" WHERE ((versioned_id = 3) AND (versioned_type = 'Bottle')) [0m
  [4;36;1mBottle Destroy (0.1ms)[0m   [0;1mDELETE FROM "bottles" WHERE "id" = 3[0m
Redirected to http://localhost:3000/bottles
Completed in 60ms (DB: 1) | 302 Found [http://localhost/bottles/3]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:22:47) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 29ms (View: 21, DB: 2) | 200 OK [http://localhost/bottles]
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "style" varchar(255), "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "excise_tax" float, "style" varchar(255), "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
Migrating to CreatePurchases (20100814172832)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "tab_id" integer, "purchasable_id" integer, "purchasable_type" varchar(255), "alteration" varchar(255), "price" integer, "alteration_user_id" integer, "ordered" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814172832')[0m
Migrating to CreateTabs (20100814174003)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "tabs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "user_id" integer, "drawer_id" integer, "closed_at" datetime, "type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814174003')[0m
Migrating to CreateDrawers (20100814175230)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "drawers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "closed_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175230')[0m
Migrating to CreateTransactions (20100814175903)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "amount" integer, "user_id" integer, "tab_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175903')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("drawers")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("miscs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("purchases")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("tabs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:38:30) [GET]
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 65ms (View: 58, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:38:32) [GET]
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (undefined method `drawer_id' for #<Bottle:0x10338cb20>) on line #26 of app/views/bottles/_form.html.haml:
23:   %p
24:     = f.label :Drawer
25:     %br
26:     = f.collection_select :drawer_id, @styles, :id, :id
27:   %p
28:     = f.label :source
29:     %br

    app/views/bottles/_form.html.haml:26:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `call'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `form_for'
    haml (3.0.16) lib/haml/helpers.rb:588:in `call'
    haml (3.0.16) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:235:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (102.3ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:38:44) [GET]
Rendering template within layouts/application
Rendering bottles/new
ERROR: compiling _run_haml_app47views47bottles47_form46html46haml_locals_form_object RAISED compile error
/Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/_form.html.haml:26: syntax error, unexpected tIVAR, expecting ')'
...llection_select :style @styles, :id, :id
                              ^
/Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/_form.html.haml:26: syntax error, unexpected ',', expecting tCOLON2 or '[' or '.'
...on_select :style @styles, :id, :id
                              ^
Function body:           def _run_haml_app47views47bottles47_form46html46haml_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;form = local_assigns[:form];object = local_assigns[:object];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :preserve=>["textarea", "pre", "code"], :format=>:xhtml, :encoding=>nil, :attr_wrapper=>"'", :escape_html=>false, :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;; form_for @bottle do |f|;
_hamlout.push_text("#{_hamlout.format_script_false_false_false_false_false_true_false(( f.error_messages
));}\n<p>\n  #{
_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( f.label :display_name
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :display_name
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :full_name
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :full_name
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :brewery
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :brewery
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :country
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :country
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :abv
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :abv
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :Drawer
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.collection_select :style @styles, :id, :id
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :source
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :source
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :volume
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :volume
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :volume_unit
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :volume_unit
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :cost
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :cost
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :glass_type
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :glass_type
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :sales_tax
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :sales_tax
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :excise_tax
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :excise_tax
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :price
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :price
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :stock
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :stock
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :display
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.check_box :display
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.submit "Submit"
));}\n</p>\n", -1, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/_form.html.haml:72:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render_without_haml'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/lib/haml/helpers.rb:90:in `non_haml'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render_without_haml'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render_without_haml'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/sass/plugin/rack.rb:41:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/_form.html.haml:26: syntax error, unexpected tIVAR, expecting ')'
...llection_select :style @styles, :id, :id
                              ^
/Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/_form.html.haml:26: syntax error, unexpected ',', expecting tCOLON2 or '[' or '.'
...on_select :style @styles, :id, :id
                              ^) on line #26 of app/views/bottles/_form.html.haml:
23:   %p
24:     = f.label :Drawer
25:     %br
26:     = f.collection_select :style @styles, :id, :id
27:   %p
28:     = f.label :source
29:     %br

    app/views/bottles/_form.html.haml:72:in `compile!'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (95.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:39:04) [GET]
Rendering template within layouts/application
Rendering bottles/new
ERROR: compiling _run_haml_app47views47bottles47_form46html46haml_locals_form_object RAISED compile error
/Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/_form.html.haml:26: syntax error, unexpected tIVAR, expecting ')'
Function body:           def _run_haml_app47views47bottles47_form46html46haml_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;form = local_assigns[:form];object = local_assigns[:object];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :preserve=>["textarea", "pre", "code"], :format=>:xhtml, :encoding=>nil, :attr_wrapper=>"'", :escape_html=>false, :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;; form_for @bottle do |f|;
_hamlout.push_text("#{_hamlout.format_script_false_false_false_false_false_true_false(( f.error_messages
));}\n<p>\n  #{
_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( f.label :display_name
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :display_name
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :full_name
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :full_name
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :brewery
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :brewery
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :country
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :country
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :abv
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :abv
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :Drawer
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.collection_select :style @styles
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :source
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :source
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :volume
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :volume
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :volume_unit
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :volume_unit
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :cost
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :cost
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :glass_type
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :glass_type
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :sales_tax
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :sales_tax
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :excise_tax
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :excise_tax
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :price
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :price
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :stock
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_field :stock
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :display
));}\n  <br />\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.check_box :display
));}\n</p>\n<p>\n  #{
_hamlout.format_script_false_false_false_false_false_true_false(( f.submit "Submit"
));}\n</p>\n", -1, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/_form.html.haml:72:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render_without_haml'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/lib/haml/helpers.rb:90:in `non_haml'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render_without_haml'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render_without_haml'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/brewer/.gem/ruby/1.8/gems/haml-3.0.16/rails/../lib/sass/plugin/rack.rb:41:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/brewer/Desktop/Rails/RailsPOS/app/views/bottles/_form.html.haml:26: syntax error, unexpected tIVAR, expecting ')') on line #26 of app/views/bottles/_form.html.haml:
23:   %p
24:     = f.label :Drawer
25:     %br
26:     = f.collection_select :style @styles
27:   %p
28:     = f.label :source
29:     %br

    app/views/bottles/_form.html.haml:72:in `compile!'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (97.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:39:13) [GET]
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (wrong number of arguments (2 for 4)) on line #26 of app/views/bottles/_form.html.haml:
23:   %p
24:     = f.label :Drawer
25:     %br
26:     = f.collection_select :style, @styles
27:   %p
28:     = f.label :source
29:     %br

    app/views/bottles/_form.html.haml:26:in `collection_select'
    app/views/bottles/_form.html.haml:26:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `call'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `form_for'
    haml (3.0.16) lib/haml/helpers.rb:588:in `call'
    haml (3.0.16) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:235:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (102.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:39:31) [GET]
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #26 of app/views/bottles/_form.html.haml:
23:   %p
24:     = f.label :Drawer
25:     %br
26:     = f.collection_select :style, @styles, :id, :id
27:   %p
28:     = f.label :source
29:     %br

    app/views/bottles/_form.html.haml:26:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `call'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `form_for'
    haml (3.0.16) lib/haml/helpers.rb:588:in `call'
    haml (3.0.16) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:235:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (50.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:40:16) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (9.3ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 83ms (View: 22, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:41:29) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (8.3ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 28ms (View: 21, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:41:31) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (8.5ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 28ms (View: 21, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:41:48) [GET]
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (undefined method `name' for {:name=>"Ales"}:Hash) on line #26 of app/views/bottles/_form.html.haml:
23:   %p
24:     = f.label :Drawer
25:     %br
26:     = f.collection_select :style, @styles, :name, :name
27:   %p
28:     = f.label :source
29:     %br

    app/views/bottles/_form.html.haml:26:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `call'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `form_for'
    haml (3.0.16) lib/haml/helpers.rb:588:in `call'
    haml (3.0.16) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:235:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (50.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 22:43:18) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 73ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2010-08-14 22:43:19) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.0ms)
Completed in 25ms (View: 10, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-14 22:43:29) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "user"=>{"password_confirmation"=>"1234", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"1234"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'justin catalana') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0fd409d84a372c2066be35ae7a725abd08a5ef81ef6d807c7c1250e141840d1e28446bc9888cdcf2a31fa995208264e3201946d3ef203e07c81ea55a1abdcb5d') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-15 05:43:29', '2118af4ae206e2ff3c0cc7e9d9c72646beb9a4c39f588d861aa410a90cda3b03596e7912932834f26259233b5da284474e97958db79116e89289ebbb3686d439', '2010-08-15 05:43:29', 'Justin Catalana', 'Admin', 'WW1vZwd1W9JLQw7anbk', '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b')[0m
Redirected to http://localhost:3000/
Completed in 203ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 22:43:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-08-14 22:43:32) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (2.2ms)
Completed in 19ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-14 22:43:43) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "user"=>{"password_confirmation"=>"1234", "role"=>"Admin", "username"=>"Tyler Catalana", "password"=>"1234"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'tyler catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '97da675c710853bd1357a30e2d7067efe519f4cfbc17e3bafa13491b3ded9a9a3c46c7e7705bc3606dca77d7a366183784471760f4926a4b01e592d64150de2b') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-15 05:43:43', 'de3d60a8294852538b566009c20165ea962dc3665427b8752b6c43974fe2c176055a3f8be3e3002d66968b277ca1f0daad6fba40cbcd37e037d5124684d1bfd7', '2010-08-15 05:43:43', 'Tyler Catalana', 'Admin', 'Oaf7gry4p9SXQzb9f835', '97da675c710853bd1357a30e2d7067efe519f4cfbc17e3bafa13491b3ded9a9a3c46c7e7705bc3606dca77d7a366183784471760f4926a4b01e592d64150de2b')[0m
Redirected to http://localhost:3000/
Completed in 21ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-14 22:43:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 3, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:47:43) [GET]
  [4;35;1mBottle Load (0.5ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 73ms (View: 67, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:47:44) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (13.1ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 35ms (View: 27, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:48:18) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (9.6ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 85ms (View: 23, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:48:29) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (8.7ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 30ms (View: 22, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 22:48:46) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"afsasd", "glass_type"=>"asdfaf", "volume_unit"=>"sdfa", "excise_tax"=>"dfsa", "brewery"=>"sdfa", "cost"=>"asdf", "country"=>"sdfaf", "stock"=>"fads", "sales_tax"=>"asdf", "display"=>"1", "volume"=>"sdafsdaf", "full_name"=>"sdfadsf", "display_name"=>"sdfas", "source"=>"fadsf", "style"=>"Lagers", "abv"=>"sdfa"}}
  [4;36;1mBottle Load (0.1ms)[0m   [0;1mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'sdfas') LIMIT 1[0m
  [4;35;1mBottle Create (0.3ms)[0m   [0mINSERT INTO "bottles" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "cost", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv", "style") VALUES('sdfa', 'asdfaf', 0, 'sdfa', 0.0, '2010-08-15 05:48:46', 'sdfaf', 0, '2010-08-15 05:48:46', 0.0, 0, 0.0, 't', 'sdfadsf', 'sdfas', 'fadsf', 0.0, 'Lagers')[0m
Redirected to http://localhost:3000/bottles/1
Completed in 15ms (DB: 0) | 302 Found [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 22:48:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBottle Load (0.3ms)[0m   [0;1mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 27ms (View: 17, DB: 1) | 200 OK [http://localhost/bottles/1]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 22:49:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBottle Load (0.3ms)[0m   [0mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 84ms (View: 76, DB: 1) | 200 OK [http://localhost/bottles/1]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:49:52) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#destroy (for 127.0.0.1 at 2010-08-14 22:49:54) [DELETE]
  Parameters: {"authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "id"=>"1"}
  [4;35;1mBottle Load (0.3ms)[0m   [0mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
  [4;36;1mVestalVersions::Version Delete all (0.3ms)[0m   [0;1mDELETE FROM "versions" WHERE ((versioned_id = 1) AND (versioned_type = 'Bottle')) [0m
  [4;35;1mBottle Destroy (0.1ms)[0m   [0mDELETE FROM "bottles" WHERE "id" = 1[0m
Redirected to http://localhost:3000/bottles
Completed in 68ms (DB: 1) | 302 Found [http://localhost/bottles/1]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:49:55) [GET]
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 22:50:34) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (13.3ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 92ms (View: 84, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 22:50:41) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"", "glass_type"=>"", "volume_unit"=>"", "excise_tax"=>"", "brewery"=>"N", "cost"=>"", "country"=>"", "stock"=>"", "sales_tax"=>"", "display"=>"0", "volume"=>"", "full_name"=>"India Pale Ale", "display_name"=>"Nøgne Ø IPA", "source"=>"", "style"=>"Ales", "abv"=>""}}
  [4;35;1mBottle Load (0.1ms)[0m   [0mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø IPA') LIMIT 1[0m
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #26 of app/views/bottles/_form.html.haml:
23:   %p
24:     = f.label :style
25:     %br
26:     = f.select :style, @styles
27:   %p
28:     = f.label :source
29:     %br

    app/views/bottles/_form.html.haml:26:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `call'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `form_for'
    haml (3.0.16) lib/haml/helpers.rb:588:in `call'
    haml (3.0.16) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:235:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    app/controllers/bottles_controller.rb:21:in `create'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (109.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 22:53:54) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"16", "glass_type"=>"Tulip", "volume_unit"=>"ml", "excise_tax"=>"0", "brewery"=>"Nøgne Ø", "cost"=>"5.40", "country"=>"no", "stock"=>"48", "sales_tax"=>".09", "display"=>"1", "volume"=>"500", "full_name"=>"India Pale Ale", "display_name"=>"Nøgne Ø IPA", "source"=>"Morris", "style"=>"Ales", "abv"=>"7.5 "}}
  [4;36;1mBottle Load (0.1ms)[0m   [0;1mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø IPA') LIMIT 1[0m
  [4;35;1mBottle Create (0.3ms)[0m   [0mINSERT INTO "bottles" ("volume_unit", "glass_type", "price", "brewery", "excise_tax", "created_at", "country", "cost", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv", "style") VALUES('ml', 'Tulip', 1600, 'Nøgne Ø', 0.0, '2010-08-15 05:53:54', 'no', 540, '2010-08-15 05:53:54', 0.09, 48, 500.0, 't', 'India Pale Ale', 'Nøgne Ø IPA', 'Morris', 7.5, 'Ales')[0m
Redirected to http://localhost:3000/bottles/2
Completed in 15ms (DB: 0) | 302 Found [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 22:53:54) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBottle Load (0.3ms)[0m   [0;1mSELECT * FROM "bottles" WHERE ("bottles"."id" = 2) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 85ms (View: 17, DB: 1) | 200 OK [http://localhost/bottles/2]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:53:56) [GET]
  [4;35;1mBottle Load (0.7ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 22:54:28) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 88ms (View: 26, DB: 1) | 200 OK [http://localhost/bottles]
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mBottle Load (0.5ms)[0m   [0;1mSELECT * FROM "bottles" ORDER BY bottles.id DESC LIMIT 1[0m
  [4;35;1mBottle Load (0.5ms)[0m   [0mSELECT * FROM "bottles" ORDER BY bottles.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 23:16:27) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBottle Load (0.3ms)[0m   [0mSELECT * FROM "bottles" WHERE ("bottles"."id" = 2) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 30ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles/2]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 23:16:39) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:16:41) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (7.9ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 79ms (View: 72, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:17:20) [GET]
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #26 of app/views/bottles/_form.html.haml:
23:   %p
24:     = f.label :style
25:     %br
26:     = f.select :style, @styles
27:   %p
28:     = f.label :source
29:     %br

    app/views/bottles/_form.html.haml:26:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `call'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `form_for'
    haml (3.0.16) lib/haml/helpers.rb:588:in `call'
    haml (3.0.16) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:235:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (112.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:19:40) [GET]
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #26 of app/views/bottles/_form.html.haml:
23:   %p
24:     = f.label :style
25:     %br
26:     = f.select :style, @beer_styles
27:   %p
28:     = f.label :source
29:     %br

    app/views/bottles/_form.html.haml:26:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `call'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `form_for'
    haml (3.0.16) lib/haml/helpers.rb:588:in `call'
    haml (3.0.16) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:235:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (110.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:19:53) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (14.5ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 94ms (View: 87, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:20:10) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (8.4ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 29ms (View: 21, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:21:34) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (12.8ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 96ms (View: 88, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:22:58) [GET]
Rendering template within layouts/application
Rendering bottles/new

ActionView::TemplateError (undefined local variable or method `beer_volumes' for #<ActionView::Base:0x1030e2d48>) on line #38 of app/views/bottles/_form.html.haml:
35:   %p
36:     = f.label :volume_unit
37:     %br
38:     = f.select :style, beer_volumes
39:   %p
40:     = f.label :cost
41:     %br

    app/views/bottles/_form.html.haml:38:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `call'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:229:in `form_for'
    haml (3.0.16) lib/haml/helpers.rb:588:in `call'
    haml (3.0.16) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:235:in `form_for'
    app/views/bottles/_form.html.haml:1:in `_run_haml_app47views47bottles47_form46html46haml_locals_form_object'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.16) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/bottles/new.html.haml:3:in `_run_haml_app47views47bottles47new46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (104.6ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:23:14) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (8.6ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 87ms (View: 79, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:25:43) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (12.8ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 35ms (View: 27, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:27:25) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (69.4ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
Completed in 92ms (View: 85, DB: 0) | 200 OK [http://localhost/bottles/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100814023012)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "role" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814023012')[0m
Migrating to CreateVestalVersions (20100814041913)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "versioned_id" integer, "versioned_type" varchar(255), "user_id" integer, "user_type" varchar(255), "user_name" varchar(255), "changes" text, "number" integer, "tag" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_versioned_id_and_versioned_type" ON "versions" ("versioned_id", "versioned_type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_user_id_and_user_type" ON "versions" ("user_id", "user_type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_user_name" ON "versions" ("user_name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_number" ON "versions" ("number")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_versions_on_tag" ON "versions" ("tag")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_versions_on_created_at" ON "versions" ("created_at")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814041913')[0m
Migrating to CreateMiscs (20100814053619)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "miscs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053619')[0m
Migrating to CreateFoods (20100814053639)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "foods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "cost" integer, "sales_tax" float, "price" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053639')[0m
Migrating to CreateBottles (20100814053704)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "bottles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "cost" integer, "glass_type" varchar(255), "sales_tax" float, "style" varchar(255), "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053704')[0m
Migrating to CreateDraughts (20100814053724)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "draughts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "display_name" varchar(255), "full_name" varchar(255), "brewery" varchar(255), "country" varchar(255), "abv" float, "source" varchar(255), "volume" float, "volume_unit" varchar(255), "keg_cost" integer, "serving_size" integer, "glass_type" varchar(255), "sales_tax" float, "style" varchar(255), "price" integer, "stock" integer, "display" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814053724')[0m
Migrating to CreatePurchases (20100814172832)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "tab_id" integer, "purchasable_id" integer, "purchasable_type" varchar(255), "alteration" varchar(255), "price" integer, "alteration_user_id" integer, "ordered" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814172832')[0m
Migrating to CreateTabs (20100814174003)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "tabs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "user_id" integer, "drawer_id" integer, "closed_at" datetime, "type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814174003')[0m
Migrating to CreateDrawers (20100814175230)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "drawers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "closed_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175230')[0m
Migrating to CreateTransactions (20100814175903)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "amount" integer, "user_id" integer, "tab_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814175903')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("bottles")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("draughts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("drawers")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("foods")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("miscs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("purchases")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("tabs")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_created_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_tag')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_number')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_user_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_versions_on_user_id_and_user_type')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_versions_on_versioned_id_and_versioned_type')[0m


Processing BottlesController#new (for 127.0.0.1 at 2010-08-14 23:30:07) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (7.7ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 29ms (View: 20, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 23:30:28) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"16", "brewery"=>"Nøgne Ø", "cost"=>"5.40", "country"=>"no", "stock"=>"48", "display"=>"1", "volume"=>"500", "full_name"=>"India Pale Ale", "display_name"=>"Nøgne Ø IPA", "style"=>"0.09", "abv"=>"7.5 "}}
  [4;36;1mBottle Load (0.1ms)[0m   [0;1mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø IPA') LIMIT 1[0m
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (12.3ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 35ms (View: 23, DB: 0) | 200 OK [http://localhost/bottles]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 23:31:27) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"1600.0", "brewery"=>"Nøgne Ø", "cost"=>"540.0", "country"=>"no", "stock"=>"48", "display"=>"1", "volume"=>"500", "full_name"=>"India Pale Ale", "display_name"=>"Nøgne Ø IPA", "style"=>"0.09", "abv"=>"7.5 "}}
  [4;35;1mBottle Load (0.2ms)[0m   [0mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø IPA') LIMIT 1[0m
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (17.8ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 97ms (View: 85, DB: 0) | 200 OK [http://localhost/bottles]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 23:31:31) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"1600.0", "brewery"=>"Nøgne Ø", "cost"=>"540.0", "country"=>"no", "stock"=>"48", "display"=>"1", "volume"=>"500", "full_name"=>"India Pale Ale", "display_name"=>"Nøgne Ø IPA", "style"=>"0.09", "abv"=>"7.5 "}}
  [4;36;1mBottle Load (0.1ms)[0m   [0;1mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø IPA') LIMIT 1[0m
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (13.4ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 35ms (View: 25, DB: 0) | 200 OK [http://localhost/bottles]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-14 23:31:34) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"XWDM7quult1OzVEohizHETKsaK5tQj8AQ6uRHFSxkVo=", "bottle"=>{"price"=>"160000.0", "glass_type"=>"Tulip", "volume_unit"=>"ml", "brewery"=>"Nøgne Ø", "cost"=>"54000.0", "country"=>"no", "stock"=>"48", "sales_tax"=>"0.09", "display"=>"1", "volume"=>"500", "full_name"=>"India Pale Ale", "display_name"=>"Nøgne Ø IPA", "source"=>"Morris Distributing", "style"=>"Ales", "abv"=>"7.5 "}}
  [4;35;1mBottle Load (0.1ms)[0m   [0mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø IPA') LIMIT 1[0m
  [4;36;1mBottle Create (0.4ms)[0m   [0;1mINSERT INTO "bottles" ("volume_unit", "glass_type", "price", "brewery", "created_at", "country", "cost", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv", "style") VALUES('ml', 'Tulip', 16000000, 'Nøgne Ø', '2010-08-15 06:31:34', 'no', 5400000, '2010-08-15 06:31:34', 0.09, 48, 500.0, 't', 'India Pale Ale', 'Nøgne Ø IPA', 'Morris Distributing', 7.5, 'Ales')[0m
Redirected to http://localhost:3000/bottles/1
Completed in 15ms (DB: 0) | 302 Found [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 23:31:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBottle Load (0.3ms)[0m   [0mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m

ActionView::TemplateError (undefined method `excise_tax' for #<Bottle:0x10304da90>) on line #44 of app/views/bottles/show.html.haml:
41:   =h @bottle.sales_tax
42: %p
43:   %strong Excise Tax:
44:   =h @bottle.excise_tax
45: %p
46:   %strong Price:
47:   =h @bottle.price

    app/views/bottles/show.html.haml:44:in `_run_haml_app47views47bottles47show46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (93.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#show (for 127.0.0.1 at 2010-08-14 23:32:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBottle Load (0.3ms)[0m   [0mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://localhost/bottles/1]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 23:32:32) [GET]
  [4;35;1mBottle Load (0.7ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 89ms (View: 82, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 23:33:03) [GET]
  [4;35;1mBottle Load (0.7ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 32ms (View: 25, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-14 23:33:33) [GET]
  [4;35;1mBottle Load (0.7ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5554a1a9d01db7831ed4a7ac445a39e8fd0f2298b98d546c96e84a365c3969ffefe33a37a5afbe8cd68f2f0a18342d4d11e3a3595acc5e1d985993df6576a34b') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 87ms (View: 25, DB: 1) | 200 OK [http://localhost/bottles]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-15 10:04:56) [GET]
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 77ms (View: 53, DB: 1) | 200 OK [http://localhost/purchases]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 10:04:58) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 25ms (View: 7, DB: 0) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:05:01) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 41ms (View: 31, DB: 1) | 200 OK [http://localhost/bottles]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 10:05:03) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 19ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2010-08-15 10:05:05) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.9ms)
Completed in 30ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-08-15 10:05:25) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "user"=>{"password_confirmation"=>"12345", "role"=>"Admin", "username"=>"Justin Catalana", "password"=>"12345"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (61.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'justin catalana') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "role", "password_salt", "persistence_token") VALUES('2010-08-15 17:05:25', 'c113c2d4e86b82defc6d6ae67980f915dde60a11c547c3609e33be10b23c269da498c889cc2d71a8fd35f2c64635cf36a39b5be1b210adb2fec7106664c63bc3', '2010-08-15 17:05:25', 'Justin Catalana', 'Admin', 'h95X5whENd5HMupsiFmR', 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b')[0m
Redirected to http://localhost:3000/
Completed in 248ms (DB: 63) | 302 Found [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 10:05:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 22ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#show (for 127.0.0.1 at 2010-08-15 10:05:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Completed in 23ms (View: 7, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2010-08-15 10:05:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (2.8ms)
Completed in 24ms (View: 8, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 10:05:40) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 19ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 10:08:05) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 37ms (View: 16, DB: 1) | 200 OK [http://localhost/users]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:08:41) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 112ms (View: 103, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:08:41) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 30ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:08:43) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 31ms (View: 22, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:08:57) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:08:59) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:10:21) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:10:30) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:10:50) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 1 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 86ms (View: 79, DB: 1) | 200 OK [http://localhost/bottles]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" LIMIT 1[0m


Processing BottlesController#destroy (for 127.0.0.1 at 2010-08-15 10:11:53) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;36;1mBottle Load (0.3ms)[0m   [0;1mSELECT * FROM "bottles" WHERE ("bottles"."id" = 1) [0m
  [4;35;1mVestalVersions::Version Delete all (0.3ms)[0m   [0mDELETE FROM "versions" WHERE ((versioned_id = 1) AND (versioned_type = 'Bottle')) [0m
  [4;36;1mBottle Destroy (0.1ms)[0m   [0;1mDELETE FROM "bottles" WHERE "id" = 1[0m
Redirected to http://localhost:3000/bottles
Completed in 13ms (DB: 1) | 302 Found [http://localhost/bottles/1]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:11:53) [GET]
  [4;35;1mBottle Load (0.6ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 22ms (View: 15, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-15 10:11:54) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (15.4ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 108ms (View: 36, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing BottlesController#create (for 127.0.0.1 at 2010-08-15 10:12:27) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "bottle"=>{"price"=>"22", "glass_type"=>"Tulip", "volume_unit"=>"ml", "brewery"=>"Nøgne Ø", "cost"=>"5.40", "country"=>"no", "stock"=>"48", "sales_tax"=>"0.09", "display"=>"1", "volume"=>"500", "full_name"=>"Saison ", "display_name"=>"Nøgne Ø Saison", "source"=>"Morris Distributing", "style"=>"Ales", "abv"=>"6.5"}}
  [4;36;1mBottle Load (0.1ms)[0m   [0;1mSELECT "bottles".id FROM "bottles" WHERE ("bottles"."display_name" = 'Nøgne Ø Saison') LIMIT 1[0m
  [4;35;1mBottle Create (0.3ms)[0m   [0mINSERT INTO "bottles" ("volume_unit", "glass_type", "price", "brewery", "created_at", "country", "cost", "updated_at", "sales_tax", "stock", "volume", "display", "full_name", "display_name", "source", "abv", "style") VALUES('ml', 'Tulip', 2200, 'Nøgne Ø', '2010-08-15 17:12:27', 'no', 540, '2010-08-15 17:12:27', 0.09, 48, 500.0, 't', 'Saison ', 'Nøgne Ø Saison', 'Morris Distributing', 6.5, 'Ales')[0m
Redirected to http://localhost:3000/bottles/2
Completed in 17ms (DB: 0) | 302 Found [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-15 10:12:27) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBottle Load (0.3ms)[0m   [0;1mSELECT * FROM "bottles" WHERE ("bottles"."id" = 2) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 98ms (View: 26, DB: 1) | 200 OK [http://localhost/bottles/2]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:12:31) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 28ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:12:40) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:12:41) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#show (for 127.0.0.1 at 2010-08-15 10:12:43) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBottle Load (0.3ms)[0m   [0;1mSELECT * FROM "bottles" WHERE ("bottles"."id" = 2) [0m
Rendering template within layouts/application
Rendering bottles/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 28ms (View: 19, DB: 1) | 200 OK [http://localhost/bottles/2]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:12:48) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 28ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 10:55:15) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 28ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 10:55:16) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 78ms (View: 61, DB: 0) | 200 OK [http://localhost/users]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 10:55:33) [GET]
  [4;35;1mDrawer Load (0.6ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-15 10:55:35) [GET]
Rendering template within layouts/application
Rendering drawers/new
Rendered drawers/_form (3.5ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 91ms (View: 86, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#create (for 127.0.0.1 at 2010-08-15 10:56:16) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "drawer"=>{"user_id"=>"1"}}
  [4;36;1mDrawer Create (0.3ms)[0m   [0;1mINSERT INTO "drawers" ("created_at", "updated_at", "user_id", "closed_at") VALUES('2010-08-15 17:56:16', '2010-08-15 17:56:16', 1, NULL)[0m
Redirected to http://localhost:3000/drawers/1
Completed in 11ms (DB: 0) | 302 Found [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 10:56:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 1) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 26ms (View: 20, DB: 0) | 200 OK [http://localhost/drawers/1]


Processing DrawersController#destroy (for 127.0.0.1 at 2010-08-15 10:56:46) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 1) [0m
  [4;36;1mDrawer Destroy (0.2ms)[0m   [0;1mDELETE FROM "drawers" WHERE "id" = 1[0m
Redirected to http://localhost:3000/drawers
Completed in 77ms (DB: 0) | 302 Found [http://localhost/drawers/1]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 10:56:46) [GET]
  [4;35;1mDrawer Load (0.6ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-15 10:56:48) [GET]
Rendering template within layouts/application
Rendering drawers/new
Rendered drawers/_form (2.4ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#create (for 127.0.0.1 at 2010-08-15 10:56:52) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "drawer"=>{"user_id"=>"1"}}
  [4;36;1mDrawer Create (0.3ms)[0m   [0;1mINSERT INTO "drawers" ("created_at", "updated_at", "user_id", "closed_at") VALUES('2010-08-15 17:56:52', '2010-08-15 17:56:52', 1, NULL)[0m
Redirected to http://localhost:3000/drawers/2
Completed in 11ms (DB: 0) | 302 Found [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 10:56:52) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 22ms (View: 15, DB: 0) | 200 OK [http://localhost/drawers/2]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 10:56:56) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 82ms (View: 76, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 10:57:35) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 10:59:39) [GET]
  [4;36;1mDrawer Load (0.7ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 90ms (View: 84, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-15 10:59:40) [GET]
Rendering template within layouts/application
Rendering drawers/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #6 of app/views/drawers/_form.html.haml:
3:   %p
4:     = f.label 'User'
5:     %br
6:     = f.collection_select :user_id, @users, :username, :id
7:   %p
8:     = f.submit "Submit"

    app/views/drawers/_form.html.haml:6:in `_run_haml_app47views47drawers47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/drawers/_form.html.haml:1:in `_run_haml_app47views47drawers47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/drawers/new.html.haml:3:in `_run_haml_app47views47drawers47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (120.5ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#new (for 127.0.0.1 at 2010-08-15 11:00:09) [GET]
Rendering template within layouts/application
Rendering drawers/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendered drawers/_form (14.9ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 28ms (View: 22, DB: 0) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-15 11:00:23) [GET]
Rendering template within layouts/application
Rendering drawers/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendered drawers/_form (77.4ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 91ms (View: 85, DB: 1) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#create (for 127.0.0.1 at 2010-08-15 11:00:27) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "drawer"=>{"user_id"=>"1"}}
  [4;35;1mDrawer Create (0.3ms)[0m   [0mINSERT INTO "drawers" ("created_at", "updated_at", "user_id", "closed_at") VALUES('2010-08-15 18:00:27', '2010-08-15 18:00:27', 1, NULL)[0m
Redirected to http://localhost:3000/drawers/3
Completed in 12ms (DB: 0) | 302 Found [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 11:00:27) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 3) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined method `usernmae' for #<ActiveRecord::Associations::BelongsToAssociation:0x1031f3bd8>) on line #8 of app/views/drawers/show.html.haml:
5:   =h @drawer.id
6: %p
7:   %strong User:
8:   =h @drawer.user.usernmae
9: %p
10:   %strong Closed At:
11:   - if @drawer.closed_at.blank?

    app/views/drawers/show.html.haml:8:in `_run_haml_app47views47drawers47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 11:00:44) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 3) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/drawers/3]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 11:00:56) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 3) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 27ms (View: 20, DB: 1) | 200 OK [http://localhost/drawers/3]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 11:01:11) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 3) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/drawers/3]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 11:01:15) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 85ms (View: 79, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 11:01:45) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 28ms (View: 22, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 11:02:43) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 96ms (View: 89, DB: 2) | 200 OK [http://localhost/drawers]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 11:04:59) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 34ms (View: 28, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 11:05:30) [GET]
  [4;35;1mDrawer Load (0.8ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 99ms (View: 30, DB: 2) | 200 OK [http://localhost/drawers]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 11:05:46) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 34ms (View: 28, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 11:06:12) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/drawers]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 11:06:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 11:06:19) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 89ms (View: 84, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 11:06:23) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/drawers/2]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 11:07:34) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 84ms (View: 77, DB: 1) | 200 OK [http://localhost/drawers/2]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 11:08:31) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined local variable or method `drawer' for #<ActionView::Base:0x1034051d8>) on line #17 of app/views/drawers/show.html.haml:
14:     =h @drawer.closed_at
15: %p
16:   %strong Tabs:
17:   =h link_to drawer.tabs.count, drawer_tabs_path
18: 
19: %p
20:   = link_to "Edit", edit_drawer_path(@drawer)

    app/views/drawers/show.html.haml:17:in `_run_haml_app47views47drawers47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (102.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 11:08:41) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m

ActionView::TemplateError (undefined local variable or method `drawer_tabs_path' for #<ActionView::Base:0x1034742b8>) on line #17 of app/views/drawers/show.html.haml:
14:     =h @drawer.closed_at
15: %p
16:   %strong Tabs:
17:   =h link_to @drawer.tabs.count, drawer_tabs_path
18: 
19: %p
20:   = link_to "Edit", edit_drawer_path(@drawer)

    app/views/drawers/show.html.haml:17:in `_run_haml_app47views47drawers47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (100.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 11:10:34) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m

ActionView::TemplateError (drawer_tabs_url failed to generate from {:controller=>"tabs", :action=>"index"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["drawers", :drawer_id, "tabs"] - are they all satisfied?) on line #17 of app/views/drawers/show.html.haml:
14:     =h @drawer.closed_at
15: %p
16:   %strong Tabs:
17:   =h link_to @drawer.tabs.count, drawer_tabs_path
18: 
19: %p
20:   = link_to "Edit", edit_drawer_path(@drawer)

    (eval):20:in `drawer_tabs_path'
    app/views/drawers/show.html.haml:17:in `_run_haml_app47views47drawers47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (40.2ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 12:44:14) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m

ActionView::TemplateError (drawer_tabs_url failed to generate from {:controller=>"tabs", :action=>"index"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["drawers", :drawer_id, "tabs"] - are they all satisfied?) on line #17 of app/views/drawers/show.html.haml:
14:     =h @drawer.closed_at
15: %p
16:   %strong Tabs:
17:   =h link_to @drawer.tabs.count, drawer_tabs_path
18: 
19: %p
20:   = link_to "Edit", edit_drawer_path(@drawer)

    (eval):20:in `drawer_tabs_path'
    app/views/drawers/show.html.haml:17:in `_run_haml_app47views47drawers47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (40.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 12:44:32) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 35ms (View: 28, DB: 1) | 200 OK [http://localhost/drawers/2]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 12:44:41) [GET]
  Parameters: {"drawer_id"=>"2"}
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/drawers/2/tabs]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 12:44:46) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/drawers/2]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 12:45:20) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 33ms (View: 27, DB: 1) | 200 OK [http://localhost/drawers/2]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 12:45:44) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 90ms (View: 84, DB: 1) | 200 OK [http://localhost/drawers/2]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 12:46:00) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDrawer Load (0.2ms)[0m   [0;1mSELECT * FROM "drawers" WHERE ("drawers"."id" = 2) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 31ms (View: 24, DB: 1) | 200 OK [http://localhost/drawers/2]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 12:46:01) [GET]
  Parameters: {"drawer_id"=>"2"}
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 83ms (View: 76, DB: 1) | 200 OK [http://localhost/drawers/2/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 12:46:03) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mDrawer Load (0.3ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (24.0ms)
Completed in 38ms (View: 31, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 12:46:09) [GET]
  [4;36;1mDrawer Load (0.7ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m

ActionView::TemplateError (drawer_tabs_url failed to generate from {:controller=>"tabs", :action=>"index"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["drawers", :drawer_id, "tabs"] - are they all satisfied?) on line #17 of app/views/drawers/index.html.haml:
14:         %td= "Open Drawer"
15:       -else
16:         %td= drawer.closed_at
17:       %td= link_to drawer.tabs.count, drawer_tabs_path
18:       %td= link_to 'Show', drawer
19:       %td= link_to 'Edit', edit_drawer_path(drawer)
20:       %td= link_to 'Destroy', drawer, :confirm => 'Are you sure?', :method => :delete

    (eval):20:in `drawer_tabs_path'
    app/views/drawers/index.html.haml:17:in `_run_haml_app47views47drawers47index46html46haml'
    app/views/drawers/index.html.haml:9:in `each'
    app/views/drawers/index.html.haml:9:in `_run_haml_app47views47drawers47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (39.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 12:46:31) [GET]
  [4;35;1mDrawer Load (0.9ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 34ms (View: 27, DB: 2) | 200 OK [http://localhost/drawers]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 12:46:33) [GET]

ActionController::RoutingError (No route matches "/drawers//tabs" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 12:46:52) [GET]

ActionController::RoutingError (No route matches "/drawers//tabs" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 12:46:54) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 34ms (View: 28, DB: 1) | 200 OK [http://localhost/drawers]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 12:46:56) [GET]
  Parameters: {"drawer_id"=>"3"}
  [4;35;1mTab Load (0.6ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/drawers/3/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 12:46:57) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (25.2ms)
Completed in 34ms (View: 26, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 12:47:08) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 84ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 12:57:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m

ActionView::TemplateError (undefined method `user_drawers_path' for #<ActionView::Base:0x10338bd38>) on line #19 of app/views/users/index.html.haml:
16:       %td= h user.id
17:       %td= h user.username
18:       %td= h user.role
19:       %td= link_to user.drawers.count, user_drawers_path(user)
20:       
21:       %td= link_to 'Show', user
22:       -if can? :manage, :users

    app/views/users/index.html.haml:19:in `_run_haml_app47views47users47index46html46haml'
    app/views/users/index.html.haml:14:in `each'
    app/views/users/index.html.haml:14:in `_run_haml_app47views47users47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (100.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 12:58:39) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m

ActionView::TemplateError (undefined method `user_drawers_path' for #<ActionView::Base:0x102fe7100>) on line #19 of app/views/users/index.html.haml:
16:       %td= h user.id
17:       %td= h user.username
18:       %td= h user.role
19:       %td= link_to user.drawers.count, user_drawers_path(user)
20:       
21:       %td= link_to 'Show', user
22:       -if can? :manage, :users

    app/views/users/index.html.haml:19:in `_run_haml_app47views47users47index46html46haml'
    app/views/users/index.html.haml:14:in `each'
    app/views/users/index.html.haml:14:in `_run_haml_app47views47users47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (37.9ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 12:58:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m

ActionView::TemplateError (undefined method `user_drawers_path' for #<ActionView::Base:0x102f2ad70>) on line #19 of app/views/users/index.html.haml:
16:       %td= h user.id
17:       %td= h user.username
18:       %td= h user.role
19:       %td= link_to user.drawers.count, user_drawers_path(user)
20:       
21:       %td= link_to 'Show', user
22:       -if can? :manage, :users

    app/views/users/index.html.haml:19:in `_run_haml_app47views47users47index46html46haml'
    app/views/users/index.html.haml:14:in `each'
    app/views/users/index.html.haml:14:in `_run_haml_app47views47users47index46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (36.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 13:03:22) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
Completed in 28ms (View: 11, DB: 1) | 200 OK [http://localhost/users]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 13:03:34) [GET]
  Parameters: {"user_id"=>"1"}
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 34ms (View: 27, DB: 1) | 200 OK [http://localhost/users/1/drawers]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 13:03:37) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
Completed in 83ms (View: 66, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 13:04:40) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".user_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".user_id = 1) [0m
Completed in 42ms (View: 23, DB: 1) | 200 OK [http://localhost/users]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:04:43) [GET]
  Parameters: {"user_id"=>"1"}
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 92ms (View: 86, DB: 1) | 200 OK [http://localhost/users/1/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-15 13:04:46) [GET]
  Parameters: {"user_id"=>"1"}
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 25ms (View: 19, DB: 1) | 200 OK [http://localhost/users/1/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-15 13:04:51) [GET]
  Parameters: {"user_id"=>"1"}
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 89ms (View: 84, DB: 1) | 200 OK [http://localhost/users/1/purchases]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 13:06:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".user_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".user_id = 1) [0m
Completed in 35ms (View: 18, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2010-08-15 13:06:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show

ActionView::TemplateError (undefined local variable or method `user' for #<ActionView::Base:0x1036912a8>) on line #14 of app/views/users/show.html.haml:
11:   =h @user.password
12: %p
13:   %strong Drawers:
14:   = link_to user.drawers.count, user_drawers_path(@user)
15: %p
16:   %strong Tabs:
17:   = link_to user.tabs.count, user_tabs_path(@user)

    app/views/users/show.html.haml:14:in `_run_haml_app47views47users47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2010-08-15 13:06:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".user_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".user_id = 1) [0m
Completed in 108ms (View: 23, DB: 1) | 200 OK [http://localhost/users/1]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-15 13:06:46) [GET]
  Parameters: {"user_id"=>"1"}
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/users/1/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-15 13:06:49) [GET]
  Parameters: {"user_id"=>"1"}
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/users/1/transactions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-15 13:14:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".user_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".user_id = 1) [0m
Completed in 92ms (View: 75, DB: 1) | 200 OK [http://localhost/users]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-15 13:14:22) [GET]
  [4;36;1mDrawer Load (0.7ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 28ms (View: 22, DB: 1) | 200 OK [http://localhost/drawers]


Processing DrawersController#new (for 127.0.0.1 at 2010-08-15 13:14:25) [GET]
Rendering template within layouts/application
Rendering drawers/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendered drawers/_form (82.9ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 101ms (View: 95, DB: 1) | 200 OK [http://localhost/drawers/new]


Processing DrawersController#create (for 127.0.0.1 at 2010-08-15 13:14:28) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "drawer"=>{"user_id"=>"1"}}
  [4;36;1mDrawer Create (0.4ms)[0m   [0;1mINSERT INTO "drawers" ("created_at", "updated_at", "user_id", "closed_at") VALUES('2010-08-15 20:14:28', '2010-08-15 20:14:28', 1, NULL)[0m
Redirected to http://localhost:3000/drawers/4
Completed in 13ms (DB: 0) | 302 Found [http://localhost/drawers]


Processing DrawersController#show (for 127.0.0.1 at 2010-08-15 13:14:28) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mDrawer Load (0.2ms)[0m   [0mSELECT * FROM "drawers" WHERE ("drawers"."id" = 4) [0m
Rendering template within layouts/application
Rendering drawers/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 34ms (View: 27, DB: 1) | 200 OK [http://localhost/drawers/4]
  [4;36;1mDrawer Load (0.6ms)[0m   [0;1mSELECT * FROM "drawers" ORDER BY drawers.id DESC LIMIT 1[0m


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:17:47) [GET]
  [4;35;1mTab Load (0.6ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 23ms (View: 15, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 13:17:49) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (85.2ms)
Completed in 99ms (View: 92, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 13:20:45) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mDrawer Load (0.4ms)[0m   [0;1mSELECT * FROM "drawers" [0m

ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #14 of app/views/tabs/_form.html.haml:
11:   %p
12:     = f.label :Type
13:     %br
14:     = f.select tab_types
15:   %p
16:     = f.submit "Submit"

    app/views/tabs/_form.html.haml:14:in `select'
    app/views/tabs/_form.html.haml:14:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/tabs/_form.html.haml:1:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/tabs/new.html.haml:3:in `_run_haml_app47views47tabs47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (48.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 13:21:01) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (101.5ms)
Completed in 113ms (View: 106, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 13:21:08) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Joe", "user_id"=>"1", "type_helper"=>"Sale", "drawer_id"=>"2"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Joe', '2010-08-15 20:21:08', '2010-08-15 20:21:08', 1, 'Sale', NULL, 2)[0m
Redirected to http://localhost:3000/tabs/1
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 13:21:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 1) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 94ms (View: 86, DB: 1) | 200 OK [http://localhost/tabs/1]
  [4;35;1mTab Load (0.3ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;35;1mTab Load (0.4ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Load (0.6ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mTab Load (0.5ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 13:32:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 1) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 104ms (View: 91, DB: 1) | 200 OK [http://localhost/tabs/1]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:33:18) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 47ms (View: 38, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:33:38) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 41ms (View: 31, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:33:49) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 103ms (View: 94, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:35:09) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 99ms (View: 90, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:35:16) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 39ms (View: 30, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 13:35:20) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (26.1ms)
Completed in 108ms (View: 34, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 13:35:40) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"", "user_id"=>"1", "type_helper"=>"Register", "drawer_id"=>"2"}}
  [4;35;1mTab Create (0.4ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('', '2010-08-15 20:35:40', '2010-08-15 20:35:40', 1, 'Register', NULL, 2)[0m
Redirected to http://localhost:3000/tabs/2
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 13:35:40) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 2) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 26ms (View: 17, DB: 0) | 200 OK [http://localhost/tabs/2]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:35:41) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 97ms (View: 86, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:38:59) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 39ms (View: 28, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 13:39:00) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mDrawer Load (0.3ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (24.9ms)
Completed in 99ms (View: 92, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 13:39:12) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Jop", "user_id"=>"1", "type_helper"=>"Bull", "drawer_id"=>"2"}}
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Jop', '2010-08-15 20:39:12', '2010-08-15 20:39:12', 1, 'Bull', NULL, 2)[0m
Redirected to http://localhost:3000/tabs/3
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 13:39:12) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 3) [0m

ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'Bull'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Tab.inheritance_column to use another column for that information.):
  app/controllers/tabs_controller.rb:7:in `show'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (32.1ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 13:39:23) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Jop", "user_id"=>"1", "type_helper"=>"Quick", "drawer_id"=>"2"}}
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Jop', '2010-08-15 20:39:23', '2010-08-15 20:39:23', 1, 'Quick', NULL, 2)[0m
Redirected to http://localhost:3000/tabs/4
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 13:39:23) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 4) [0m
Rendering template within layouts/application
Rendering tabs/show

ActionView::TemplateError (undefined method `quick_path' for #<ActionView::Base:0x102e59360>) on line #22 of app/views/tabs/show.html.haml:
19: %p
20:   = link_to "Edit", edit_tab_path(@tab)
21:   |
22:   = link_to "Destroy", @tab, :confirm => 'Are you sure?', :method => :delete
23:   |
24:   = link_to "View All", tabs_path

    app/views/tabs/show.html.haml:22:in `_run_haml_app47views47tabs47show46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (37.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 13:40:08) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 4) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 25ms (View: 16, DB: 0) | 200 OK [http://localhost/tabs/4]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:40:10) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m

ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'Bull'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Tab.inheritance_column to use another column for that information.):
  app/controllers/tabs_controller.rb:3:in `index'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (93.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;35;1mQuick Destroy (0.4ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 4[0m
  [4;36;1mTab Load (0.5ms)[0m   [0;1mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;35;1mTab Load (0.4ms)[0m   [0mSELECT * FROM "tabs" ORDER BY tabs.id DESC LIMIT 1[0m
  [4;36;1mTab Destroy (0.3ms)[0m   [0;1mDELETE FROM "tabs" WHERE "id" = 3[0m


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:41:09) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 38ms (View: 27, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-15 13:41:14) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"2"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 2) [0m
  [4;36;1mRegister Destroy (0.2ms)[0m   [0;1mDELETE FROM "tabs" WHERE "id" = 2[0m
Redirected to http://localhost:3000/tabs
Completed in 13ms (DB: 0) | 302 Found [http://localhost/registers/2]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 13:41:14) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 33ms (View: 24, DB: 1) | 200 OK [http://localhost/tabs]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-15 13:41:23) [GET]
  Parameters: {"tab_id"=>"1"}
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/tabs/1/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-15 13:41:27) [GET]
  Parameters: {"tab_id"=>"1"}
  [4;35;1mTransaction Load (0.6ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 25ms (View: 20, DB: 1) | 200 OK [http://localhost/tabs/1/transactions]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:01:43) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 398ms (View: 389, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:02:03) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 95ms (View: 86, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:02:04) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (22.2ms)
Completed in 31ms (View: 24, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 14:02:08) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Slim", "user_id"=>"1", "type_helper"=>"Quick", "drawer_id"=>"2"}}
WARNING: Can't mass-assign these protected attributes: type_helper
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Slim', '2010-08-15 21:02:08', '2010-08-15 21:02:08', 1, NULL, NULL, 2)[0m
Redirected to http://localhost:3000/tabs/5
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 14:02:08) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 5) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 24ms (View: 16, DB: 0) | 200 OK [http://localhost/tabs/5]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:02:09) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 99ms (View: 90, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:02:39) [GET]

SyntaxError (/Users/justin/Desktop/Rails/RailsPOS/app/models/tab.rb:7: syntax error, unexpected ':', expecting kEND
  attr_accessible :name, :user_id, :closed_at, :type :drawer_id
                                                      ^):
  app/controllers/tabs_controller.rb:3:in `index'
  haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (32.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:02:59) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 38ms (View: 28, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:03:02) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mDrawer Load (0.3ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (86.7ms)
Completed in 97ms (View: 90, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 14:03:07) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Spill", "type"=>"Quick", "user_id"=>"1", "drawer_id"=>"2"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Spill', '2010-08-15 21:03:07', '2010-08-15 21:03:07', 1, NULL, NULL, 2)[0m
Redirected to http://localhost:3000/tabs/6
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 14:03:07) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 6) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 87ms (View: 80, DB: 1) | 200 OK [http://localhost/tabs/6]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:03:09) [GET]
  [4;35;1mTab Load (0.8ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 39ms (View: 29, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:03:16) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (23.9ms)
Completed in 97ms (View: 25, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 14:03:20) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Joker", "type"=>"Quick", "user_id"=>"1", "drawer_id"=>"2"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Joker', '2010-08-15 21:03:20', '2010-08-15 21:03:20', 1, NULL, NULL, 2)[0m
Redirected to http://localhost:3000/tabs/7
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 14:03:21) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 7) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 89ms (View: 17, DB: 1) | 200 OK [http://localhost/tabs/7]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:03:26) [GET]
  [4;36;1mTab Load (0.9ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 7) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 98ms (View: 88, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:03:43) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mDrawer Load (0.3ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (24.9ms)
Completed in 36ms (View: 29, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 14:03:53) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Batman", "user_id"=>"1", "type_helper"=>"Quick", "drawer_id"=>"2"}}
  [4;36;1mTab Create (0.3ms)[0m   [0;1mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Batman', '2010-08-15 21:03:53', '2010-08-15 21:03:53', 1, 'Quick', NULL, 2)[0m
Redirected to http://localhost:3000/tabs/8
Completed in 81ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 14:03:53) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 8) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 25ms (View: 16, DB: 1) | 200 OK [http://localhost/tabs/8]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:03:55) [GET]
  [4;35;1mTab Load (0.9ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 8) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 8) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 106ms (View: 94, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-15 14:03:58) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"5"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 5) [0m
  [4;36;1mTab Destroy (0.2ms)[0m   [0;1mDELETE FROM "tabs" WHERE "id" = 5[0m
Redirected to http://localhost:3000/tabs
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs/5]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:03:58) [GET]
  [4;35;1mTab Load (0.9ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 8) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 8) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 110ms (View: 98, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-15 14:04:06) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"6"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 6) [0m
  [4;36;1mTab Destroy (0.2ms)[0m   [0;1mDELETE FROM "tabs" WHERE "id" = 6[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/6]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:04:06) [GET]
  [4;35;1mTab Load (0.8ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 8) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 8) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 104ms (View: 93, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-15 14:04:07) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"7"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 7) [0m
  [4;36;1mTab Destroy (0.2ms)[0m   [0;1mDELETE FROM "tabs" WHERE "id" = 7[0m
Redirected to http://localhost:3000/tabs
Completed in 11ms (DB: 0) | 302 Found [http://localhost/tabs/7]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:04:07) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 8) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 8) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 104ms (View: 93, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-15 14:04:13) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"8"}
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 8) [0m
  [4;36;1mQuick Destroy (0.2ms)[0m   [0;1mDELETE FROM "tabs" WHERE "id" = 8[0m
Redirected to http://localhost:3000/tabs
Completed in 14ms (DB: 0) | 302 Found [http://localhost/quicks/8]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:04:13) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 96ms (View: 87, DB: 1) | 200 OK [http://localhost/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-15 14:04:23) [GET]
  [4;35;1mTransaction Load (0.6ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://localhost/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-15 14:04:24) [GET]
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 85ms (View: 79, DB: 1) | 200 OK [http://localhost/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-15 14:04:25) [GET]
  [4;35;1mTransaction Load (0.6ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/transactions]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:04:27) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 98ms (View: 89, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:05:01) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (22.2ms)
Completed in 31ms (View: 24, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:06:01) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `name' for #<User:0x103407be0>) on line #10 of app/views/tabs/_form.html.haml:
7:   %p
8:     = f.label 'Cashier'
9:     %br  
10:     = f.collection_select :user_id, User.all, :name, :id
11:   %p
12:     = f.label :Drawer
13:     = f.collection_select :drawer_id, Drawer.all, :id, :id

    app/views/tabs/_form.html.haml:10:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/tabs/_form.html.haml:1:in `_run_haml_app47views47tabs47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/tabs/new.html.haml:3:in `_run_haml_app47views47tabs47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (113.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:07:48) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mDrawer Load (0.3ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (21.4ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 36ms (View: 29, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:07:59) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
  [4;36;1mDrawer Load (0.3ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendered tabs/_form (22.2ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 37ms (View: 30, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:08:12) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mDrawer Load (0.3ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (23.9ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 101ms (View: 94, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 14:09:28) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Joseph", "user_id"=>"1", "type_helper"=>"Sale", "drawer_id"=>"2"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Joseph', '2010-08-15 21:09:28', '2010-08-15 21:09:28', 1, 'Sale', NULL, 2)[0m
Redirected to http://localhost:3000/tabs/9
Completed in 13ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 14:09:28) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 9) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 182ms (View: 20, DB: 1) | 200 OK [http://localhost/tabs/9]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:09:30) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 9) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 35ms (View: 26, DB: 2) | 200 OK [http://localhost/tabs]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-15 14:09:33) [GET]
  Parameters: {"tab_id"=>"9"}
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/tabs/9/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-15 14:09:37) [GET]
  Parameters: {"tab_id"=>"9"}
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/tabs/9/transactions]


Processing TabsController#destroy (for 127.0.0.1 at 2010-08-15 14:09:46) [DELETE]
  Parameters: {"authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "id"=>"1"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 1) [0m
  [4;35;1mSale Destroy (0.2ms)[0m   [0mDELETE FROM "tabs" WHERE "id" = 1[0m
Redirected to http://localhost:3000/tabs
Completed in 14ms (DB: 0) | 302 Found [http://localhost/sales/1]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:09:46) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 9) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 34ms (View: 25, DB: 1) | 200 OK [http://localhost/tabs]


Processing TabsController#new (for 127.0.0.1 at 2010-08-15 14:09:47) [GET]
Rendering template within layouts/application
Rendering tabs/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mDrawer Load (0.3ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendered tabs/_form (20.5ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 96ms (View: 25, DB: 1) | 200 OK [http://localhost/tabs/new]


Processing TabsController#create (for 127.0.0.1 at 2010-08-15 14:10:12) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "tab"=>{"name"=>"Samuel", "user_id"=>"1", "type_helper"=>"Sale", "drawer_id"=>"2"}}
  [4;35;1mTab Create (0.3ms)[0m   [0mINSERT INTO "tabs" ("name", "created_at", "updated_at", "user_id", "type", "closed_at", "drawer_id") VALUES('Samuel', '2010-08-15 21:10:12', '2010-08-15 21:10:12', 1, 'Sale', NULL, 2)[0m
Redirected to http://localhost:3000/tabs/10
Completed in 12ms (DB: 0) | 302 Found [http://localhost/tabs]


Processing TabsController#show (for 127.0.0.1 at 2010-08-15 14:10:12) [GET]
  Parameters: {"id"=>"10"}
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 10) [0m
Rendering template within layouts/application
Rendering tabs/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 90ms (View: 17, DB: 0) | 200 OK [http://localhost/tabs/10]


Processing TabsController#index (for 127.0.0.1 at 2010-08-15 14:10:13) [GET]
  [4;36;1mTab Load (0.8ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 9) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 35ms (View: 26, DB: 2) | 200 OK [http://localhost/tabs]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 14:10:23) [GET]
  [4;36;1mBottle Load (0.8ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 41ms (View: 31, DB: 1) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-15 14:10:28) [GET]
  [4;35;1mDraught Load (0.6ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 93ms (View: 85, DB: 1) | 200 OK [http://localhost/draughts]


Processing DraughtsController#new (for 127.0.0.1 at 2010-08-15 14:10:29) [GET]
Rendering template within layouts/application
Rendering draughts/new

ActionView::TemplateError (undefined method `excise_tax' for #<Draught:0x103399398>) on line #54 of app/views/draughts/_form.html.haml:
51:   %p
52:     = f.label :excise_tax
53:     %br
54:     = f.text_field :excise_tax
55:   %p
56:     = f.label :price
57:     %br

    app/views/draughts/_form.html.haml:54:in `_run_haml_app47views47draughts47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `call'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:202:in `form_for'
    haml (2.2.23) lib/haml/helpers.rb:573:in `call'
    haml (2.2.23) lib/haml/helpers.rb:573:in `haml_bind_proc'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:208:in `form_for'
    app/views/draughts/_form.html.haml:1:in `_run_haml_app47views47draughts47_form46html46haml_locals_form_object'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (2.2.23) lib/haml/helpers.rb:96:in `non_haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/draughts/new.html.haml:3:in `_run_haml_app47views47draughts47new46html46haml'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.23) rails/./lib/sass/plugin/rails.rb:20:in `process'

Rendered rescues/_trace (122.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BottlesController#index (for 127.0.0.1 at 2010-08-15 14:10:33) [GET]
  [4;35;1mBottle Load (0.8ms)[0m   [0mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/bottles]


Processing BottlesController#new (for 127.0.0.1 at 2010-08-15 14:10:35) [GET]
Rendering template within layouts/application
Rendering bottles/new
Rendered bottles/_form (15.0ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 113ms (View: 36, DB: 0) | 200 OK [http://localhost/bottles/new]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-15 14:10:41) [GET]
  [4;35;1mDraught Load (0.6ms)[0m   [0mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 22ms (View: 14, DB: 1) | 200 OK [http://localhost/draughts]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-15 14:11:14) [GET]
  [4;35;1mTransaction Load (0.6ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/transactions]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-15 14:11:16) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendered transactions/_form (89.7ms)
Completed in 103ms (View: 97, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-15 14:16:58) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;36;1mTab Load (0.4ms)[0m   [0;1mSELECT * FROM "tabs" [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendered transactions/_form (96.2ms)
Completed in 106ms (View: 100, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#new (for 127.0.0.1 at 2010-08-15 14:17:10) [GET]
Rendering template within layouts/application
Rendering transactions/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
  [4;35;1mTab Load (0.4ms)[0m   [0mSELECT * FROM "tabs" [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendered transactions/_form (95.1ms)
Completed in 106ms (View: 99, DB: 1) | 200 OK [http://localhost/transactions/new]


Processing TransactionsController#create (for 127.0.0.1 at 2010-08-15 14:17:22) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"+mBBtVMC+/wEKbYqMBaN3hFcyc95mQRfc7cb4pjsC8Q=", "transaction"=>{"amount"=>"10", "user_id"=>"1", "type_helper"=>"CashDeposit", "tab_id"=>"9"}}
  [4;35;1mTransaction Create (0.3ms)[0m   [0mINSERT INTO "transactions" ("created_at", "updated_at", "amount", "type", "user_id", "tab_id") VALUES('2010-08-15 21:17:22', '2010-08-15 21:17:22', 1000, 'CashDeposit', 1, 9)[0m
Redirected to http://localhost:3000/transactions/1
Completed in 12ms (DB: 0) | 302 Found [http://localhost/transactions]


Processing TransactionsController#show (for 127.0.0.1 at 2010-08-15 14:17:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "transactions" WHERE ("transactions"."id" = 1) [0m
Rendering template within layouts/application
Rendering transactions/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 9) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 37ms (View: 28, DB: 1) | 200 OK [http://localhost/transactions/1]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-15 14:17:24) [GET]
  [4;36;1mTransaction Load (0.7ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 9) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'ca46ab5c14f73c623a665ff93cfe0c0e87b1a29b5dcd55270dacbb9512ed040f25d4d8bd605a3ce7be22943ef309e7b94cd6e57ce2839a763be1e17e012e438b') LIMIT 1[0m
Completed in 120ms (View: 112, DB: 1) | 200 OK [http://localhost/transactions]


Processing UsersController#index (for 127.0.0.1 at 2010-08-16 19:50:16) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".user_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".user_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".user_id = 1) [0m
Completed in 104ms (View: 84, DB: 1) | 200 OK [http://localhost/]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-16 19:50:20) [GET]
  Parameters: {"user_id"=>"1"}
  [4;35;1mPurchase Load (0.5ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://localhost/users/1/purchases]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-16 19:50:22) [GET]
  Parameters: {"user_id"=>"1"}
  [4;36;1mTransaction Load (1.1ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 9) [0m
Completed in 138ms (View: 130, DB: 2) | 200 OK [http://localhost/users/1/transactions]


Processing TabsController#index (for 127.0.0.1 at 2010-08-16 19:50:25) [GET]
  Parameters: {"user_id"=>"1"}
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 9) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 9) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
Completed in 37ms (View: 28, DB: 1) | 200 OK [http://localhost/users/1/tabs]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-16 19:50:28) [GET]
  Parameters: {"user_id"=>"1"}
  [4;36;1mDrawer Load (0.6ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 4) [0m
Completed in 31ms (View: 25, DB: 1) | 200 OK [http://localhost/users/1/drawers]


Processing TabsController#index (for 127.0.0.1 at 2010-08-16 19:50:30) [GET]
  Parameters: {"drawer_id"=>"2"}
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
Completed in 78ms (View: 70, DB: 1) | 200 OK [http://localhost/drawers/2/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-16 19:50:38) [GET]
  Parameters: {"tab_id"=>"9"}
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 9) [0m
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://localhost/tabs/9/transactions]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-16 19:50:44) [GET]
  [4;35;1mTransaction Load (0.6ms)[0m   [0mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mTab Load (0.2ms)[0m   [0mSELECT * FROM "tabs" WHERE ("tabs"."id" = 9) [0m
Completed in 79ms (View: 72, DB: 1) | 200 OK [http://localhost/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-16 19:50:45) [GET]
  [4;36;1mPurchase Load (0.5ms)[0m   [0;1mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/purchases]


Processing UsersController#index (for 127.0.0.1 at 2010-08-16 19:50:46) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".user_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".user_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".user_id = 1) [0m
Completed in 83ms (View: 69, DB: 1) | 200 OK [http://localhost/users]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-16 19:50:46) [GET]
  [4;36;1mDrawer Load (0.7ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 4) [0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/drawers]


Processing TabsController#index (for 127.0.0.1 at 2010-08-16 19:50:47) [GET]
  [4;35;1mTab Load (0.7ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 9) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
Completed in 85ms (View: 77, DB: 2) | 200 OK [http://localhost/tabs]


Processing TabsController#index (for 127.0.0.1 at 2010-08-16 19:50:47) [GET]
  [4;36;1mTab Load (0.7ms)[0m   [0;1mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 9) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://localhost/tabs]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-16 19:50:48) [GET]
  [4;35;1mDrawer Load (0.7ms)[0m   [0mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 4) [0m
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/drawers]


Processing UsersController#index (for 127.0.0.1 at 2010-08-16 19:50:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".user_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".user_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".user_id = 1) [0m
Completed in 78ms (View: 63, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-16 21:41:00) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".user_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".user_id = 1) [0m
Completed in 105ms (View: 83, DB: 2) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-08-16 21:41:03) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "drawers" WHERE ("drawers".user_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".user_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".user_id = 1) [0m
Completed in 31ms (View: 17, DB: 1) | 200 OK [http://localhost/users]


Processing DrawersController#index (for 127.0.0.1 at 2010-08-16 21:41:03) [GET]
  [4;36;1mDrawer Load (0.7ms)[0m   [0;1mSELECT * FROM "drawers" [0m
Rendering template within layouts/application
Rendering drawers/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "tabs" WHERE ("tabs".drawer_id = 4) [0m
Completed in 85ms (View: 27, DB: 1) | 200 OK [http://localhost/drawers]


Processing TabsController#index (for 127.0.0.1 at 2010-08-16 21:41:04) [GET]
  [4;35;1mTab Load (0.9ms)[0m   [0mSELECT * FROM "tabs" [0m
Rendering template within layouts/application
Rendering tabs/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "purchases" WHERE ("purchases".tab_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "transactions" WHERE ("transactions".tab_id = 10) [0m
Completed in 104ms (View: 92, DB: 1) | 200 OK [http://localhost/tabs]


Processing TransactionsController#index (for 127.0.0.1 at 2010-08-16 21:41:04) [GET]
  [4;36;1mTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM "transactions" [0m
Rendering template within layouts/application
Rendering transactions/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mTab Load (0.2ms)[0m   [0;1mSELECT * FROM "tabs" WHERE ("tabs"."id" = 9) [0m
Completed in 80ms (View: 73, DB: 1) | 200 OK [http://localhost/transactions]


Processing PurchasesController#index (for 127.0.0.1 at 2010-08-16 21:41:05) [GET]
  [4;35;1mPurchase Load (0.5ms)[0m   [0mSELECT * FROM "purchases" [0m
Rendering template within layouts/application
Rendering purchases/index
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://localhost/purchases]


Processing BottlesController#index (for 127.0.0.1 at 2010-08-16 21:41:05) [GET]
  [4;36;1mBottle Load (0.7ms)[0m   [0;1mSELECT * FROM "bottles" [0m
Rendering template within layouts/application
Rendering bottles/index
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT max("versions".number) AS max_number FROM "versions" WHERE ("versions".versioned_id = 2 AND "versions".versioned_type = 'Bottle') [0m
Completed in 34ms (View: 24, DB: 2) | 200 OK [http://localhost/bottles]


Processing DraughtsController#index (for 127.0.0.1 at 2010-08-16 21:41:06) [GET]
  [4;36;1mDraught Load (0.5ms)[0m   [0;1mSELECT * FROM "draughts" [0m
Rendering template within layouts/application
Rendering draughts/index
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/draughts]


Processing FoodsController#index (for 127.0.0.1 at 2010-08-16 21:41:07) [GET]
  [4;35;1mFood Load (0.5ms)[0m   [0mSELECT * FROM "foods" [0m
Rendering template within layouts/application
Rendering foods/index
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/foods]


Processing MiscsController#index (for 127.0.0.1 at 2010-08-16 21:41:08) [GET]
  [4;36;1mMisc Load (0.5ms)[0m   [0;1mSELECT * FROM "miscs" [0m
Rendering template within layouts/application
Rendering miscs/index
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/miscs]


Processing IpadsController#index (for 127.0.0.1 at 2010-08-16 21:41:11) [GET]
Rendering template within layouts/ipad
Rendering ipads/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #6 of app/views/ipads/index.html.haml:
3: %table
4:   %tr
5:     %th Name
6:   - for ipad in @ipads
7:     %tr
8:       %td= h ipad.name
9:       %td= link_to 'Show', ipad

    app/views/ipads/index.html.haml:6:in `_run_haml_app47views47ipads47index46html46haml'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.16) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (86.3ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing IpadsController#index (for 127.0.0.1 at 2010-08-16 21:42:00) [GET]
Rendering template within layouts/ipad
Rendering ipads/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/ipad]
